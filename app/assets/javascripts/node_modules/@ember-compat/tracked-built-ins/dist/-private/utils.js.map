{"version":3,"file":"utils.js","sources":["../../src/-private/utils.ts"],"sourcesContent":["export function isAccessorDescriptor(descriptor: PropertyDescriptor) {\n  return 'get' in descriptor || 'set' in descriptor;\n}\n\nexport function cloneObjectWithAccessors<\n  T extends Record<PropertyKey, unknown> = Record<PropertyKey, unknown>\n>(obj: T): T {\n  const proto = Object.getPrototypeOf(obj);\n  const clone = Object.create(proto);\n  const shadow = {};\n\n  for (const key of Reflect.ownKeys(obj)) {\n    const descriptor = Object.getOwnPropertyDescriptor(obj, key);\n    if (descriptor) {\n      if (isAccessorDescriptor(descriptor)) {\n        Object.defineProperty(clone, key, descriptor);\n      } else {\n        Reflect.set(shadow, key, Reflect.get(obj, key));\n        Object.defineProperty(clone, key, {\n          configurable: descriptor.configurable,\n          enumerable: true,\n          get: () => {\n            return Reflect.get(shadow, key);\n          },\n          set: (value) => {\n            Reflect.set(shadow, key, value);\n          },\n        });\n      }\n    }\n  }\n\n  return clone;\n}\n"],"names":["isAccessorDescriptor","descriptor","cloneObjectWithAccessors","obj","proto","Object","getPrototypeOf","clone","create","shadow","key","Reflect","ownKeys","getOwnPropertyDescriptor","defineProperty","set","get","configurable","enumerable","value"],"mappings":"AAAO,SAASA,oBAAoB,CAACC,UAA8B,EAAE;AACnE,EAAA,OAAO,KAAK,IAAIA,UAAU,IAAI,KAAK,IAAIA,UAAU,CAAA;AACnD,CAAA;AAEO,SAASC,wBAAwB,CAEtCC,GAAM,EAAK;AACX,EAAA,MAAMC,KAAK,GAAGC,MAAM,CAACC,cAAc,CAACH,GAAG,CAAC,CAAA;AACxC,EAAA,MAAMI,KAAK,GAAGF,MAAM,CAACG,MAAM,CAACJ,KAAK,CAAC,CAAA;EAClC,MAAMK,MAAM,GAAG,EAAE,CAAA;EAEjB,KAAK,MAAMC,GAAG,IAAIC,OAAO,CAACC,OAAO,CAACT,GAAG,CAAC,EAAE;IACtC,MAAMF,UAAU,GAAGI,MAAM,CAACQ,wBAAwB,CAACV,GAAG,EAAEO,GAAG,CAAC,CAAA;AAC5D,IAAA,IAAIT,UAAU,EAAE;AACd,MAAA,IAAID,oBAAoB,CAACC,UAAU,CAAC,EAAE;QACpCI,MAAM,CAACS,cAAc,CAACP,KAAK,EAAEG,GAAG,EAAET,UAAU,CAAC,CAAA;AAC/C,OAAC,MAAM;AACLU,QAAAA,OAAO,CAACI,GAAG,CAACN,MAAM,EAAEC,GAAG,EAAEC,OAAO,CAACK,GAAG,CAACb,GAAG,EAAEO,GAAG,CAAC,CAAC,CAAA;AAC/CL,QAAAA,MAAM,CAACS,cAAc,CAACP,KAAK,EAAEG,GAAG,EAAE;UAChCO,YAAY,EAAEhB,UAAU,CAACgB,YAAY;AACrCC,UAAAA,UAAU,EAAE,IAAI;AAChBF,UAAAA,GAAG,EAAE,MAAM;AACT,YAAA,OAAOL,OAAO,CAACK,GAAG,CAACP,MAAM,EAAEC,GAAG,CAAC,CAAA;WAChC;UACDK,GAAG,EAAGI,KAAK,IAAK;YACdR,OAAO,CAACI,GAAG,CAACN,MAAM,EAAEC,GAAG,EAAES,KAAK,CAAC,CAAA;AACjC,WAAA;AACF,SAAC,CAAC,CAAA;AACJ,OAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,OAAOZ,KAAK,CAAA;AACd;;;;"}