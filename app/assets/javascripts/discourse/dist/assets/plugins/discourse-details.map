{"version":3,"sources":["discourse/plugins/discourse-details/initializers/apply-details.js","discourse/plugins/discourse-details/lib/discourse-markdown/details.js"],"sourcesContent":["define(\"discourse/plugins/discourse-details/initializers/apply-details\", [\"exports\", \"jquery\", \"discourse/lib/plugin-api\", \"discourse-i18n\"], function (_exports, _jquery, _pluginApi, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function initializeDetails(api) {\n    api.decorateCooked($elem => (0, _jquery.default)(\"details\", $elem), {\n      id: \"discourse-details\"\n    });\n    api.addComposerToolbarPopupMenuOption({\n      action: function (toolbarEvent) {\n        toolbarEvent.applySurround(\"\\n\" + `[details=\"${_discourseI18n.default.t(\"composer.details_title\")}\"]` + \"\\n\", \"\\n[/details]\\n\", \"details_text\", {\n          multiline: false\n        });\n      },\n      icon: \"caret-right\",\n      label: \"details.title\"\n    });\n  }\n  var _default = _exports.default = {\n    name: \"apply-details\",\n    initialize() {\n      (0, _pluginApi.withPluginApi)(\"1.14.0\", initializeDetails);\n    }\n  };\n});","define(\"discourse/plugins/discourse-details/lib/discourse-markdown/details\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.setup = setup;\n  const rule = {\n    tag: \"details\",\n    before(state, tagInfo) {\n      const attrs = tagInfo.attrs;\n      state.push(\"bbcode_open\", \"details\", 1);\n      state.push(\"bbcode_open\", \"summary\", 1);\n      let token = state.push(\"text\", \"\", 0);\n      token.content = attrs[\"_default\"] || \"\";\n      state.push(\"bbcode_close\", \"summary\", -1);\n    },\n    after(state) {\n      state.push(\"bbcode_close\", \"details\", -1);\n    }\n  };\n  function setup(helper) {\n    helper.allowList([\"summary\", \"summary[title]\", \"details\", \"details[open]\", \"details.elided\"]);\n    helper.registerPlugin(md => {\n      md.block.bbcode.ruler.push(\"details\", rule);\n    });\n  }\n});"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"discourse-details.js"}