{"version":3,"sources":["discourse/plugins/poll/acceptance/poll-breakdown-test.js","discourse/plugins/poll/acceptance/poll-builder-disabled-test.js","discourse/plugins/poll/acceptance/poll-builder-enabled-test.js","discourse/plugins/poll/acceptance/poll-in-reply-history-test.js","discourse/plugins/poll/acceptance/poll-pie-chart-test.js","discourse/plugins/poll/acceptance/poll-quote-test.js","discourse/plugins/poll/acceptance/poll-results-test.js","discourse/plugins/poll/acceptance/polls-bar-chart-test-desktop.js","discourse/plugins/poll/acceptance/polls-bar-chart-test-mobile.js","discourse/plugins/poll/component/poll-ui-builder-test.js","discourse/plugins/poll/helpers/display-poll-builder-button.js","discourse/plugins/poll/widgets/discourse-poll-option-test.js","discourse/plugins/poll/widgets/discourse-poll-standard-results-test.js","discourse/plugins/poll/widgets/discourse-poll-test.js"],"sourcesContent":["define(\"discourse/plugins/poll/acceptance/poll-breakdown-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll breakdown\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true,\n      poll_groupable_user_fields: \"something\"\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/polls/grouped_poll_results.json\", () => helper.response({\n        grouped_results: [{\n          group: \"Engineering\",\n          options: [{\n            digest: \"687a1ccf3c6a260f9aeeb7f68a1d463c\",\n            html: \"This Is\",\n            votes: 1\n          }, {\n            digest: \"9377906763a1221d31d656ea0c4a4495\",\n            html: \"A test for sure\",\n            votes: 1\n          }, {\n            digest: \"ecf47c65a85a0bb20029072b1b721977\",\n            html: \"Why not give it some more\",\n            votes: 1\n          }]\n        }, {\n          group: \"Marketing\",\n          options: [{\n            digest: \"687a1ccf3c6a260f9aeeb7f68a1d463c\",\n            html: \"This Is\",\n            votes: 1\n          }, {\n            digest: \"9377906763a1221d31d656ea0c4a4495\",\n            html: \"A test for sure\",\n            votes: 1\n          }, {\n            digest: \"ecf47c65a85a0bb20029072b1b721977\",\n            html: \"Why not give it some more\",\n            votes: 1\n          }]\n        }]\n      }));\n    });\n    (0, _qunit.test)(\"Displaying the poll breakdown modal\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/topic_with_pie_chart_poll\");\n      await (0, _testHelpers.click)(\".widget-dropdown-header\");\n      assert.ok((0, _qunitHelpers.exists)(\".item-showBreakdown\"), \"shows the breakdown button when poll_groupable_user_fields is non-empty\");\n      await (0, _testHelpers.click)(\".item-showBreakdown\");\n      assert.ok((0, _qunitHelpers.exists)(\".poll-breakdown-total-votes\"), \"displays the vote count\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-breakdown-chart-container\"), 2, \"renders a chart for each of the groups in group_results response\");\n      assert.ok((0, _qunitHelpers.query)(\".poll-breakdown-chart-container > canvas\").$chartjs, \"$chartjs is defined on the pie charts\");\n    });\n    (0, _qunit.test)(\"Changing the display mode from percentage to count\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/topic_with_pie_chart_poll\");\n      await (0, _testHelpers.click)(\".widget-dropdown-header\");\n      await (0, _testHelpers.click)(\".item-showBreakdown\");\n      assert.strictEqual((0, _qunitHelpers.query)(\".poll-breakdown-option-count\").textContent.trim(), \"40.0%\", \"displays the correct vote percentage\");\n      await (0, _testHelpers.click)(\".modal-tabs .count\");\n      assert.strictEqual((0, _qunitHelpers.query)(\".poll-breakdown-option-count\").textContent.trim(), \"2\", \"displays the correct vote count\");\n      await (0, _testHelpers.click)(\".modal-tabs .percentage\");\n      assert.strictEqual((0, _qunitHelpers.query)(\".poll-breakdown-option-count\").textContent.trim(), \"40.0%\", \"displays the percentage again\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-builder-disabled-test\", [\"qunit\", \"discourse/tests/helpers/qunit-helpers\", \"discourse/plugins/poll/helpers/display-poll-builder-button\"], function (_qunit, _qunitHelpers, _displayPollBuilderButton) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll Builder - polls are disabled\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: false,\n      poll_minimum_trust_level_to_create: 2\n    });\n    (0, _qunit.test)(\"regular user - sufficient trust level\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: false,\n        admin: false,\n        trust_level: 3\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      assert.ok(!(0, _qunitHelpers.exists)(\".select-kit-row[data-value='showPollBuilder']\"), \"it hides the builder button\");\n    });\n    (0, _qunit.test)(\"regular user - insufficient trust level\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: false,\n        admin: false,\n        trust_level: 1\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      assert.ok(!(0, _qunitHelpers.exists)(\".select-kit-row[data-value='showPollBuilder']\"), \"it hides the builder button\");\n    });\n    (0, _qunit.test)(\"staff\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: true\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      assert.ok(!(0, _qunitHelpers.exists)(\".select-kit-row[data-value='showPollBuilder']\"), \"it hides the builder button\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-builder-enabled-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\", \"discourse-i18n\", \"discourse/plugins/poll/helpers/display-poll-builder-button\"], function (_testHelpers, _qunit, _qunitHelpers, _discourseI18n, _displayPollBuilderButton) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll Builder - polls are enabled\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true,\n      poll_minimum_trust_level_to_create: 1\n    });\n    (0, _qunit.test)(\"regular user - sufficient trust level\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: false,\n        admin: false,\n        trust_level: 1\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      const pollBuilderButtonSelector = `.select-kit-row[data-name='${_discourseI18n.default.t(\"poll.ui_builder.title\")}']`;\n      assert.dom(pollBuilderButtonSelector).exists(\"it shows the builder button\");\n      await (0, _testHelpers.click)(pollBuilderButtonSelector);\n      assert.true((0, _qunitHelpers.exists)(\".poll-type-value-regular.active\"), \"regular type is active\");\n      await (0, _testHelpers.click)(\".poll-type-value-multiple\");\n      assert.true((0, _qunitHelpers.exists)(\".poll-type-value-multiple.active\"), \"multiple type is active\");\n      await (0, _testHelpers.click)(\".poll-type-value-regular\");\n      assert.true((0, _qunitHelpers.exists)(\".poll-type-value-regular.active\"), \"regular type is active\");\n    });\n    (0, _qunit.test)(\"regular user - insufficient trust level\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: false,\n        admin: false,\n        trust_level: 0\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      assert.ok(!(0, _qunitHelpers.exists)(\".select-kit-row[data-value='showPollBuilder]\"), \"it hides the builder button\");\n    });\n    (0, _qunit.test)(\"staff - with insufficient trust level\", async function (assert) {\n      (0, _qunitHelpers.updateCurrentUser)({\n        moderator: true,\n        trust_level: 0\n      });\n      await (0, _displayPollBuilderButton.displayPollBuilderButton)();\n      assert.dom(`.select-kit-row[data-name='${_discourseI18n.default.t(\"poll.ui_builder.title\")}']`).exists(\"it shows the builder button\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-in-reply-history-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll in a post reply history\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/t/topic_with_poll_in_post_reply_history.json\", () => {\n        return helper.response({\n          post_stream: {\n            posts: [{\n              id: 82,\n              name: null,\n              username: \"admin1\",\n              avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\",\n              created_at: \"2021-01-25T13:08:27.385Z\",\n              cooked: \"<p>A reply to the poll.</p>\",\n              post_number: 4,\n              post_type: 1,\n              updated_at: \"2021-01-25T13:08:27.385Z\",\n              reply_count: 0,\n              reply_to_post_number: 2,\n              quote_count: 0,\n              incoming_link_count: 0,\n              reads: 1,\n              readers_count: 0,\n              score: 0.2,\n              yours: true,\n              topic_id: 25,\n              topic_slug: \"topic-with-a-poll-in-a-post-reply-history\",\n              display_username: null,\n              primary_group_name: null,\n              flair_url: null,\n              flair_bg_color: null,\n              flair_color: null,\n              version: 1,\n              can_edit: true,\n              can_delete: true,\n              can_recover: false,\n              can_wiki: true,\n              read: true,\n              user_title: null,\n              reply_to_user: {\n                username: \"admin1\",\n                avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\"\n              },\n              bookmarked: false,\n              bookmarks: [],\n              actions_summary: [{\n                id: 3,\n                can_act: true\n              }, {\n                id: 4,\n                can_act: true\n              }, {\n                id: 8,\n                can_act: true\n              }, {\n                id: 7,\n                can_act: true\n              }],\n              moderator: false,\n              admin: true,\n              staff: true,\n              user_id: 3,\n              hidden: false,\n              trust_level: 1,\n              deleted_at: null,\n              user_deleted: false,\n              edit_reason: null,\n              can_view_edit_history: true,\n              wiki: false,\n              reviewable_id: 0,\n              reviewable_score_count: 0,\n              reviewable_score_pending_count: 0\n            }],\n            stream: [82]\n          },\n          timeline_lookup: [[1, 0]],\n          suggested_topics: [{\n            id: 7,\n            title: \"Welcome to Discourse\",\n            fancy_title: \"Welcome to Discourse\",\n            slug: \"welcome-to-discourse\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2021-01-07T15:36:44.707Z\",\n            last_posted_at: \"2021-01-07T15:36:44.750Z\",\n            bumped: true,\n            bumped_at: \"2021-01-07T15:36:44.750Z\",\n            archetype: \"regular\",\n            unseen: false,\n            pinned: true,\n            unpinned: null,\n            excerpt: \"The first paragraph of this pinned topic will be visible as a welcome message to all new visitors on your homepage. It’s important! Edit this into a brief description of your community: Who is it for? What can they fi&hellip;\",\n            visible: true,\n            closed: false,\n            archived: false,\n            bookmarked: null,\n            liked: null,\n            like_count: 0,\n            views: 1,\n            category_id: 1,\n            featured_link: null,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: -1,\n                username: \"system\",\n                name: \"system\",\n                avatar_template: \"http://localhost:3000/images/discourse-logo-sketch-small.png\"\n              }\n            }]\n          }, {\n            id: 20,\n            title: \"Polls testing. Just one poll in the comment\",\n            fancy_title: \"Polls testing. Just one poll in the comment\",\n            slug: \"polls-testing-just-one-poll-in-the-comment\",\n            posts_count: 3,\n            reply_count: 1,\n            highest_post_number: 3,\n            image_url: null,\n            created_at: \"2021-01-21T09:21:35.102Z\",\n            last_posted_at: \"2021-01-22T09:35:33.543Z\",\n            bumped: true,\n            bumped_at: \"2021-01-22T09:35:33.543Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 3,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            like_count: 0,\n            views: 3,\n            category_id: 1,\n            featured_link: null,\n            posters: [{\n              extras: null,\n              description: \"Original Poster\",\n              user: {\n                id: 2,\n                username: \"andrey1\",\n                name: \"andrey1\",\n                avatar_template: \"/letter_avatar_proxy/v4/letter/a/c0e974/{size}.png\"\n              }\n            }, {\n              extras: \"latest\",\n              description: \"Most Recent Poster\",\n              user: {\n                id: 3,\n                username: \"admin1\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\"\n              }\n            }]\n          }, {\n            id: 22,\n            title: \"Polls testing. The whole test\",\n            fancy_title: \"Polls testing. The whole test\",\n            slug: \"polls-testing-the-whole-test\",\n            posts_count: 12,\n            reply_count: 8,\n            highest_post_number: 12,\n            image_url: null,\n            created_at: \"2021-01-21T09:55:20.135Z\",\n            last_posted_at: \"2021-01-22T11:59:31.561Z\",\n            bumped: true,\n            bumped_at: \"2021-01-22T11:59:31.561Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 12,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            like_count: 0,\n            views: 4,\n            category_id: 1,\n            featured_link: null,\n            posters: [{\n              extras: null,\n              description: \"Original Poster\",\n              user: {\n                id: 2,\n                username: \"andrey1\",\n                name: \"andrey1\",\n                avatar_template: \"/letter_avatar_proxy/v4/letter/a/c0e974/{size}.png\"\n              }\n            }, {\n              extras: \"latest\",\n              description: \"Most Recent Poster\",\n              user: {\n                id: 3,\n                username: \"admin1\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\"\n              }\n            }]\n          }],\n          id: 25,\n          title: \"Topic with a poll in a post reply history\",\n          fancy_title: \"Topic with a poll in a post reply history\",\n          posts_count: 4,\n          created_at: \"2021-01-25T13:07:31.670Z\",\n          views: 2,\n          reply_count: 2,\n          like_count: 0,\n          last_posted_at: \"2021-01-25T13:08:27.385Z\",\n          visible: true,\n          closed: false,\n          archived: false,\n          has_summary: false,\n          archetype: \"regular\",\n          slug: \"topic-with-a-poll-in-a-post-reply-history\",\n          category_id: 1,\n          word_count: 25,\n          deleted_at: null,\n          user_id: 3,\n          featured_link: null,\n          pinned_globally: false,\n          pinned_at: null,\n          pinned_until: null,\n          image_url: null,\n          slow_mode_seconds: 0,\n          draft: null,\n          draft_key: \"topic_25\",\n          draft_sequence: 4,\n          posted: true,\n          unpinned: null,\n          pinned: false,\n          current_post_number: 4,\n          highest_post_number: 4,\n          last_read_post_number: 4,\n          last_read_post_id: 82,\n          deleted_by: null,\n          has_deleted: false,\n          actions_summary: [{\n            id: 4,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 8,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 7,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }],\n          chunk_size: 20,\n          bookmarked: false,\n          bookmarks: [],\n          topic_timer: null,\n          message_bus_last_id: 4,\n          participant_count: 1,\n          show_read_indicator: false,\n          thumbnails: null,\n          details: {\n            can_edit: true,\n            notification_level: 3,\n            notifications_reason_id: 1,\n            can_move_posts: true,\n            can_delete: true,\n            can_remove_allowed_users: true,\n            can_invite_to: true,\n            can_invite_via_email: true,\n            can_create_post: true,\n            can_reply_as_new_topic: true,\n            can_flag_topic: true,\n            can_convert_topic: true,\n            can_review_topic: true,\n            can_close_topic: true,\n            can_archive_topic: true,\n            can_split_merge_topic: true,\n            can_edit_staff_notes: true,\n            can_toggle_topic_visibility: true,\n            can_moderate_category: true,\n            can_remove_self_id: 3,\n            participants: [{\n              id: 3,\n              username: \"admin1\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\",\n              post_count: 4,\n              primary_group_name: null,\n              flair_url: null,\n              flair_color: null,\n              flair_bg_color: null\n            }],\n            created_by: {\n              id: 3,\n              username: \"admin1\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\"\n            },\n            last_poster: {\n              id: 3,\n              username: \"admin1\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\"\n            }\n          }\n        });\n      });\n      server.get(\"/posts/82/reply-history\", () => {\n        return helper.response([{\n          id: 80,\n          name: null,\n          username: \"admin1\",\n          avatar_template: \"/letter_avatar_proxy/v4/letter/a/bbce88/{size}.png\",\n          created_at: \"2021-01-25T13:07:58.995Z\",\n          cooked: '<p>The poll:</p>\\n<div class=\"poll\" data-poll-status=\"open\" data-poll-name=\"poll\">\\n<div>\\n<div class=\"poll-container\">\\n<ul>\\n<li data-poll-option-id=\"5b8ee5ba2a43e258f93dbef9264bf1ad\">Option A</li>\\n<li data-poll-option-id=\"6872645f5d8ef2311883617a3a7d381b\">Option B</li>\\n</ul>\\n</div>\\n<div class=\"poll-info\">\\n<p>\\n<span class=\"info-number\">0</span>\\n<span class=\"info-label\">voters</span>\\n</p>\\n</div>\\n</div>\\n</div>',\n          post_number: 2,\n          post_type: 1,\n          updated_at: \"2021-01-25T13:07:58.995Z\",\n          reply_count: 2,\n          reply_to_post_number: null,\n          quote_count: 0,\n          incoming_link_count: 0,\n          reads: 1,\n          readers_count: 0,\n          score: 10.2,\n          yours: false,\n          topic_id: 25,\n          topic_slug: \"topic-with-a-poll-in-a-post-reply-history\",\n          display_username: null,\n          primary_group_name: null,\n          flair_url: null,\n          flair_bg_color: null,\n          flair_color: null,\n          version: 1,\n          can_edit: false,\n          can_delete: false,\n          can_recover: false,\n          can_wiki: false,\n          user_title: null,\n          bookmarked: false,\n          bookmarks: [],\n          actions_summary: [],\n          moderator: false,\n          admin: true,\n          staff: true,\n          user_id: 3,\n          hidden: false,\n          trust_level: 1,\n          deleted_at: null,\n          user_deleted: false,\n          edit_reason: null,\n          can_view_edit_history: true,\n          wiki: false,\n          polls: [{\n            name: \"poll\",\n            type: \"regular\",\n            status: \"open\",\n            results: \"always\",\n            options: [{\n              id: \"5b8ee5ba2a43e258f93dbef9264bf1ad\",\n              html: \"Option A\",\n              votes: 0\n            }, {\n              id: \"6872645f5d8ef2311883617a3a7d381b\",\n              html: \"Option B\",\n              votes: 0\n            }],\n            voters: 0,\n            chart_type: \"bar\",\n            title: null\n          }]\n        }]);\n      });\n    });\n    (0, _qunit.test)(\"renders and extends\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/topic_with_poll_in_post_reply_history\");\n      await (0, _testHelpers.click)(\".reply-to-tab\");\n      assert.ok((0, _qunitHelpers.exists)(\".poll\"), \"poll is rendered\");\n      assert.ok((0, _qunitHelpers.exists)(\".poll-buttons\"), \"poll is extended\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-pie-chart-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Rendering polls with pie charts\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true,\n      poll_groupable_user_fields: \"something\"\n    });\n    (0, _qunit.test)(\"Displays the pie chart\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/topic_with_pie_chart_poll\");\n      const poll = (0, _qunitHelpers.query)(\".poll\");\n      assert.strictEqual((0, _qunitHelpers.query)(\".info-number\", poll).innerHTML, \"2\", \"it should display the right number of voters\");\n      assert.strictEqual(poll.querySelectorAll(\".info-number\")[1].innerHTML, \"5\", \"it should display the right number of votes\");\n      assert.strictEqual(poll.classList.contains(\"pie\"), true, \"pie class is present on poll div\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-results-chart\", poll), 1, \"Renders the chart div instead of bar container\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-quote-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll quote\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/posts/by_number/130/1\", () => {\n        return helper.response({\n          id: 133,\n          name: null,\n          username: \"bianca\",\n          avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n          created_at: \"2020-08-17T12:05:24.577Z\",\n          cooked: '<div class=\"poll\" data-poll-status=\"open\" data-poll-name=\"poll1\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\">\\n<div>\\n<div class=\"poll-container\">\\n<ul>\\n<li data-poll-option-id=\"bf48cd4958a17180e2a298e246988f94\">Alpha</li>\\n<li data-poll-option-id=\"c19aa835729ab0413a84a2c9850c4005\">Beta</li>\\n</ul>\\n</div>\\n<div class=\"poll-info\">\\n<p>\\n<span class=\"info-number\">0</span>\\n<span class=\"info-label\">voters</span>\\n</p>\\n</div>\\n</div>\\n</div>\\n<div class=\"poll\" data-poll-status=\"open\" data-poll-name=\"poll2\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\">\\n<div>\\n<div class=\"poll-container\">\\n<ul>\\n<li data-poll-option-id=\"def034c6770c6fd3754c054ef9ec4721\">First</li>\\n<li data-poll-option-id=\"e0f55d1a981683789bec2a0b05eb70ef\">Second</li>\\n</ul>\\n</div>\\n<div class=\"poll-info\">\\n<p>\\n<span class=\"info-number\">0</span>\\n<span class=\"info-label\">voters</span>\\n</p>\\n</div>\\n</div>\\n</div>',\n          post_number: 1,\n          post_type: 1,\n          updated_at: \"2020-08-17T12:05:24.577Z\",\n          reply_count: 0,\n          reply_to_post_number: null,\n          quote_count: 0,\n          incoming_link_count: 0,\n          reads: 1,\n          readers_count: 0,\n          score: 0.2,\n          yours: true,\n          topic_id: 130,\n          topic_slug: \"topic-with-two-polls\",\n          display_username: null,\n          primary_group_name: null,\n          flair_url: null,\n          flair_bg_color: null,\n          flair_color: null,\n          version: 1,\n          can_edit: true,\n          can_delete: false,\n          can_recover: false,\n          can_wiki: true,\n          user_title: \"Tester\",\n          title_is_group: false,\n          bookmarked: false,\n          bookmarks: [],\n          raw: \"[poll name=poll1 type=regular results=always chartType=bar]\\n* Alpha\\n* Beta\\n[/poll]\\n\\n[poll name=poll2 type=regular results=always chartType=bar]\\n* First\\n* Second\\n[/poll]\",\n          actions_summary: [{\n            id: 3,\n            can_act: true\n          }, {\n            id: 4,\n            can_act: true\n          }, {\n            id: 8,\n            can_act: true\n          }, {\n            id: 7,\n            can_act: true\n          }],\n          moderator: false,\n          admin: true,\n          staff: true,\n          user_id: 1,\n          hidden: false,\n          trust_level: 0,\n          deleted_at: null,\n          user_deleted: false,\n          edit_reason: null,\n          can_view_edit_history: true,\n          wiki: false,\n          reviewable_id: null,\n          reviewable_score_count: 0,\n          reviewable_score_pending_count: 0,\n          calendar_details: [],\n          polls: [{\n            name: \"poll1\",\n            type: \"regular\",\n            status: \"open\",\n            results: \"always\",\n            options: [{\n              id: \"bf48cd4958a17180e2a298e246988f94\",\n              html: \"Alpha\",\n              votes: 0\n            }, {\n              id: \"c19aa835729ab0413a84a2c9850c4005\",\n              html: \"Beta\",\n              votes: 0\n            }],\n            voters: 0,\n            chart_type: \"bar\"\n          }, {\n            name: \"poll2\",\n            type: \"regular\",\n            status: \"open\",\n            results: \"always\",\n            options: [{\n              id: \"def034c6770c6fd3754c054ef9ec4721\",\n              html: \"First\",\n              votes: 0\n            }, {\n              id: \"e0f55d1a981683789bec2a0b05eb70ef\",\n              html: \"Second\",\n              votes: 0\n            }],\n            voters: 0,\n            chart_type: \"bar\"\n          }]\n        });\n      });\n      server.get(\"/t/topic_with_two_quoted_polls.json\", () => {\n        return helper.response({\n          post_stream: {\n            posts: [{\n              id: 134,\n              name: null,\n              username: \"bianca\",\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              created_at: \"2020-08-17T12:08:24.043Z\",\n              cooked: '<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"130\">\\n  <div class=\"title\">\\n    <div class=\"quote-controls\"></div>\\n    <img alt=\"\" width=\"20\" height=\"20\" src=\"/letter_avatar_proxy/v4/letter/b/3be4f8/40.png\" class=\"avatar\">\\n    <a href=\"//forum.example.com/t/topic-with-two-polls/130\">Topic with two polls</a> \\n  </div>\\n  <blockquote>\\n    <a href=\"/t/topic-with-two-polls/130/1\">poll</a>\\n<a href=\"/t/topic-with-two-polls/130/1\">poll</a>\\n  </blockquote>\\n</aside>\\n',\n              post_number: 1,\n              post_type: 1,\n              updated_at: \"2020-08-17T12:08:24.043Z\",\n              reply_count: 0,\n              reply_to_post_number: null,\n              quote_count: 0,\n              incoming_link_count: 0,\n              reads: 1,\n              readers_count: 0,\n              score: 0,\n              yours: true,\n              topic_id: 131,\n              topic_slug: \"topic-with-two-quoted-polls\",\n              display_username: null,\n              primary_group_name: null,\n              flair_url: null,\n              flair_bg_color: null,\n              flair_color: null,\n              version: 1,\n              can_edit: true,\n              can_delete: false,\n              can_recover: false,\n              can_wiki: true,\n              link_counts: [{\n                url: \"http://forum.example.com/t/topic-with-two-polls/130\",\n                internal: true,\n                reflection: false,\n                title: \"Topic with two polls\",\n                clicks: 0\n              }],\n              read: true,\n              user_title: \"Tester\",\n              title_is_group: false,\n              bookmarked: false,\n              bookmarks: [],\n              actions_summary: [{\n                id: 3,\n                can_act: true\n              }, {\n                id: 4,\n                can_act: true\n              }, {\n                id: 8,\n                can_act: true\n              }, {\n                id: 7,\n                can_act: true\n              }],\n              moderator: false,\n              admin: true,\n              staff: true,\n              user_id: 1,\n              hidden: false,\n              trust_level: 0,\n              deleted_at: null,\n              user_deleted: false,\n              edit_reason: null,\n              can_view_edit_history: true,\n              wiki: false,\n              reviewable_id: 0,\n              reviewable_score_count: 0,\n              reviewable_score_pending_count: 0,\n              calendar_details: []\n            }],\n            stream: [134]\n          },\n          timeline_lookup: [[1, 0]],\n          suggested_topics: [{\n            id: 7,\n            title: \"Welcome to Discourse\",\n            fancy_title: \"Welcome to Discourse\",\n            slug: \"welcome-to-discourse\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2020-08-11T12:43:04.894Z\",\n            last_posted_at: \"2020-08-11T12:43:04.959Z\",\n            bumped: true,\n            bumped_at: \"2020-08-11T12:43:04.959Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: true,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 1,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 1,\n            category_id: 1,\n            featured_link: null,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 5,\n                username: \"foo2\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/f/8edcca/{size}.png\"\n              }\n            }]\n          }, {\n            id: 130,\n            title: \"Topic with two polls\",\n            fancy_title: \"Topic with two polls\",\n            slug: \"topic-with-two-polls\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2020-08-17T12:05:24.500Z\",\n            last_posted_at: \"2020-08-17T12:05:24.577Z\",\n            bumped: true,\n            bumped_at: \"2020-08-17T12:05:24.577Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 3,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 1,\n            category_id: 1,\n            featured_link: null,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }],\n          tags: [],\n          id: 131,\n          title: \"Topic with two quoted polls\",\n          fancy_title: \"Topic with two quoted polls\",\n          posts_count: 1,\n          created_at: \"2020-08-17T12:08:23.918Z\",\n          views: 1,\n          reply_count: 0,\n          like_count: 0,\n          last_posted_at: \"2020-08-17T12:08:24.043Z\",\n          visible: true,\n          closed: false,\n          archived: false,\n          has_summary: false,\n          archetype: \"regular\",\n          slug: \"topic-with-two-quoted-polls\",\n          category_id: 1,\n          word_count: 9,\n          deleted_at: null,\n          user_id: 1,\n          featured_link: null,\n          pinned_globally: false,\n          pinned_at: null,\n          pinned_until: null,\n          image_url: null,\n          draft: null,\n          draft_key: \"topic_131\",\n          draft_sequence: 0,\n          posted: true,\n          unpinned: null,\n          pinned: false,\n          current_post_number: 1,\n          highest_post_number: 1,\n          last_read_post_number: 1,\n          last_read_post_id: 134,\n          deleted_by: null,\n          has_deleted: false,\n          actions_summary: [{\n            id: 4,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 8,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 7,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }],\n          chunk_size: 20,\n          bookmarked: false,\n          bookmarks: [],\n          topic_timer: null,\n          message_bus_last_id: 2,\n          participant_count: 1,\n          queued_posts_count: 0,\n          show_read_indicator: false,\n          thumbnails: null,\n          can_vote: false,\n          vote_count: null,\n          user_voted: false,\n          details: {\n            notification_level: 3,\n            notifications_reason_id: 1,\n            can_move_posts: true,\n            can_edit: true,\n            can_delete: true,\n            can_remove_allowed_users: true,\n            can_invite_to: true,\n            can_invite_via_email: true,\n            can_create_post: true,\n            can_reply_as_new_topic: true,\n            can_flag_topic: true,\n            can_convert_topic: true,\n            can_review_topic: true,\n            can_close_topic: true,\n            can_archive_topic: true,\n            can_split_merge_topic: true,\n            can_edit_staff_notes: true,\n            can_remove_self_id: 1,\n            participants: [{\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              post_count: 1,\n              primary_group_name: null,\n              flair_url: null,\n              flair_color: null,\n              flair_bg_color: null\n            }],\n            created_by: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            },\n            last_poster: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            }\n          },\n          pending_posts: []\n        });\n      });\n    });\n    (0, _qunit.test)(\"renders and extends\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/topic_with_two_quoted_polls\");\n      await (0, _testHelpers.click)(\".quote-controls\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll\"), 2, \"polls are rendered\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-buttons\"), 2, \"polls are extended\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/poll-results-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Poll results\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/posts/by_number/134/1\", () => {\n        return helper.response({\n          id: 156,\n          name: null,\n          username: \"bianca\",\n          avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n          created_at: \"2021-06-08T21:56:55.166Z\",\n          cooked: '\\u003cdiv class=\"poll\" data-poll-status=\"open\" data-poll-public=\"true\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\" data-poll-name=\"poll\"\\u003e\\n\\u003cdiv\\u003e\\n\\u003cdiv class=\"poll-container\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli data-poll-option-id=\"db753fe0bc4e72869ac1ad8765341764\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003cli data-poll-option-id=\"d8c22ff912e03740d9bc19e133e581e0\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/div\\u003e\\n\\u003cdiv class=\"poll-info\"\\u003e\\n\\u003cp\\u003e\\n\\u003cspan class=\"info-number\"\\u003e0\\u003c/span\\u003e\\n\\u003cspan class=\"info-label\"\\u003evoters\\u003c/span\\u003e\\n\\u003c/p\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e',\n          post_number: 1,\n          post_type: 1,\n          updated_at: \"2021-06-08T21:59:16.444Z\",\n          reply_count: 0,\n          reply_to_post_number: null,\n          quote_count: 0,\n          incoming_link_count: 0,\n          reads: 2,\n          readers_count: 1,\n          score: 0,\n          yours: true,\n          topic_id: 134,\n          topic_slug: \"load-more-poll-voters\",\n          display_username: null,\n          primary_group_name: null,\n          flair_url: null,\n          flair_bg_color: null,\n          flair_color: null,\n          version: 1,\n          can_edit: true,\n          can_delete: false,\n          can_recover: false,\n          can_wiki: true,\n          title_is_group: false,\n          bookmarked: false,\n          bookmarks: [],\n          raw: \"[poll type=regular results=always public=true chartType=bar]\\n* Option #1\\n* Option #2\\n[/poll]\",\n          actions_summary: [{\n            id: 3,\n            can_act: true\n          }, {\n            id: 4,\n            can_act: true\n          }, {\n            id: 8,\n            can_act: true\n          }, {\n            id: 7,\n            can_act: true\n          }],\n          moderator: false,\n          admin: true,\n          staff: true,\n          user_id: 1,\n          hidden: false,\n          trust_level: 0,\n          deleted_at: null,\n          user_deleted: false,\n          edit_reason: null,\n          can_view_edit_history: true,\n          wiki: false,\n          reviewable_id: null,\n          reviewable_score_count: 0,\n          reviewable_score_pending_count: 0,\n          calendar_details: [],\n          can_accept_answer: false,\n          can_unaccept_answer: false,\n          accepted_answer: false,\n          polls: [{\n            name: \"poll\",\n            type: \"regular\",\n            status: \"open\",\n            public: true,\n            results: \"always\",\n            options: [{\n              id: \"db753fe0bc4e72869ac1ad8765341764\",\n              html: 'Option \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e',\n              votes: 1\n            }, {\n              id: \"d8c22ff912e03740d9bc19e133e581e0\",\n              html: 'Option \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e',\n              votes: 0\n            }],\n            voters: 1,\n            preloaded_voters: {\n              db753fe0bc4e72869ac1ad8765341764: [{\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }]\n            },\n            chart_type: \"bar\",\n            title: null\n          }],\n          polls_votes: {\n            poll: [\"db753fe0bc4e72869ac1ad8765341764\"]\n          }\n        });\n      });\n      server.get(\"/t/134.json\", () => {\n        return helper.response({\n          post_stream: {\n            posts: [{\n              id: 156,\n              name: null,\n              username: \"bianca\",\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              created_at: \"2021-06-08T21:56:55.166Z\",\n              cooked: '\\u003cdiv class=\"poll\" data-poll-status=\"open\" data-poll-public=\"true\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\" data-poll-name=\"poll\"\\u003e\\n\\u003cdiv\\u003e\\n\\u003cdiv class=\"poll-container\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli data-poll-option-id=\"db753fe0bc4e72869ac1ad8765341764\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003cli data-poll-option-id=\"d8c22ff912e03740d9bc19e133e581e0\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/div\\u003e\\n\\u003cdiv class=\"poll-info\"\\u003e\\n\\u003cp\\u003e\\n\\u003cspan class=\"info-number\"\\u003e0\\u003c/span\\u003e\\n\\u003cspan class=\"info-label\"\\u003evoters\\u003c/span\\u003e\\n\\u003c/p\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e',\n              post_number: 1,\n              post_type: 1,\n              updated_at: \"2021-06-08T21:59:16.444Z\",\n              reply_count: 0,\n              reply_to_post_number: null,\n              quote_count: 0,\n              incoming_link_count: 0,\n              reads: 2,\n              readers_count: 1,\n              score: 0,\n              yours: true,\n              topic_id: 134,\n              topic_slug: \"load-more-poll-voters\",\n              display_username: null,\n              primary_group_name: null,\n              flair_url: null,\n              flair_bg_color: null,\n              flair_color: null,\n              version: 1,\n              can_edit: true,\n              can_delete: false,\n              can_recover: false,\n              can_wiki: true,\n              read: true,\n              title_is_group: false,\n              bookmarked: false,\n              bookmarks: [],\n              actions_summary: [{\n                id: 3,\n                can_act: true\n              }, {\n                id: 4,\n                can_act: true\n              }, {\n                id: 8,\n                can_act: true\n              }, {\n                id: 7,\n                can_act: true\n              }],\n              moderator: false,\n              admin: true,\n              staff: true,\n              user_id: 1,\n              hidden: false,\n              trust_level: 0,\n              deleted_at: null,\n              user_deleted: false,\n              edit_reason: null,\n              can_view_edit_history: true,\n              wiki: false,\n              reviewable_id: 0,\n              reviewable_score_count: 0,\n              reviewable_score_pending_count: 0,\n              calendar_details: [],\n              can_accept_answer: false,\n              can_unaccept_answer: false,\n              accepted_answer: false,\n              polls: [{\n                name: \"poll\",\n                type: \"regular\",\n                status: \"open\",\n                public: true,\n                results: \"always\",\n                options: [{\n                  id: \"db753fe0bc4e72869ac1ad8765341764\",\n                  html: 'Option \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e',\n                  votes: 1\n                }, {\n                  id: \"d8c22ff912e03740d9bc19e133e581e0\",\n                  html: 'Option \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e',\n                  votes: 0\n                }],\n                voters: 1,\n                preloaded_voters: {\n                  db753fe0bc4e72869ac1ad8765341764: [{\n                    id: 1,\n                    username: \"bianca\",\n                    name: null,\n                    avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n                  }]\n                },\n                chart_type: \"bar\",\n                title: null\n              }],\n              polls_votes: {\n                poll: [\"db753fe0bc4e72869ac1ad8765341764\"]\n              }\n            }],\n            stream: [156]\n          },\n          timeline_lookup: [[1, 0]],\n          suggested_topics: [{\n            id: 7,\n            title: \"Welcome to Discourse\",\n            fancy_title: \"Welcome to Discourse\",\n            slug: \"welcome-to-discourse\",\n            posts_count: 9,\n            reply_count: 0,\n            highest_post_number: 9,\n            image_url: \"//localhost:3000/uploads/default/original/1X/ba1a510603f5112dcaf06cf42c2eb671bff83681.png\",\n            created_at: \"2021-06-02T16:21:38.347Z\",\n            last_posted_at: \"2021-06-08T20:36:29.235Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T20:36:29.235Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 9,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: true,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 2,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: null,\n              description: \"Original Poster\",\n              user: {\n                id: -1,\n                username: \"system\",\n                name: \"system\",\n                avatar_template: \"/images/discourse-logo-sketch-small.png\"\n              }\n            }, {\n              extras: \"latest\",\n              description: \"Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }, {\n            id: 129,\n            title: \"This is another test topic\",\n            fancy_title: \"This is another test topic\",\n            slug: \"this-is-another-test-topic\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2021-06-03T15:48:27.262Z\",\n            last_posted_at: \"2021-06-03T15:48:27.537Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T12:52:36.650Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 7,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 12,\n                username: \"bar\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/b77776/{size}.png\"\n              }\n            }]\n          }, {\n            id: 131,\n            title: \"Welcome to Discourse — thanks for starting a new conversation!\",\n            fancy_title: \"Welcome to Discourse — thanks for starting a new conversation!\",\n            slug: \"welcome-to-discourse-thanks-for-starting-a-new-conversation\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2021-06-04T08:51:19.807Z\",\n            last_posted_at: \"2021-06-04T08:51:19.928Z\",\n            bumped: true,\n            bumped_at: \"2021-06-04T14:37:46.939Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 3,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [\"abc\", \"e\", \"b\"],\n            like_count: 0,\n            views: 3,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }, {\n            id: 133,\n            title: \"This is a new topic\",\n            fancy_title: \"This is a new topic\",\n            slug: \"this-is-a-new-topic\",\n            posts_count: 12,\n            reply_count: 0,\n            highest_post_number: 12,\n            image_url: null,\n            created_at: \"2021-06-08T14:44:03.664Z\",\n            last_posted_at: \"2021-06-08T19:57:35.853Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T19:57:35.853Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 12,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 3,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 1,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }],\n          tags: [],\n          id: 134,\n          title: \"Load more poll voters\",\n          fancy_title: \"Load more poll voters\",\n          posts_count: 1,\n          created_at: \"2021-06-08T21:56:55.073Z\",\n          views: 4,\n          reply_count: 0,\n          like_count: 0,\n          last_posted_at: \"2021-06-08T21:56:55.166Z\",\n          visible: true,\n          closed: false,\n          archived: false,\n          has_summary: false,\n          archetype: \"regular\",\n          slug: \"load-more-poll-voters\",\n          category_id: 1,\n          word_count: 14,\n          deleted_at: null,\n          user_id: 1,\n          featured_link: null,\n          pinned_globally: false,\n          pinned_at: null,\n          pinned_until: null,\n          image_url: null,\n          slow_mode_seconds: 0,\n          draft: null,\n          draft_key: \"topic_134\",\n          draft_sequence: 7,\n          posted: true,\n          unpinned: null,\n          pinned: false,\n          current_post_number: 1,\n          highest_post_number: 1,\n          last_read_post_number: 1,\n          last_read_post_id: 156,\n          deleted_by: null,\n          has_deleted: false,\n          actions_summary: [{\n            id: 4,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 8,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 7,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }],\n          chunk_size: 20,\n          bookmarked: false,\n          bookmarks: [],\n          topic_timer: null,\n          message_bus_last_id: 5,\n          participant_count: 1,\n          queued_posts_count: 0,\n          show_read_indicator: false,\n          thumbnails: null,\n          slow_mode_enabled_until: null,\n          details: {\n            can_edit: true,\n            notification_level: 3,\n            notifications_reason_id: 1,\n            can_move_posts: true,\n            can_delete: true,\n            can_remove_allowed_users: true,\n            can_invite_to: true,\n            can_invite_via_email: true,\n            can_create_post: true,\n            can_reply_as_new_topic: true,\n            can_flag_topic: true,\n            can_convert_topic: true,\n            can_review_topic: true,\n            can_close_topic: true,\n            can_archive_topic: true,\n            can_split_merge_topic: true,\n            can_edit_staff_notes: true,\n            can_toggle_topic_visibility: true,\n            can_pin_unpin_topic: true,\n            can_moderate_category: true,\n            can_remove_self_id: 1,\n            participants: [{\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              post_count: 1,\n              primary_group_name: null,\n              flair_url: null,\n              flair_color: null,\n              flair_bg_color: null,\n              admin: true,\n              trust_level: 0\n            }],\n            created_by: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            },\n            last_poster: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            }\n          },\n          pending_posts: []\n        });\n      });\n      server.get(\"/polls/voters.json\", request => {\n        if (request.queryParams.option_id === \"d8c22ff912e03740d9bc19e133e581e0\") {\n          return helper.response({\n            voters: {\n              d8c22ff912e03740d9bc19e133e581e0: [{\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n                title: null\n              }]\n            }\n          });\n        } else {\n          return helper.response({\n            voters: {\n              [request.queryParams.option_id]: []\n            }\n          });\n        }\n      });\n      server.delete(\"/polls/vote\", () => helper.response({\n        success: \"OK\"\n      }));\n    });\n    (0, _qunit.test)(\"can load more voters\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/load-more-poll-voters/134\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(1) .poll-voters li\"), 1);\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(2) .poll-voters li\"), 0);\n      await (0, _qunitHelpers.publishToMessageBus)(\"/polls/134\", {\n        post_id: \"156\",\n        polls: [{\n          name: \"poll\",\n          type: \"regular\",\n          status: \"open\",\n          public: true,\n          results: \"always\",\n          options: [{\n            id: \"db753fe0bc4e72869ac1ad8765341764\",\n            html: 'Option <span class=\"hashtag\">#1</span>',\n            votes: 1\n          }, {\n            id: \"d8c22ff912e03740d9bc19e133e581e0\",\n            html: 'Option <span class=\"hashtag\">#2</span>',\n            votes: 2\n          }],\n          voters: 3,\n          preloaded_voters: {\n            db753fe0bc4e72869ac1ad8765341764: [{\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            }],\n            d8c22ff912e03740d9bc19e133e581e0: [{\n              id: 7,\n              username: \"foo\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/f/b19c9b/{size}.png\",\n              title: null\n            }]\n          },\n          chart_type: \"bar\",\n          title: null\n        }]\n      });\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(1) .poll-voters li\"), 1);\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(2) .poll-voters li\"), 1);\n      await (0, _testHelpers.click)(\".poll-voters-toggle-expand a\");\n      await (0, _testHelpers.visit)(\"/t/load-more-poll-voters/134\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(1) .poll-voters li\"), 2);\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .results li:nth-child(2) .poll-voters li\"), 0);\n    });\n    (0, _qunit.test)(\"can unvote\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/load-more-poll-voters/134\");\n      await (0, _testHelpers.click)(\".toggle-results\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .d-icon-circle\"), 1);\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .d-icon-far-circle\"), 1);\n      await (0, _testHelpers.click)(\".remove-vote\");\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .d-icon-circle\"), 0);\n      assert.strictEqual((0, _qunitHelpers.count)(\".poll-container .d-icon-far-circle\"), 2);\n    });\n  });\n  (0, _qunitHelpers.acceptance)(\"Poll results - no voters\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/posts/by_number/134/1\", () => {\n        return helper.response({\n          id: 156,\n          name: null,\n          username: \"bianca\",\n          avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n          created_at: \"2021-06-08T21:56:55.166Z\",\n          cooked: '\\u003cdiv class=\"poll\" data-poll-status=\"open\" data-poll-public=\"true\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\" data-poll-name=\"poll\"\\u003e\\n\\u003cdiv\\u003e\\n\\u003cdiv class=\"poll-container\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli data-poll-option-id=\"db753fe0bc4e72869ac1ad8765341764\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003cli data-poll-option-id=\"d8c22ff912e03740d9bc19e133e581e0\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/div\\u003e\\n\\u003cdiv class=\"poll-info\"\\u003e\\n\\u003cp\\u003e\\n\\u003cspan class=\"info-number\"\\u003e0\\u003c/span\\u003e\\n\\u003cspan class=\"info-label\"\\u003evoters\\u003c/span\\u003e\\n\\u003c/p\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e',\n          post_number: 1,\n          post_type: 1,\n          updated_at: \"2021-06-08T21:59:16.444Z\",\n          reply_count: 0,\n          reply_to_post_number: null,\n          quote_count: 0,\n          incoming_link_count: 0,\n          reads: 2,\n          readers_count: 1,\n          score: 0,\n          yours: true,\n          topic_id: 134,\n          topic_slug: \"load-more-poll-voters\",\n          display_username: null,\n          primary_group_name: null,\n          flair_url: null,\n          flair_bg_color: null,\n          flair_color: null,\n          version: 1,\n          can_edit: true,\n          can_delete: false,\n          can_recover: false,\n          can_wiki: true,\n          title_is_group: false,\n          bookmarked: false,\n          bookmarks: [],\n          raw: \"[poll type=regular results=always public=true chartType=bar]\\n* Option #1\\n* Option #2\\n[/poll]\",\n          actions_summary: [{\n            id: 3,\n            can_act: true\n          }, {\n            id: 4,\n            can_act: true\n          }, {\n            id: 8,\n            can_act: true\n          }, {\n            id: 7,\n            can_act: true\n          }],\n          moderator: false,\n          admin: true,\n          staff: true,\n          user_id: 1,\n          hidden: false,\n          trust_level: 0,\n          deleted_at: null,\n          user_deleted: false,\n          edit_reason: null,\n          can_view_edit_history: true,\n          wiki: false,\n          reviewable_id: null,\n          reviewable_score_count: 0,\n          reviewable_score_pending_count: 0,\n          calendar_details: [],\n          can_accept_answer: false,\n          can_unaccept_answer: false,\n          accepted_answer: false,\n          polls: [{\n            name: \"poll\",\n            type: \"regular\",\n            status: \"open\",\n            public: true,\n            results: \"always\",\n            options: [{\n              id: \"db753fe0bc4e72869ac1ad8765341764\",\n              html: 'Option \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e',\n              votes: 0\n            }, {\n              id: \"d8c22ff912e03740d9bc19e133e581e0\",\n              html: 'Option \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e',\n              votes: 0\n            }],\n            voters: 0,\n            preloaded_voters: {},\n            chart_type: \"bar\",\n            title: null\n          }]\n        });\n      });\n      server.get(\"/t/134.json\", () => {\n        return helper.response({\n          post_stream: {\n            posts: [{\n              id: 156,\n              name: null,\n              username: \"bianca\",\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              created_at: \"2021-06-08T21:56:55.166Z\",\n              cooked: '\\u003cdiv class=\"poll\" data-poll-status=\"open\" data-poll-public=\"true\" data-poll-results=\"always\" data-poll-charttype=\"bar\" data-poll-type=\"regular\" data-poll-name=\"poll\"\\u003e\\n\\u003cdiv\\u003e\\n\\u003cdiv class=\"poll-container\"\\u003e\\n\\u003cul\\u003e\\n\\u003cli data-poll-option-id=\"db753fe0bc4e72869ac1ad8765341764\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003cli data-poll-option-id=\"d8c22ff912e03740d9bc19e133e581e0\"\\u003eOption \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e\\n\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\n\\u003c/div\\u003e\\n\\u003cdiv class=\"poll-info\"\\u003e\\n\\u003cp\\u003e\\n\\u003cspan class=\"info-number\"\\u003e0\\u003c/span\\u003e\\n\\u003cspan class=\"info-label\"\\u003evoters\\u003c/span\\u003e\\n\\u003c/p\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e\\n\\u003c/div\\u003e',\n              post_number: 1,\n              post_type: 1,\n              updated_at: \"2021-06-08T21:59:16.444Z\",\n              reply_count: 0,\n              reply_to_post_number: null,\n              quote_count: 0,\n              incoming_link_count: 0,\n              reads: 2,\n              readers_count: 1,\n              score: 0,\n              yours: true,\n              topic_id: 134,\n              topic_slug: \"load-more-poll-voters\",\n              display_username: null,\n              primary_group_name: null,\n              flair_url: null,\n              flair_bg_color: null,\n              flair_color: null,\n              version: 1,\n              can_edit: true,\n              can_delete: false,\n              can_recover: false,\n              can_wiki: true,\n              read: true,\n              title_is_group: false,\n              bookmarked: false,\n              bookmarks: [],\n              actions_summary: [{\n                id: 3,\n                can_act: true\n              }, {\n                id: 4,\n                can_act: true\n              }, {\n                id: 8,\n                can_act: true\n              }, {\n                id: 7,\n                can_act: true\n              }],\n              moderator: false,\n              admin: true,\n              staff: true,\n              user_id: 1,\n              hidden: false,\n              trust_level: 0,\n              deleted_at: null,\n              user_deleted: false,\n              edit_reason: null,\n              can_view_edit_history: true,\n              wiki: false,\n              reviewable_id: 0,\n              reviewable_score_count: 0,\n              reviewable_score_pending_count: 0,\n              calendar_details: [],\n              can_accept_answer: false,\n              can_unaccept_answer: false,\n              accepted_answer: false,\n              polls: [{\n                name: \"poll\",\n                type: \"regular\",\n                status: \"open\",\n                public: true,\n                results: \"always\",\n                options: [{\n                  id: \"db753fe0bc4e72869ac1ad8765341764\",\n                  html: 'Option \\u003cspan class=\"hashtag\"\\u003e#1\\u003c/span\\u003e',\n                  votes: 0\n                }, {\n                  id: \"d8c22ff912e03740d9bc19e133e581e0\",\n                  html: 'Option \\u003cspan class=\"hashtag\"\\u003e#2\\u003c/span\\u003e',\n                  votes: 0\n                }],\n                voters: 0,\n                preloaded_voters: {},\n                chart_type: \"bar\",\n                title: null\n              }]\n            }],\n            stream: [156]\n          },\n          timeline_lookup: [[1, 0]],\n          suggested_topics: [{\n            id: 7,\n            title: \"Welcome to Discourse\",\n            fancy_title: \"Welcome to Discourse\",\n            slug: \"welcome-to-discourse\",\n            posts_count: 9,\n            reply_count: 0,\n            highest_post_number: 9,\n            image_url: \"//localhost:3000/uploads/default/original/1X/ba1a510603f5112dcaf06cf42c2eb671bff83681.png\",\n            created_at: \"2021-06-02T16:21:38.347Z\",\n            last_posted_at: \"2021-06-08T20:36:29.235Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T20:36:29.235Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 9,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: true,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 2,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: null,\n              description: \"Original Poster\",\n              user: {\n                id: -1,\n                username: \"system\",\n                name: \"system\",\n                avatar_template: \"/images/discourse-logo-sketch-small.png\"\n              }\n            }, {\n              extras: \"latest\",\n              description: \"Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }, {\n            id: 129,\n            title: \"This is another test topic\",\n            fancy_title: \"This is another test topic\",\n            slug: \"this-is-another-test-topic\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2021-06-03T15:48:27.262Z\",\n            last_posted_at: \"2021-06-03T15:48:27.537Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T12:52:36.650Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 2,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 7,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 12,\n                username: \"bar\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/b77776/{size}.png\"\n              }\n            }]\n          }, {\n            id: 131,\n            title: \"Welcome to Discourse — thanks for starting a new conversation!\",\n            fancy_title: \"Welcome to Discourse — thanks for starting a new conversation!\",\n            slug: \"welcome-to-discourse-thanks-for-starting-a-new-conversation\",\n            posts_count: 1,\n            reply_count: 0,\n            highest_post_number: 1,\n            image_url: null,\n            created_at: \"2021-06-04T08:51:19.807Z\",\n            last_posted_at: \"2021-06-04T08:51:19.928Z\",\n            bumped: true,\n            bumped_at: \"2021-06-04T14:37:46.939Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 1,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 3,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [\"abc\", \"e\", \"b\"],\n            like_count: 0,\n            views: 3,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }, {\n            id: 133,\n            title: \"This is a new topic\",\n            fancy_title: \"This is a new topic\",\n            slug: \"this-is-a-new-topic\",\n            posts_count: 12,\n            reply_count: 0,\n            highest_post_number: 12,\n            image_url: null,\n            created_at: \"2021-06-08T14:44:03.664Z\",\n            last_posted_at: \"2021-06-08T19:57:35.853Z\",\n            bumped: true,\n            bumped_at: \"2021-06-08T19:57:35.853Z\",\n            archetype: \"regular\",\n            unseen: false,\n            last_read_post_number: 12,\n            unread_posts: 0,\n            pinned: false,\n            unpinned: null,\n            visible: true,\n            closed: false,\n            archived: false,\n            notification_level: 3,\n            bookmarked: false,\n            bookmarks: [],\n            liked: false,\n            tags: [],\n            like_count: 0,\n            views: 1,\n            category_id: 1,\n            featured_link: null,\n            has_accepted_answer: false,\n            posters: [{\n              extras: \"latest single\",\n              description: \"Original Poster, Most Recent Poster\",\n              user: {\n                id: 1,\n                username: \"bianca\",\n                name: null,\n                avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n              }\n            }]\n          }],\n          tags: [],\n          id: 134,\n          title: \"Load more poll voters\",\n          fancy_title: \"Load more poll voters\",\n          posts_count: 1,\n          created_at: \"2021-06-08T21:56:55.073Z\",\n          views: 4,\n          reply_count: 0,\n          like_count: 0,\n          last_posted_at: \"2021-06-08T21:56:55.166Z\",\n          visible: true,\n          closed: false,\n          archived: false,\n          has_summary: false,\n          archetype: \"regular\",\n          slug: \"load-more-poll-voters\",\n          category_id: 1,\n          word_count: 14,\n          deleted_at: null,\n          user_id: 1,\n          featured_link: null,\n          pinned_globally: false,\n          pinned_at: null,\n          pinned_until: null,\n          image_url: null,\n          slow_mode_seconds: 0,\n          draft: null,\n          draft_key: \"topic_134\",\n          draft_sequence: 7,\n          posted: true,\n          unpinned: null,\n          pinned: false,\n          current_post_number: 1,\n          highest_post_number: 1,\n          last_read_post_number: 1,\n          last_read_post_id: 156,\n          deleted_by: null,\n          has_deleted: false,\n          actions_summary: [{\n            id: 4,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 8,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }, {\n            id: 7,\n            count: 0,\n            hidden: false,\n            can_act: true\n          }],\n          chunk_size: 20,\n          bookmarked: false,\n          bookmarks: [],\n          topic_timer: null,\n          message_bus_last_id: 5,\n          participant_count: 1,\n          queued_posts_count: 0,\n          show_read_indicator: false,\n          thumbnails: null,\n          slow_mode_enabled_until: null,\n          details: {\n            can_edit: true,\n            notification_level: 3,\n            notifications_reason_id: 1,\n            can_move_posts: true,\n            can_delete: true,\n            can_remove_allowed_users: true,\n            can_invite_to: true,\n            can_invite_via_email: true,\n            can_create_post: true,\n            can_reply_as_new_topic: true,\n            can_flag_topic: true,\n            can_convert_topic: true,\n            can_review_topic: true,\n            can_close_topic: true,\n            can_archive_topic: true,\n            can_split_merge_topic: true,\n            can_edit_staff_notes: true,\n            can_toggle_topic_visibility: true,\n            can_pin_unpin_topic: true,\n            can_moderate_category: true,\n            can_remove_self_id: 1,\n            participants: [{\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\",\n              post_count: 1,\n              primary_group_name: null,\n              flair_url: null,\n              flair_color: null,\n              flair_bg_color: null,\n              admin: true,\n              trust_level: 0\n            }],\n            created_by: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            },\n            last_poster: {\n              id: 1,\n              username: \"bianca\",\n              name: null,\n              avatar_template: \"/letter_avatar_proxy/v4/letter/b/3be4f8/{size}.png\"\n            }\n          },\n          pending_posts: []\n        });\n      });\n    });\n    (0, _qunit.test)(\"does not show results button\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/load-more-poll-voters/134\");\n      assert.ok(!(0, _qunitHelpers.exists)(\".toggle-results\"));\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/polls-bar-chart-test-desktop\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Rendering polls with bar charts - desktop\", function (needs) {\n    needs.user();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/polls/voters.json\", request => {\n        let body = {};\n        if (request.queryParams.option_id === \"68b434ff88aeae7054e42cd05a4d9056\") {\n          body = {\n            voters: {\n              \"68b434ff88aeae7054e42cd05a4d9056\": [{\n                id: 777,\n                username: \"bruce777\",\n                avatar_template: \"/images/avatar.png\",\n                name: \"Bruce Wayne\"\n              }]\n            }\n          };\n        } else {\n          body = {\n            voters: Array.from(new Array(5), (_, i) => ({\n              id: 600 + i,\n              username: `bruce${600 + i}`,\n              avatar_template: \"/images/avatar.png\",\n              name: \"Bruce Wayne\"\n            }))\n          };\n        }\n        return helper.response(body);\n      });\n    });\n    (0, _qunit.test)(\"Polls\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/15\");\n      const polls = (0, _qunitHelpers.queryAll)(\".poll\");\n      assert.strictEqual(polls.length, 2, \"it should render the polls correctly\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".info-number\", polls[0]).text(), \"2\", \"it should display the right number of votes\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".info-number\", polls[1]).text(), \"3\", \"it should display the right number of votes\");\n    });\n    (0, _qunit.test)(\"Public poll\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/14\");\n      const polls = (0, _qunitHelpers.queryAll)(\".poll\");\n      assert.strictEqual(polls.length, 1, \"it should render the poll correctly\");\n      await (0, _testHelpers.click)(\"button.toggle-results\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 25, \"it should display the right number of voters\");\n      await (0, _testHelpers.click)(\".poll-voters-toggle-expand:nth-of-type(1) a\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 26, \"it should display the right number of voters\");\n    });\n    (0, _qunit.test)(\"Public number poll\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/13\");\n      const polls = (0, _qunitHelpers.queryAll)(\".poll\");\n      assert.strictEqual(polls.length, 1, \"it should render the poll correctly\");\n      await (0, _testHelpers.click)(\"button.toggle-results\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 25, \"it should display the right number of voters\");\n      assert.notOk((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li:nth-of-type(1) a\").attr(\"href\"), \"user URL does not exist\");\n      await (0, _testHelpers.click)(\".poll-voters-toggle-expand:nth-of-type(1) a\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 30, \"it should display the right number of voters\");\n    });\n  });\n});","define(\"discourse/plugins/poll/acceptance/polls-bar-chart-test-mobile\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/qunit-helpers\"], function (_testHelpers, _qunit, _qunitHelpers) {\n  \"use strict\";\n\n  (0, _qunitHelpers.acceptance)(\"Rendering polls with bar charts - mobile\", function (needs) {\n    needs.user();\n    needs.mobileView();\n    needs.settings({\n      poll_enabled: true\n    });\n    needs.pretender((server, helper) => {\n      server.get(\"/polls/voters.json\", () => {\n        return helper.response({\n          voters: Array.from(new Array(10), (_, i) => ({\n            id: 500 + i,\n            username: `bruce${500 + i}`,\n            avatar_template: \"/images/avatar.png\",\n            name: \"Bruce Wayne\"\n          }))\n        });\n      });\n    });\n    (0, _qunit.test)(\"Public number poll\", async function (assert) {\n      await (0, _testHelpers.visit)(\"/t/-/13\");\n      const polls = (0, _qunitHelpers.queryAll)(\".poll\");\n      assert.strictEqual(polls.length, 1, \"it should render the poll correctly\");\n      await (0, _testHelpers.click)(\"button.toggle-results\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 25, \"it should display the right number of voters\");\n      assert.notOk((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li:nth-of-type(1) a\").attr(\"href\"), \"user URL does not exist\");\n      await (0, _testHelpers.click)(\".poll-voters-toggle-expand:nth-of-type(1) a\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".poll-voters:nth-of-type(1) li\").length, 35, \"it should display the right number of voters\");\n    });\n  });\n});","define(\"discourse/plugins/poll/component/poll-ui-builder-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/component-test\", \"discourse/tests/helpers/select-kit-helper\", \"@ember/template-factory\"], function (_testHelpers, _qunit, _componentTest, _selectKitHelper, _templateFactory) {\n  \"use strict\";\n\n  async function setupBuilder(context) {\n    const results = [];\n    const model = {\n      toolbarEvent: {\n        getText: () => \"\",\n        addText: t => results.push(t)\n      }\n    };\n    context.model = model;\n    await (0, _testHelpers.render)((0, _templateFactory.createTemplateFactory)(\n    /*\n      <Modal::PollUiBuilder @inline={{true}} @model={{this.model}} @closeModal={{fn (mut this.closeCalled) true}} />\n    */\n    {\n      \"id\": \"Ykfz+lP1\",\n      \"block\": \"[[[8,[39,0],null,[[\\\"@inline\\\",\\\"@model\\\",\\\"@closeModal\\\"],[true,[30,0,[\\\"model\\\"]],[28,[37,1],[[28,[37,2],[[30,0,[\\\"closeCalled\\\"]]],null],true],null]]],null]],[],false,[\\\"modal/poll-ui-builder\\\",\\\"fn\\\",\\\"mut\\\"]]\",\n      \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/component/poll-ui-builder-test.js\",\n      \"isStrictMode\": false\n    }));\n    return results;\n  }\n  (0, _qunit.module)(\"Poll | Component | poll-ui-builder\", function (hooks) {\n    (0, _componentTest.setupRenderingTest)(hooks);\n    (0, _qunit.test)(\"Can switch poll type\", async function (assert) {\n      await setupBuilder(this);\n      assert.dom(\".poll-type-value-regular\").hasClass(\"active\");\n      await (0, _testHelpers.click)(\".poll-type-value-multiple\");\n      assert.dom(\".poll-type-value-multiple\").hasClass(\"active\", \"can switch to 'multiple' type\");\n      assert.dom(\".poll-type-value-number\").doesNotExist(\"number type is hidden by default\");\n      await (0, _testHelpers.click)(\".show-advanced\");\n      assert.dom(\".poll-type-value-number\").exists(\"number type appears in advanced mode\");\n      await (0, _testHelpers.click)(\".poll-type-value-number\");\n      assert.dom(\".poll-type-value-number\").hasClass(\"active\", \"can switch to 'number' type\");\n    });\n    (0, _qunit.test)(\"Automatically updates min/max when number of options change\", async function (assert) {\n      await setupBuilder(this);\n      await (0, _testHelpers.click)(\".poll-type-value-multiple\");\n      assert.dom(\".poll-options-min\").hasValue(\"0\");\n      assert.dom(\".poll-options-max\").hasValue(\"0\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value input\", \"a\");\n      assert.dom(\".poll-options-min\").hasValue(\"1\");\n      assert.dom(\".poll-options-max\").hasValue(\"1\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(2) input\", \"b\");\n      assert.dom(\".poll-options-min\").hasValue(\"1\");\n      assert.dom(\".poll-options-max\").hasValue(\"2\");\n    });\n    (0, _qunit.test)(\"disables save button\", async function (assert) {\n      this.siteSettings.poll_maximum_options = 3;\n      await setupBuilder(this);\n      assert.dom(\".insert-poll\").isDisabled(\"Insert button disabled when no options specified\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value input\", \"a\");\n      assert.dom(\".insert-poll\").isEnabled(\"Insert button enabled once an option is specified\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(2) input\", \"b\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(3) input\", \"c\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(4) input\", \"d\");\n      assert.dom(\".insert-poll\").isDisabled(\"Insert button disabled when too many options\");\n    });\n    (0, _qunit.test)(\"number mode\", async function (assert) {\n      const results = await setupBuilder(this);\n      await (0, _testHelpers.click)(\".show-advanced\");\n      await (0, _testHelpers.click)(\".poll-type-value-number\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=number results=always min=1 max=20 step=1 public=true]\\n[/poll]\\n\");\n      await (0, _testHelpers.fillIn)(\".poll-options-step\", \"2\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=number results=always min=1 max=20 step=2 public=true]\\n[/poll]\\n\", \"includes step value\");\n      await (0, _testHelpers.click)(\".poll-toggle-public\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=number results=always min=1 max=20 step=2 public=false]\\n[/poll]\\n\", \"can be set to private\");\n      await (0, _testHelpers.fillIn)(\".poll-options-step\", \"0\");\n      assert.dom(\".insert-poll\").isDisabled(\"Insert button disabled when step is 0\");\n    });\n    (0, _qunit.test)(\"regular mode\", async function (assert) {\n      const results = await setupBuilder(this);\n      await (0, _testHelpers.fillIn)(\".poll-option-value input\", \"a\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(2) input\", \"b\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=regular results=always public=true chartType=bar]\\n* a\\n* b\\n[/poll]\\n\", \"has correct output\");\n      await (0, _testHelpers.click)(\".show-advanced\");\n      await (0, _testHelpers.click)(\".poll-toggle-public\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=regular results=always public=false chartType=bar]\\n* a\\n* b\\n[/poll]\\n\", \"can be set to private\");\n      const groupChooser = (0, _selectKitHelper.default)(\".group-chooser\");\n      await groupChooser.expand();\n      await groupChooser.selectRowByName(\"custom_group\");\n      await groupChooser.collapse();\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=regular results=always public=false chartType=bar groups=custom_group]\\n* a\\n* b\\n[/poll]\\n\", \"has groups\");\n    });\n    (0, _qunit.test)(\"multi-choice mode\", async function (assert) {\n      const results = await setupBuilder(this);\n      await (0, _testHelpers.click)(\".poll-type-value-multiple\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value input\", \"a\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(2) input\", \"b\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=multiple results=always min=1 max=2 public=true chartType=bar]\\n* a\\n* b\\n[/poll]\\n\", \"has correct output\");\n      await (0, _testHelpers.click)(\".show-advanced\");\n      await (0, _testHelpers.click)(\".poll-toggle-public\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=multiple results=always min=1 max=2 public=false chartType=bar]\\n* a\\n* b\\n[/poll]\\n\", \"can be set to private boolean\");\n    });\n    (0, _qunit.test)(\"staff_only option is not present for non-staff\", async function (assert) {\n      await setupBuilder(this);\n      await (0, _testHelpers.click)(\".show-advanced\");\n      const resultVisibility = (0, _selectKitHelper.default)(\".poll-result\");\n      assert.strictEqual(resultVisibility.header().value(), \"always\");\n      await resultVisibility.expand();\n      assert.false(resultVisibility.rowByValue(\"staff_only\").exists(), \"staff_only is not visible to normal users\");\n      await resultVisibility.collapse();\n      this.currentUser.setProperties({\n        admin: true\n      });\n      await resultVisibility.expand();\n      assert.true(resultVisibility.rowByValue(\"staff_only\").exists(), \"staff_only is visible to staff\");\n      await resultVisibility.collapse();\n    });\n    (0, _qunit.test)(\"default public value can be controlled with site setting\", async function (assert) {\n      this.siteSettings.poll_default_public = false;\n      const results = await setupBuilder(this);\n      await (0, _testHelpers.fillIn)(\".poll-option-value input\", \"a\");\n      await (0, _testHelpers.click)(\".poll-option-add\");\n      await (0, _testHelpers.fillIn)(\".poll-option-value:nth-of-type(2) input\", \"b\");\n      await (0, _testHelpers.click)(\".insert-poll\");\n      assert.strictEqual(results[results.length - 1], \"[poll type=regular results=always public=false chartType=bar]\\n* a\\n* b\\n[/poll]\\n\", \"can be set to private boolean\");\n    });\n  });\n});","define(\"discourse/plugins/poll/helpers/display-poll-builder-button\", [\"exports\", \"@ember/test-helpers\", \"discourse/tests/helpers/select-kit-helper\"], function (_exports, _testHelpers, _selectKitHelper) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.displayPollBuilderButton = displayPollBuilderButton;\n  async function displayPollBuilderButton() {\n    await (0, _testHelpers.visit)(\"/\");\n    await (0, _testHelpers.click)(\"#create-topic\");\n    await (0, _testHelpers.click)(\".d-editor-button-bar .options\");\n    await (0, _selectKitHelper.default)(\".toolbar-popup-menu-options\").expand();\n  }\n});","define(\"discourse/plugins/poll/widgets/discourse-poll-option-test\", [\"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/component-test\", \"discourse/tests/helpers/qunit-helpers\", \"@ember/template-factory\"], function (_testHelpers, _qunit, _componentTest, _qunitHelpers, _templateFactory) {\n  \"use strict\";\n\n  (0, _qunit.module)(\"Integration | Component | Widget | discourse-poll-option\", function (hooks) {\n    (0, _componentTest.setupRenderingTest)(hooks);\n    const template = (0, _templateFactory.createTemplateFactory)(\n    /*\n      \n          <MountWidget\n            @widget=\"discourse-poll-option\"\n            @args={{hash\n              option=this.option\n              isMultiple=this.isMultiple\n              vote=this.vote\n            }}\n          />\n        \n    */\n    {\n      \"id\": \"I5ChpuAZ\",\n      \"block\": \"[[[1,\\\"\\\\n      \\\"],[8,[39,0],null,[[\\\"@widget\\\",\\\"@args\\\"],[\\\"discourse-poll-option\\\",[28,[37,1],null,[[\\\"option\\\",\\\"isMultiple\\\",\\\"vote\\\"],[[30,0,[\\\"option\\\"]],[30,0,[\\\"isMultiple\\\"]],[30,0,[\\\"vote\\\"]]]]]]],null],[1,\\\"\\\\n    \\\"]],[],false,[\\\"mount-widget\\\",\\\"hash\\\"]]\",\n      \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/widgets/discourse-poll-option-test.js\",\n      \"isStrictMode\": false\n    });\n    (0, _qunit.test)(\"single, not selected\", async function (assert) {\n      this.set(\"option\", {\n        id: \"opt-id\"\n      });\n      this.set(\"vote\", []);\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.count)(\"li .d-icon-far-circle:nth-of-type(1)\"), 1);\n    });\n    (0, _qunit.test)(\"single, selected\", async function (assert) {\n      this.set(\"option\", {\n        id: \"opt-id\"\n      });\n      this.set(\"vote\", [\"opt-id\"]);\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.count)(\"li .d-icon-circle:nth-of-type(1)\"), 1);\n    });\n    (0, _qunit.test)(\"multi, not selected\", async function (assert) {\n      this.setProperties({\n        option: {\n          id: \"opt-id\"\n        },\n        isMultiple: true,\n        vote: []\n      });\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.count)(\"li .d-icon-far-square:nth-of-type(1)\"), 1);\n    });\n    (0, _qunit.test)(\"multi, selected\", async function (assert) {\n      this.setProperties({\n        option: {\n          id: \"opt-id\"\n        },\n        isMultiple: true,\n        vote: [\"opt-id\"]\n      });\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.count)(\"li .d-icon-far-check-square:nth-of-type(1)\"), 1);\n    });\n  });\n});","define(\"discourse/plugins/poll/widgets/discourse-poll-standard-results-test\", [\"@ember/object\", \"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/component-test\", \"discourse/tests/helpers/qunit-helpers\", \"@ember/template-factory\"], function (_object, _testHelpers, _qunit, _componentTest, _qunitHelpers, _templateFactory) {\n  \"use strict\";\n\n  (0, _qunit.module)(\"Integration | Component | Widget | discourse-poll-standard-results\", function (hooks) {\n    (0, _componentTest.setupRenderingTest)(hooks);\n    const template = (0, _templateFactory.createTemplateFactory)(\n    /*\n      \n          <MountWidget\n            @widget=\"discourse-poll-standard-results\"\n            @args={{hash poll=this.poll isMultiple=this.isMultiple}}\n          />\n        \n    */\n    {\n      \"id\": \"jWVcnzzI\",\n      \"block\": \"[[[1,\\\"\\\\n      \\\"],[8,[39,0],null,[[\\\"@widget\\\",\\\"@args\\\"],[\\\"discourse-poll-standard-results\\\",[28,[37,1],null,[[\\\"poll\\\",\\\"isMultiple\\\"],[[30,0,[\\\"poll\\\"]],[30,0,[\\\"isMultiple\\\"]]]]]]],null],[1,\\\"\\\\n    \\\"]],[],false,[\\\"mount-widget\\\",\\\"hash\\\"]]\",\n      \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/widgets/discourse-poll-standard-results-test.js\",\n      \"isStrictMode\": false\n    });\n    (0, _qunit.test)(\"options in descending order\", async function (assert) {\n      this.set(\"poll\", _object.default.create({\n        options: [{\n          votes: 5\n        }, {\n          votes: 4\n        }],\n        voters: 9\n      }));\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option .percentage\")[0].innerText, \"56%\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option .percentage\")[1].innerText, \"44%\");\n    });\n    (0, _qunit.test)(\"options in ascending order\", async function (assert) {\n      this.set(\"poll\", _object.default.create({\n        options: [{\n          votes: 4\n        }, {\n          votes: 5\n        }],\n        voters: 9\n      }));\n      await (0, _testHelpers.render)(template);\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option .percentage\")[0].innerText, \"56%\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option .percentage\")[1].innerText, \"44%\");\n    });\n    (0, _qunit.test)(\"multiple options in descending order\", async function (assert) {\n      this.set(\"isMultiple\", true);\n      this.set(\"poll\", _object.default.create({\n        type: \"multiple\",\n        options: [{\n          votes: 5,\n          html: \"a\"\n        }, {\n          votes: 2,\n          html: \"b\"\n        }, {\n          votes: 4,\n          html: \"c\"\n        }, {\n          votes: 1,\n          html: \"b\"\n        }, {\n          votes: 1,\n          html: \"a\"\n        }],\n        voters: 12\n      }));\n      await (0, _testHelpers.render)(template);\n      let percentages = (0, _qunitHelpers.queryAll)(\".option .percentage\");\n      assert.strictEqual(percentages[0].innerText, \"41%\");\n      assert.strictEqual(percentages[1].innerText, \"33%\");\n      assert.strictEqual(percentages[2].innerText, \"16%\");\n      assert.strictEqual(percentages[3].innerText, \"8%\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option\")[3].querySelectorAll(\"span\")[1].innerText, \"a\");\n      assert.strictEqual(percentages[4].innerText, \"8%\");\n      assert.strictEqual((0, _qunitHelpers.queryAll)(\".option\")[4].querySelectorAll(\"span\")[1].innerText, \"b\");\n    });\n  });\n});","define(\"discourse/plugins/poll/widgets/discourse-poll-test\", [\"@ember/object\", \"@ember/test-helpers\", \"qunit\", \"discourse/tests/helpers/component-test\", \"discourse/tests/helpers/create-pretender\", \"discourse/tests/helpers/qunit-helpers\", \"discourse-i18n\", \"@ember/template-factory\"], function (_object, _testHelpers, _qunit, _componentTest, _createPretender, _qunitHelpers, _discourseI18n, _templateFactory) {\n  \"use strict\";\n\n  let requests = 0;\n  (0, _qunit.module)(\"Integration | Component | Widget | discourse-poll\", function (hooks) {\n    (0, _componentTest.setupRenderingTest)(hooks);\n    hooks.beforeEach(function () {\n      _createPretender.default.put(\"/polls/vote\", () => {\n        ++requests;\n        return (0, _createPretender.response)({\n          poll: {\n            name: \"poll\",\n            type: \"regular\",\n            status: \"open\",\n            results: \"always\",\n            options: [{\n              id: \"1f972d1df351de3ce35a787c89faad29\",\n              html: \"yes\",\n              votes: 1\n            }, {\n              id: \"d7ebc3a9beea2e680815a1e4f57d6db6\",\n              html: \"no\",\n              votes: 0\n            }],\n            voters: 1,\n            chart_type: \"bar\"\n          },\n          vote: [\"1f972d1df351de3ce35a787c89faad29\"]\n        });\n      });\n    });\n    (0, _qunit.test)(\"can vote\", async function (assert) {\n      this.set(\"args\", _object.default.create({\n        post: _object.default.create({\n          id: 42,\n          topic: {\n            archived: false\n          }\n        }),\n        poll: _object.default.create({\n          name: \"poll\",\n          type: \"regular\",\n          status: \"open\",\n          results: \"always\",\n          options: [{\n            id: \"1f972d1df351de3ce35a787c89faad29\",\n            html: \"yes\",\n            votes: 0\n          }, {\n            id: \"d7ebc3a9beea2e680815a1e4f57d6db6\",\n            html: \"no\",\n            votes: 0\n          }],\n          voters: 0,\n          chart_type: \"bar\"\n        }),\n        vote: [],\n        groupableUserFields: []\n      }));\n      await (0, _testHelpers.render)((0, _templateFactory.createTemplateFactory)(\n      /*\n        <MountWidget @widget=\"discourse-poll\" @args={{this.args}} />\n      */\n      {\n        \"id\": \"snDg9bxh\",\n        \"block\": \"[[[8,[39,0],null,[[\\\"@widget\\\",\\\"@args\\\"],[\\\"discourse-poll\\\",[30,0,[\\\"args\\\"]]]],null]],[],false,[\\\"mount-widget\\\"]]\",\n        \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/widgets/discourse-poll-test.js\",\n        \"isStrictMode\": false\n      }));\n      requests = 0;\n      await (0, _testHelpers.click)(\"li[data-poll-option-id='1f972d1df351de3ce35a787c89faad29']\");\n      assert.strictEqual(requests, 1);\n      assert.strictEqual((0, _qunitHelpers.count)(\".chosen\"), 1);\n      assert.deepEqual(Array.from((0, _qunitHelpers.queryAll)(\".chosen span\")).map(span => span.innerText), [\"100%\", \"yes\"]);\n      await (0, _testHelpers.click)(\".toggle-results\");\n      assert.strictEqual((0, _qunitHelpers.count)(\"li[data-poll-option-id='1f972d1df351de3ce35a787c89faad29']\"), 1);\n    });\n    (0, _qunit.test)(\"cannot vote if not member of the right group\", async function (assert) {\n      this.set(\"args\", _object.default.create({\n        post: _object.default.create({\n          id: 42,\n          topic: {\n            archived: false\n          }\n        }),\n        poll: _object.default.create({\n          name: \"poll\",\n          type: \"regular\",\n          status: \"open\",\n          results: \"always\",\n          options: [{\n            id: \"1f972d1df351de3ce35a787c89faad29\",\n            html: \"yes\",\n            votes: 0\n          }, {\n            id: \"d7ebc3a9beea2e680815a1e4f57d6db6\",\n            html: \"no\",\n            votes: 0\n          }],\n          voters: 0,\n          chart_type: \"bar\",\n          groups: \"foo\"\n        }),\n        vote: [],\n        groupableUserFields: []\n      }));\n      await (0, _testHelpers.render)((0, _templateFactory.createTemplateFactory)(\n      /*\n        <MountWidget @widget=\"discourse-poll\" @args={{this.args}} />\n      */\n      {\n        \"id\": \"snDg9bxh\",\n        \"block\": \"[[[8,[39,0],null,[[\\\"@widget\\\",\\\"@args\\\"],[\\\"discourse-poll\\\",[30,0,[\\\"args\\\"]]]],null]],[],false,[\\\"mount-widget\\\"]]\",\n        \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/widgets/discourse-poll-test.js\",\n        \"isStrictMode\": false\n      }));\n      requests = 0;\n      await (0, _testHelpers.click)(\"li[data-poll-option-id='1f972d1df351de3ce35a787c89faad29']\");\n      assert.strictEqual((0, _qunitHelpers.query)(\".poll-container .alert\").innerText, _discourseI18n.default.t(\"poll.results.groups.title\", {\n        groups: \"foo\"\n      }));\n      assert.strictEqual(requests, 0);\n      assert.ok(!(0, _qunitHelpers.exists)(\".chosen\"));\n    });\n    (0, _qunit.test)(\"voting on a multiple poll with no min attribute\", async function (assert) {\n      this.set(\"args\", _object.default.create({\n        post: _object.default.create({\n          id: 42,\n          topic: {\n            archived: false\n          }\n        }),\n        poll: _object.default.create({\n          name: \"poll\",\n          type: \"multiple\",\n          status: \"open\",\n          results: \"always\",\n          max: 2,\n          options: [{\n            id: \"1f972d1df351de3ce35a787c89faad29\",\n            html: \"yes\",\n            votes: 0\n          }, {\n            id: \"d7ebc3a9beea2e680815a1e4f57d6db6\",\n            html: \"no\",\n            votes: 0\n          }],\n          voters: 0,\n          chart_type: \"bar\"\n        }),\n        vote: [],\n        groupableUserFields: []\n      }));\n      await (0, _testHelpers.render)((0, _templateFactory.createTemplateFactory)(\n      /*\n        <MountWidget @widget=\"discourse-poll\" @args={{this.args}} />\n      */\n      {\n        \"id\": \"snDg9bxh\",\n        \"block\": \"[[[8,[39,0],null,[[\\\"@widget\\\",\\\"@args\\\"],[\\\"discourse-poll\\\",[30,0,[\\\"args\\\"]]]],null]],[],false,[\\\"mount-widget\\\"]]\",\n        \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/poll/widgets/discourse-poll-test.js\",\n        \"isStrictMode\": false\n      }));\n      assert.ok((0, _qunitHelpers.exists)(\".poll-buttons .cast-votes[disabled=true]\"));\n      await (0, _testHelpers.click)(\"li[data-poll-option-id='1f972d1df351de3ce35a787c89faad29']\");\n      await (0, _testHelpers.click)(\".poll-buttons .cast-votes\");\n      assert.ok((0, _qunitHelpers.exists)(\".chosen\"));\n    });\n  });\n});"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7iCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"poll_tests.js"}