{"version":3,"sources":["discourse/plugins/chat/discourse/adapters/chat-message.js","discourse/plugins/chat/discourse/admin-chat-route-map.js","discourse/plugins/chat/discourse/chat-route-map.js","discourse/plugins/chat/discourse/components/channel-title/index.js","discourse/plugins/chat/discourse/components/channels-list.js","discourse/plugins/chat/discourse/components/chat-channel-archive-status.js","discourse/plugins/chat/discourse/components/chat-channel-card.js","discourse/plugins/chat/discourse/components/chat-channel-chooser-header.js","discourse/plugins/chat/discourse/components/chat-channel-chooser-row.js","discourse/plugins/chat/discourse/components/chat-channel-chooser.js","discourse/plugins/chat/discourse/components/chat-channel-leave-btn.js","discourse/plugins/chat/discourse/components/chat-channel-message-emoji-picker.js","discourse/plugins/chat/discourse/components/chat-channel-metadata.js","discourse/plugins/chat/discourse/components/chat-channel-preview-card.js","discourse/plugins/chat/discourse/components/chat-channel-row.js","discourse/plugins/chat/discourse/components/chat-channel-status.js","discourse/plugins/chat/discourse/components/chat-channel-title.js","discourse/plugins/chat/discourse/components/chat-channel-unread-indicator.js","discourse/plugins/chat/discourse/components/chat-channel.js","discourse/plugins/chat/discourse/components/chat-composer-dropdown.js","discourse/plugins/chat/discourse/components/chat-composer-message-details.js","discourse/plugins/chat/discourse/components/chat-composer-upload.js","discourse/plugins/chat/discourse/components/chat-composer-uploads.js","discourse/plugins/chat/discourse/components/chat-composer.js","discourse/plugins/chat/discourse/components/chat-drawer.js","discourse/plugins/chat/discourse/components/chat-emoji-avatar.js","discourse/plugins/chat/discourse/components/chat-emoji-picker.js","discourse/plugins/chat/discourse/components/chat-header.js","discourse/plugins/chat/discourse/components/chat-mention-warnings.js","discourse/plugins/chat/discourse/components/chat-message-actions-desktop.js","discourse/plugins/chat/discourse/components/chat-message-actions-mobile.js","discourse/plugins/chat/discourse/components/chat-message-collapser.js","discourse/plugins/chat/discourse/components/chat-message-in-reply-to-indicator.js","discourse/plugins/chat/discourse/components/chat-message-reaction.js","discourse/plugins/chat/discourse/components/chat-message-separator-date.js","discourse/plugins/chat/discourse/components/chat-message-separator-new.js","discourse/plugins/chat/discourse/components/chat-message-text.js","discourse/plugins/chat/discourse/components/chat-message-thread-indicator.js","discourse/plugins/chat/discourse/components/chat-message.js","discourse/plugins/chat/discourse/components/chat-notice.js","discourse/plugins/chat/discourse/components/chat-notices.js","discourse/plugins/chat/discourse/components/chat-replying-indicator.js","discourse/plugins/chat/discourse/components/chat-retention-reminder-text.js","discourse/plugins/chat/discourse/components/chat-retention-reminder.js","discourse/plugins/chat/discourse/components/chat-side-panel-resizer.js","discourse/plugins/chat/discourse/components/chat-side-panel.js","discourse/plugins/chat/discourse/components/chat-skeleton.js","discourse/plugins/chat/discourse/components/chat-thread-list.js","discourse/plugins/chat/discourse/components/chat-thread-participants.js","discourse/plugins/chat/discourse/components/chat-thread-tracking-dropdown.js","discourse/plugins/chat/discourse/components/chat-thread.js","discourse/plugins/chat/discourse/components/chat-to-topic-selector.js","discourse/plugins/chat/discourse/components/chat-upload-drop-zone.js","discourse/plugins/chat/discourse/components/chat-upload.js","discourse/plugins/chat/discourse/components/chat-user-avatar.js","discourse/plugins/chat/discourse/components/chat-user-display-name.js","discourse/plugins/chat/discourse/components/chat-user-info.js","discourse/plugins/chat/discourse/components/chat-vh.js","discourse/plugins/chat/discourse/components/chat/admin/export-messages.js","discourse/plugins/chat/discourse/components/chat/composer/button.js","discourse/plugins/chat/discourse/components/chat/composer/channel.js","discourse/plugins/chat/discourse/components/chat/composer/separator.js","discourse/plugins/chat/discourse/components/chat/composer/thread.js","discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-thread.js","discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-threads.js","discourse/plugins/chat/discourse/components/chat/drawer-routes/channel.js","discourse/plugins/chat/discourse/components/chat/drawer-routes/channels.js","discourse/plugins/chat/discourse/components/chat/drawer-routes/threads.js","discourse/plugins/chat/discourse/components/chat/form.js","discourse/plugins/chat/discourse/components/chat/form/row.js","discourse/plugins/chat/discourse/components/chat/form/section.js","discourse/plugins/chat/discourse/components/chat/header/icon.js","discourse/plugins/chat/discourse/components/chat/header/icon/unread-indicator.js","discourse/plugins/chat/discourse/components/chat/list/empty-state.js","discourse/plugins/chat/discourse/components/chat/list/index.js","discourse/plugins/chat/discourse/components/chat/list/item.js","discourse/plugins/chat/discourse/components/chat/message-creator/add-members.js","discourse/plugins/chat/discourse/components/chat/message-creator/channel.js","discourse/plugins/chat/discourse/components/chat/message-creator/constants.js","discourse/plugins/chat/discourse/components/chat/message-creator/index.js","discourse/plugins/chat/discourse/components/chat/message-creator/lib/chatables-loader.js","discourse/plugins/chat/discourse/components/chat/message-creator/lib/iterate-list.js","discourse/plugins/chat/discourse/components/chat/message-creator/list-action.js","discourse/plugins/chat/discourse/components/chat/message-creator/list-handler.js","discourse/plugins/chat/discourse/components/chat/message-creator/list.js","discourse/plugins/chat/discourse/components/chat/message-creator/member.js","discourse/plugins/chat/discourse/components/chat/message-creator/members-count.js","discourse/plugins/chat/discourse/components/chat/message-creator/members-selector.js","discourse/plugins/chat/discourse/components/chat/message-creator/members.js","discourse/plugins/chat/discourse/components/chat/message-creator/new-group.js","discourse/plugins/chat/discourse/components/chat/message-creator/search-input.js","discourse/plugins/chat/discourse/components/chat/message-creator/search.js","discourse/plugins/chat/discourse/components/chat/message-creator/user.js","discourse/plugins/chat/discourse/components/chat/message/avatar.js","discourse/plugins/chat/discourse/components/chat/message/error.js","discourse/plugins/chat/discourse/components/chat/message/info.js","discourse/plugins/chat/discourse/components/chat/message/left-gutter.js","discourse/plugins/chat/discourse/components/chat/modal/archive-channel.js","discourse/plugins/chat/discourse/components/chat/modal/channel-summary.js","discourse/plugins/chat/discourse/components/chat/modal/create-channel.js","discourse/plugins/chat/discourse/components/chat/modal/delete-channel.js","discourse/plugins/chat/discourse/components/chat/modal/edit-channel-description.js","discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name.js","discourse/plugins/chat/discourse/components/chat/modal/move-message-to-channel.js","discourse/plugins/chat/discourse/components/chat/modal/new-message.js","discourse/plugins/chat/discourse/components/chat/modal/thread-settings.js","discourse/plugins/chat/discourse/components/chat/modal/toggle-channel-status.js","discourse/plugins/chat/discourse/components/chat/navbar/actions.js","discourse/plugins/chat/discourse/components/chat/navbar/back-button.js","discourse/plugins/chat/discourse/components/chat/navbar/channel-title.js","discourse/plugins/chat/discourse/components/chat/navbar/close-drawer-button.js","discourse/plugins/chat/discourse/components/chat/navbar/close-thread-button.js","discourse/plugins/chat/discourse/components/chat/navbar/close-threads-button.js","discourse/plugins/chat/discourse/components/chat/navbar/full-page-button.js","discourse/plugins/chat/discourse/components/chat/navbar/index.js","discourse/plugins/chat/discourse/components/chat/navbar/new-channel-button.js","discourse/plugins/chat/discourse/components/chat/navbar/open-drawer-button.js","discourse/plugins/chat/discourse/components/chat/navbar/sub-title.js","discourse/plugins/chat/discourse/components/chat/navbar/thread-settings-button.js","discourse/plugins/chat/discourse/components/chat/navbar/thread-tracking-dropdown.js","discourse/plugins/chat/discourse/components/chat/navbar/threads-list-button.js","discourse/plugins/chat/discourse/components/chat/navbar/title.js","discourse/plugins/chat/discourse/components/chat/navbar/toggle-drawer-button.js","discourse/plugins/chat/discourse/components/chat/notices/mention_without_membership.js","discourse/plugins/chat/discourse/components/chat/routes/browse.js","discourse/plugins/chat/discourse/components/chat/routes/channel-info-members.js","discourse/plugins/chat/discourse/components/chat/routes/channel-info-settings.js","discourse/plugins/chat/discourse/components/chat/routes/channel-info.js","discourse/plugins/chat/discourse/components/chat/routes/channel-thread.js","discourse/plugins/chat/discourse/components/chat/routes/channel-threads.js","discourse/plugins/chat/discourse/components/chat/routes/channel.js","discourse/plugins/chat/discourse/components/chat/routes/threads.js","discourse/plugins/chat/discourse/components/chat/scroll-to-bottom-arrow.js","discourse/plugins/chat/discourse/components/chat/selection-manager.js","discourse/plugins/chat/discourse/components/chat/thread-list/header.js","discourse/plugins/chat/discourse/components/chat/thread-list/item.js","discourse/plugins/chat/discourse/components/chat/thread/header-unread-indicator.js","discourse/plugins/chat/discourse/components/chat/thread/header.js","discourse/plugins/chat/discourse/components/chat/user-card-button.js","discourse/plugins/chat/discourse/components/collapser.js","discourse/plugins/chat/discourse/components/dc-filter-input.js","discourse/plugins/chat/discourse/components/full-page-chat.js","discourse/plugins/chat/discourse/components/reviewable-chat-message.js","discourse/plugins/chat/discourse/components/styleguide/chat-composer-message-details.js","discourse/plugins/chat/discourse/components/styleguide/chat-composer.js","discourse/plugins/chat/discourse/components/styleguide/chat-header-icon.js","discourse/plugins/chat/discourse/components/styleguide/chat-message.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-archive-channel.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-channel-summary.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-create-channel.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-delete-channel.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-description.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-name.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-move-message-to-channel.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-new-message.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-thread-settings.js","discourse/plugins/chat/discourse/components/styleguide/chat-modal-toggle-channel-status.js","discourse/plugins/chat/discourse/components/styleguide/chat-thread-list-item.js","discourse/plugins/chat/discourse/components/styleguide/organisms/chat.js","discourse/plugins/chat/discourse/components/thread-title/index.js","discourse/plugins/chat/discourse/components/thread-unread-indicator/index.js","discourse/plugins/chat/discourse/components/toggle-channel-membership-button.js","discourse/plugins/chat/discourse/components/user-menu/chat-notifications-list-empty-state.js","discourse/plugins/chat/discourse/components/user-menu/chat-notifications-list.js","discourse/plugins/chat/discourse/components/user-threads/index.js","discourse/plugins/chat/discourse/connectors/user-preferences-nav/chat-preferences.js","discourse/plugins/chat/discourse/controllers/admin-plugins-chat.js","discourse/plugins/chat/discourse/controllers/chat-channel-index.js","discourse/plugins/chat/discourse/controllers/chat-channel-thread.js","discourse/plugins/chat/discourse/controllers/chat-channel.js","discourse/plugins/chat/discourse/controllers/chat-draft-channel.js","discourse/plugins/chat/discourse/controllers/chat-index.js","discourse/plugins/chat/discourse/controllers/chat.js","discourse/plugins/chat/discourse/controllers/preferences-chat.js","discourse/plugins/chat/discourse/helpers/chat-guardian.js","discourse/plugins/chat/discourse/helpers/format-chat-date.js","discourse/plugins/chat/discourse/helpers/tonable-emoji-title.js","discourse/plugins/chat/discourse/helpers/tonable-emoji-url.js","discourse/plugins/chat/discourse/initializers/chat-audio.js","discourse/plugins/chat/discourse/initializers/chat-decorators.js","discourse/plugins/chat/discourse/initializers/chat-keyboard-shortcuts.js","discourse/plugins/chat/discourse/initializers/chat-plugin-decorators.js","discourse/plugins/chat/discourse/initializers/chat-setup.js","discourse/plugins/chat/discourse/initializers/chat-sidebar.js","discourse/plugins/chat/discourse/initializers/chat-user-menu.js","discourse/plugins/chat/discourse/initializers/chat-user-options.js","discourse/plugins/chat/discourse/lib/chat-channel-subscription-manager.js","discourse/plugins/chat/discourse/lib/chat-channel-thread-subscription-manager.js","discourse/plugins/chat/discourse/lib/chat-composer-buttons.js","discourse/plugins/chat/discourse/lib/chat-constants.js","discourse/plugins/chat/discourse/lib/chat-ios-hacks.js","discourse/plugins/chat/discourse/lib/chat-message-container.js","discourse/plugins/chat/discourse/lib/chat-message-flag.js","discourse/plugins/chat/discourse/lib/chat-message-interactor.js","discourse/plugins/chat/discourse/lib/chat-messages-loader.js","discourse/plugins/chat/discourse/lib/chat-messages-manager.js","discourse/plugins/chat/discourse/lib/chat-notification-levels.js","discourse/plugins/chat/discourse/lib/chat-threads-manager.js","discourse/plugins/chat/discourse/lib/chat-user-preferences.js","discourse/plugins/chat/discourse/lib/check-message-visibility.js","discourse/plugins/chat/discourse/lib/collection.js","discourse/plugins/chat/discourse/lib/fabricators.js","discourse/plugins/chat/discourse/lib/get-reaction-text.js","discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode.js","discourse/plugins/chat/discourse/lib/hashtag-types/channel.js","discourse/plugins/chat/discourse/lib/init-sidebar-state.js","discourse/plugins/chat/discourse/lib/scroll-helpers.js","discourse/plugins/chat/discourse/lib/slugify-channel.js","discourse/plugins/chat/discourse/lib/textarea-interactor.js","discourse/plugins/chat/discourse/lib/transform-auto-links.js","discourse/plugins/chat/discourse/lib/zoom-check.js","discourse/plugins/chat/discourse/models/chat-channel-archive.js","discourse/plugins/chat/discourse/models/chat-channel.js","discourse/plugins/chat/discourse/models/chat-chatable.js","discourse/plugins/chat/discourse/models/chat-direct-message.js","discourse/plugins/chat/discourse/models/chat-message-reaction.js","discourse/plugins/chat/discourse/models/chat-message.js","discourse/plugins/chat/discourse/models/chat-notice.js","discourse/plugins/chat/discourse/models/chat-thread-preview.js","discourse/plugins/chat/discourse/models/chat-thread.js","discourse/plugins/chat/discourse/models/chat-tracking-state.js","discourse/plugins/chat/discourse/models/user-chat-channel-membership.js","discourse/plugins/chat/discourse/models/user-chat-thread-membership.js","discourse/plugins/chat/discourse/modifiers/chat/emoji-picker-scroll-listener.js","discourse/plugins/chat/discourse/modifiers/chat/later-fn.js","discourse/plugins/chat/discourse/modifiers/chat/on-animation-end.js","discourse/plugins/chat/discourse/modifiers/chat/on-long-press.js","discourse/plugins/chat/discourse/modifiers/chat/on-resize.js","discourse/plugins/chat/discourse/modifiers/chat/on-scroll.js","discourse/plugins/chat/discourse/modifiers/chat/resizable-node.js","discourse/plugins/chat/discourse/modifiers/chat/scrollable-list.js","discourse/plugins/chat/discourse/modifiers/chat/track-message-separator-date.js","discourse/plugins/chat/discourse/modifiers/chat/track-message.js","discourse/plugins/chat/discourse/pre-initializers/chat-plugin-api.js","discourse/plugins/chat/discourse/preferences-chat-route-map.js","discourse/plugins/chat/discourse/routes/admin-plugins-chat.js","discourse/plugins/chat/discourse/routes/chat-browse-archived.js","discourse/plugins/chat/discourse/routes/chat-browse-index.js","discourse/plugins/chat/discourse/routes/chat-channel-decorator.js","discourse/plugins/chat/discourse/routes/chat-channel-info-index.js","discourse/plugins/chat/discourse/routes/chat-channel-info-members.js","discourse/plugins/chat/discourse/routes/chat-channel-info.js","discourse/plugins/chat/discourse/routes/chat-channel-legacy.js","discourse/plugins/chat/discourse/routes/chat-channel-near-message.js","discourse/plugins/chat/discourse/routes/chat-channel-thread-near-message.js","discourse/plugins/chat/discourse/routes/chat-channel-thread.js","discourse/plugins/chat/discourse/routes/chat-channel-threads.js","discourse/plugins/chat/discourse/routes/chat-channel.js","discourse/plugins/chat/discourse/routes/chat-draft-channel.js","discourse/plugins/chat/discourse/routes/chat-index.js","discourse/plugins/chat/discourse/routes/chat-threads.js","discourse/plugins/chat/discourse/routes/chat.js","discourse/plugins/chat/discourse/routes/preferences-chat.js","discourse/plugins/chat/discourse/services/chat-admin-api.js","discourse/plugins/chat/discourse/services/chat-api.js","discourse/plugins/chat/discourse/services/chat-audio-manager.js","discourse/plugins/chat/discourse/services/chat-channel-composer.js","discourse/plugins/chat/discourse/services/chat-channel-emoji-picker-manager.js","discourse/plugins/chat/discourse/services/chat-channel-info-route-origin-manager.js","discourse/plugins/chat/discourse/services/chat-channel-notices-manager.js","discourse/plugins/chat/discourse/services/chat-channel-pane.js","discourse/plugins/chat/discourse/services/chat-channels-manager.js","discourse/plugins/chat/discourse/services/chat-composer-presence-manager.js","discourse/plugins/chat/discourse/services/chat-composer-warnings-tracker.js","discourse/plugins/chat/discourse/services/chat-drafts-manager.js","discourse/plugins/chat/discourse/services/chat-drawer-router.js","discourse/plugins/chat/discourse/services/chat-drawer-size.js","discourse/plugins/chat/discourse/services/chat-emoji-picker-manager.js","discourse/plugins/chat/discourse/services/chat-emoji-reaction-store.js","discourse/plugins/chat/discourse/services/chat-guardian.js","discourse/plugins/chat/discourse/services/chat-history.js","discourse/plugins/chat/discourse/services/chat-notification-manager.js","discourse/plugins/chat/discourse/services/chat-side-panel-size.js","discourse/plugins/chat/discourse/services/chat-state-manager.js","discourse/plugins/chat/discourse/services/chat-subscriptions-manager.js","discourse/plugins/chat/discourse/services/chat-thread-composer.js","discourse/plugins/chat/discourse/services/chat-thread-list-pane.js","discourse/plugins/chat/discourse/services/chat-thread-pane.js","discourse/plugins/chat/discourse/services/chat-tracking-state-manager.js","discourse/plugins/chat/discourse/services/chat.js","discourse/plugins/chat/discourse/services/emoji-picker-scroll-observer.js","discourse/plugins/chat/discourse/templates/admin-plugins-chat.js","discourse/plugins/chat/discourse/templates/chat-browse-all.js","discourse/plugins/chat/discourse/templates/chat-browse-archived.js","discourse/plugins/chat/discourse/templates/chat-browse-closed.js","discourse/plugins/chat/discourse/templates/chat-browse-open.js","discourse/plugins/chat/discourse/templates/chat-browse.js","discourse/plugins/chat/discourse/templates/chat-channel-info-members.js","discourse/plugins/chat/discourse/templates/chat-channel-info-settings.js","discourse/plugins/chat/discourse/templates/chat-channel-info.js","discourse/plugins/chat/discourse/templates/chat-channel-thread.js","discourse/plugins/chat/discourse/templates/chat-channel-threads.js","discourse/plugins/chat/discourse/templates/chat-channel.js","discourse/plugins/chat/discourse/templates/chat-index.js","discourse/plugins/chat/discourse/templates/chat-threads.js","discourse/plugins/chat/discourse/templates/chat.js","discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-channel-message-emoji-picker-connector.js","discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-drawer-outlet.js","discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-desktop-outlet.js","discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-mobile-outlet.js","discourse/plugins/chat/discourse/templates/connectors/home-logo-wrapper/chat-header-connector.js","discourse/plugins/chat/discourse/templates/connectors/user-card-below-message-button/chat-button.js","discourse/plugins/chat/discourse/templates/preferences/chat.js","discourse/plugins/chat/discourse/widgets/chat-header-icon.js","discourse/plugins/chat/lib/discourse-markdown/chat-transcript.js","discourse/plugins/chat/select-kit/addons/components/thread-notifications-button.js"],"sourcesContent":["define(\"discourse/plugins/chat/discourse/adapters/chat-message\", [\"exports\", \"discourse/adapters/rest\"], function (_exports, _rest) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class ChatMessage extends _rest.default {\n    pathFor(store, type, findArgs) {\n      if (findArgs.targetMessageId) {\n        return `/chat/lookup/${findArgs.targetMessageId}.json?chat_channel_id=${findArgs.channelId}`;\n      }\n      let path = `/chat/${findArgs.channelId}/messages.json?page_size=${findArgs.pageSize}`;\n      if (findArgs.messageId) {\n        path += `&message_id=${findArgs.messageId}`;\n      }\n      if (findArgs.direction) {\n        path += `&direction=${findArgs.direction}`;\n      }\n      return path;\n    }\n    apiNameFor() {\n      return \"chat-message\";\n    }\n  }\n  _exports.default = ChatMessage;\n});","define(\"discourse/plugins/chat/discourse/admin-chat-route-map\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = {\n    resource: \"admin.adminPlugins\",\n    path: \"/plugins\",\n    map() {\n      this.route(\"chat\");\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/chat-route-map\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _default;\n  function _default() {\n    this.route(\"chat\", {\n      path: \"/chat\"\n    }, function () {\n      this.route(\"channel\", {\n        path: \"/c/:channelTitle/:channelId\"\n      }, function () {\n        this.route(\"near-message\", {\n          path: \"/:messageId\"\n        });\n        this.route(\"threads\", {\n          path: \"/t\"\n        });\n        this.route(\"thread\", {\n          path: \"/t/:threadId\"\n        }, function () {\n          this.route(\"near-message\", {\n            path: \"/:messageId\"\n          });\n        });\n      });\n      this.route(\"threads\", {\n        path: \"/threads\"\n      });\n      this.route(\"channel.info\", {\n        path: \"/c/:channelTitle/:channelId/info\"\n      }, function () {\n        this.route(\"members\", {\n          path: \"/members\"\n        });\n        this.route(\"settings\", {\n          path: \"/settings\"\n        });\n      });\n      this.route(\"browse\", {\n        path: \"/browse\"\n      }, function () {\n        this.route(\"all\", {\n          path: \"/all\"\n        });\n        this.route(\"closed\", {\n          path: \"/closed\"\n        });\n        this.route(\"open\", {\n          path: \"/open\"\n        });\n        this.route(\"archived\", {\n          path: \"/archived\"\n        });\n      });\n      this.route(\"message\", {\n        path: \"/message/:messageId\"\n      });\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/components/channel-title/index\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/service\", \"@ember/template\", \"discourse/components/plugin-outlet\", \"discourse/components/user-status-message\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/d-icon\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _service, _template, _pluginOutlet, _userStatusMessage, _replaceEmoji, _dIcon, _chatUserAvatar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelTitle = _exports.default = (_class = (_class2 = class ChatChannelTitle extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n    }\n    get firstUser() {\n      return this.args.channel.chatable.users[0];\n    }\n    get users() {\n      return this.args.channel.chatable.users;\n    }\n    get groupDirectMessage() {\n      return this.args.channel.isDirectMessageChannel && this.args.channel.chatable.group;\n    }\n    get groupsDirectMessageTitle() {\n      return this.args.channel.title || this.usernames;\n    }\n    get usernames() {\n      return this.users.mapBy(\"username\").join(\", \");\n    }\n    get channelColorStyle() {\n      return (0, _template.htmlSafe)(`color: #${this.args.channel.chatable.color}`);\n    }\n    get showUserStatus() {\n      return !!(this.users.length === 1 && this.users[0].status);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @channel.isDirectMessageChannel}}\n        <div class=\"chat-channel-title is-dm\">\n          {{#if this.groupDirectMessage}}\n            <span class=\"chat-channel-title__users-count\">\n              {{@channel.membershipsCount}}\n            </span>\n          {{else}}\n            <div class=\"chat-channel-title__avatar\">\n              <ChatUserAvatar @user={{this.firstUser}} @interactive={{false}} />\n            </div>\n          {{/if}}\n  \n          <div class=\"chat-channel-title__user-info\">\n            <div class=\"chat-channel-title__usernames\">\n              {{#if this.groupDirectMessage}}\n                <span class=\"chat-channel-title__name\">\n                  {{this.groupsDirectMessageTitle}}\n                </span>\n              {{else}}\n                <span class=\"chat-channel-title__name\">\n                  {{this.firstUser.username}}\n                </span>\n                {{#if this.showUserStatus}}\n                  <UserStatusMessage\n                    @status={{get this.users \"0.status\"}}\n                    @showDescription={{if this.site.mobileView \"true\"}}\n                    class=\"chat-channel-title__user-status-message\"\n                  />\n                {{/if}}\n                <PluginOutlet\n                  @name=\"after-chat-channel-username\"\n                  @outletArgs={{hash user=@user}}\n                  @tagName=\"\"\n                  @connectorTagName=\"\"\n                />\n              {{/if}}\n  \n            </div>\n          </div>\n  \n          {{#if (has-block)}}\n            {{yield}}\n          {{/if}}\n        </div>\n      {{else if @channel.isCategoryChannel}}\n        <div class=\"chat-channel-title is-category\">\n          <span\n            class=\"chat-channel-title__category-badge\"\n            style={{this.channelColorStyle}}\n          >\n            {{icon \"d-chat\"}}\n            {{#if @channel.chatable.read_restricted}}\n              {{icon \"lock\" class=\"chat-channel-title__restricted-category-icon\"}}\n            {{/if}}\n          </span>\n          <span class=\"chat-channel-title__name\">\n            {{replaceEmoji @channel.title}}\n          </span>\n  \n          {{#if (has-block)}}\n            {{yield}}\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"ZbU75Kba\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"isDirectMessageChannel\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-channel-title is-dm\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"groupDirectMessage\\\"]],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-channel-title__users-count\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,1,[\\\"membershipsCount\\\"]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-channel-title__avatar\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,0],null,[[\\\"@user\\\",\\\"@interactive\\\"],[[30,0,[\\\"firstUser\\\"]],false]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-channel-title__user-info\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-channel-title__usernames\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"groupDirectMessage\\\"]],[[[1,\\\"              \\\"],[10,1],[14,0,\\\"chat-channel-title__name\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[30,0,[\\\"groupsDirectMessageTitle\\\"]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"              \\\"],[10,1],[14,0,\\\"chat-channel-title__name\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[30,0,[\\\"firstUser\\\",\\\"username\\\"]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showUserStatus\\\"]],[[[1,\\\"                \\\"],[8,[32,1],[[24,0,\\\"chat-channel-title__user-status-message\\\"]],[[\\\"@status\\\",\\\"@showDescription\\\"],[[28,[32,2],[[30,0,[\\\"users\\\"]],\\\"0.status\\\"],null],[52,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],\\\"true\\\"]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"              \\\"],[8,[32,3],null,[[\\\"@name\\\",\\\"@outletArgs\\\",\\\"@tagName\\\",\\\"@connectorTagName\\\"],[\\\"after-chat-channel-username\\\",[28,[32,4],null,[[\\\"user\\\"],[[30,2]]]],\\\"\\\",\\\"\\\"]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[48,[30,3]],[[[1,\\\"          \\\"],[18,3,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,1,[\\\"isCategoryChannel\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-channel-title is-category\\\"],[12],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-channel-title__category-badge\\\"],[15,5,[30,0,[\\\"channelColorStyle\\\"]]],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,5],[\\\"d-chat\\\"],null]],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"chatable\\\",\\\"read_restricted\\\"]],[[[1,\\\"            \\\"],[1,[28,[32,5],[\\\"lock\\\"],[[\\\"class\\\"],[\\\"chat-channel-title__restricted-category-icon\\\"]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-channel-title__name\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,6],[[30,1,[\\\"title\\\"]]],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[48,[30,3]],[[[1,\\\"          \\\"],[18,3,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]],null]],[]]],[1,\\\"  \\\"]],[\\\"@channel\\\",\\\"@user\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"has-block\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/channel-title/index.js\",\n    \"scope\": () => [_chatUserAvatar.default, _userStatusMessage.default, _helper.get, _pluginOutlet.default, _helper.hash, _dIcon.default, _replaceEmoji.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/channels-list\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/routing\", \"@ember/runloop\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/components/plugin-outlet\", \"discourse/helpers/concat-class\", \"discourse/helpers/noop\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse-common/utils/decorators\", \"truth-helpers/helpers/and\", \"truth-helpers/helpers/not\", \"discourse/plugins/chat/discourse/components/chat/modal/new-message\", \"discourse/plugins/chat/discourse/modifiers/chat/on-resize\", \"discourse/plugins/chat/discourse/components/chat-channel-row\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _modifier, _object, _didInsert, _routing, _runloop, _service, _dButton, _pluginOutlet, _concatClass, _noop, _dIcon, _i18n, _decorators, _and, _not, _newMessage, _onResize, _chatChannelRow, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChannelsList = _exports.default = (_class = (_class2 = class ChannelsList extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor4, this);\n      _initializerDefineProperty(this, \"site\", _descriptor5, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor6, this);\n      _initializerDefineProperty(this, \"session\", _descriptor7, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor8, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor9, this);\n      _initializerDefineProperty(this, \"hasScrollbar\", _descriptor10, this);\n    }\n    computeHasScrollbar(element1) {\n      this.hasScrollbar = element1.scrollHeight > element1.clientHeight;\n    }\n    computeResizedEntries(entries1) {\n      this.computeHasScrollbar(entries1[0].target);\n    }\n    openNewMessageModal() {\n      this.modal.show(_newMessage.default);\n    }\n    get showMobileDirectMessageButton() {\n      return this.site.mobileView && this.canCreateDirectMessageChannel;\n    }\n    get inSidebar() {\n      return this.args.inSidebar ?? false;\n    }\n    get publicMessageChannelsEmpty() {\n      return this.chatChannelsManager.publicMessageChannels?.length === 0;\n    }\n    get createDirectMessageChannelLabel() {\n      if (!this.canCreateDirectMessageChannel) {\n        return \"chat.direct_messages.cannot_create\";\n      }\n      return \"chat.direct_messages.new\";\n    }\n    get showDirectMessageChannels() {\n      return this.canCreateDirectMessageChannel || this.chatChannelsManager.directMessageChannels?.length > 0;\n    }\n    get canCreateDirectMessageChannel() {\n      return this.chat.userCanDirectMessage;\n    }\n    get displayPublicChannels() {\n      if (!this.siteSettings.enable_public_channels) {\n        return false;\n      }\n      if (this.publicMessageChannelsEmpty) {\n        return this.currentUser?.staff || this.currentUser?.has_joinable_public_channels;\n      }\n      return true;\n    }\n    get directMessageChannelClasses() {\n      return `channels-list-container direct-message-channels ${this.inSidebar ? \"collapsible-sidebar-section\" : \"\"}`;\n    }\n    get hasUnreadThreads() {\n      return this.chatChannelsManager.publicMessageChannels.some(channel1 => channel1.unreadThreadsCount > 0);\n    }\n    toggleChannelSection(section1) {\n      this.args.toggleSection(section1);\n    }\n    didRender() {\n      super.didRender(...arguments);\n      (0, _runloop.schedule)(\"afterRender\", this._applyScrollPosition);\n    }\n    storeScrollPosition() {\n      if (this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      const scrollTop1 = document.querySelector(\".channels-list\")?.scrollTop || 0;\n      this.session.channelsListPosition = scrollTop1;\n    }\n    _applyScrollPosition() {\n      if (this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      const position1 = this.chatStateManager.isFullPageActive ? this.session.channelsListPosition || 0 : 0;\n      const scroller1 = document.querySelector(\".channels-list\");\n      scroller1.scrollTo(0, position1);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showMobileDirectMessageButton}}\n        <DButton\n          @icon=\"plus\"\n          class=\"no-text btn-flat open-new-message-btn keep-mobile-sidebar-open btn-floating\"\n          @action={{this.openNewMessageModal}}\n          title={{i18n this.createDirectMessageChannelLabel}}\n        />\n      {{/if}}\n  \n      <div\n        role=\"region\"\n        aria-label={{i18n \"chat.aria_roles.channels_list\"}}\n        class={{concatClass\n          \"channels-list\"\n          (if this.hasScrollbar \"has-scrollbar\")\n        }}\n        {{on\n          \"scroll\"\n          (if\n            this.chatStateManager.isFullPageActive this.storeScrollPosition (noop)\n          )\n        }}\n        {{didInsert this.computeHasScrollbar}}\n        {{onResize this.computeResizedEntries}}\n      >\n  \n        <LinkTo @route=\"chat.threads\" class=\"chat-channel-row --threads\">\n          <span class=\"chat-channel-title\">\n            {{dIcon \"discourse-threads\" class=\"chat-user-threads__icon\"}}\n            {{i18n \"chat.my_threads.title\"}}\n          </span>\n          {{#if this.hasUnreadThreads}}\n            <div class=\"c-unread-indicator\">\n              <div class=\"c-unread-indicator__number\">&nbsp;</div>\n            </div>\n          {{/if}}\n        </LinkTo>\n  \n        {{#if this.displayPublicChannels}}\n          <div class=\"chat-channel-divider public-channels-section\">\n            {{#if this.inSidebar}}\n              <span\n                class=\"title-caret\"\n                id=\"public-channels-caret\"\n                role=\"button\"\n                title=\"toggle nav list\"\n                {{on \"click\" (fn this.toggleChannelSection \"public-channels\")}}\n                data-toggleable=\"public-channels\"\n              >\n                {{dIcon \"angle-up\"}}\n              </span>\n            {{/if}}\n            <span class=\"channel-title\">{{i18n \"chat.chat_channels\"}}</span>\n  \n            <LinkTo\n              @route=\"chat.browse\"\n              class=\"btn no-text btn-flat open-browse-page-btn title-action\"\n              title={{i18n \"chat.channels_list_popup.browse\"}}\n            >\n              {{dIcon \"pencil-alt\"}}\n            </LinkTo>\n          </div>\n  \n          <div\n            id=\"public-channels\"\n            class={{concatClass\n              \"channels-list-container\"\n              \"public-channels\"\n              (if this.inSidebar \"collapsible-sidebar-section\")\n            }}\n          >\n            {{#if this.publicChannelsEmpty}}\n              <div class=\"public-channel-empty-message\">\n                <span class=\"channel-title\">{{i18n\n                    \"chat.no_public_channels\"\n                  }}</span>\n                <LinkTo @route=\"chat.browse\">\n                  {{i18n \"chat.click_to_join\"}}\n                </LinkTo>\n              </div>\n            {{else}}\n              {{#each\n                this.chatChannelsManager.publicMessageChannels\n                as |channel|\n              }}\n                <ChatChannelRow\n                  @channel={{channel}}\n                  @options={{hash settingsButton=true}}\n                />\n              {{/each}}\n            {{/if}}\n  \n          </div>\n        {{/if}}\n  \n        <PluginOutlet\n          @name=\"below-public-chat-channels\"\n          @tagName=\"\"\n          @outletArgs={{hash inSidebar=this.inSidebar}}\n        />\n  \n        {{#if this.showDirectMessageChannels}}\n          <div class=\"chat-channel-divider direct-message-channels-section\">\n            {{#if this.inSidebar}}\n              <span\n                class=\"title-caret\"\n                id=\"direct-message-channels-caret\"\n                role=\"button\"\n                title=\"toggle nav list\"\n                {{on\n                  \"click\"\n                  (fn this.toggleChannelSection \"direct-message-channels\")\n                }}\n                data-toggleable=\"direct-message-channels\"\n              >\n                {{dIcon \"angle-up\"}}\n              </span>\n            {{/if}}\n            <span class=\"channel-title\">{{i18n\n                \"chat.direct_messages.title\"\n              }}</span>\n  \n            {{#if\n              (and\n                this.canCreateDirectMessageChannel\n                (not this.showMobileDirectMessageButton)\n              )\n            }}\n              <DButton\n                @icon=\"plus\"\n                class=\"no-text btn-flat open-new-message-btn\"\n                @action={{this.openNewMessageModal}}\n                title={{i18n this.createDirectMessageChannelLabel}}\n              />\n            {{/if}}\n          </div>\n        {{/if}}\n  \n        <div\n          id=\"direct-message-channels\"\n          class={{this.directMessageChannelClasses}}\n        >\n          {{#each\n            this.chatChannelsManager.truncatedDirectMessageChannels\n            as |channel|\n          }}\n            <ChatChannelRow\n              @channel={{channel}}\n              @options={{hash leaveButton=true}}\n            />\n          {{/each}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"vTDocHnK\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showMobileDirectMessageButton\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"no-text btn-flat open-new-message-btn keep-mobile-sidebar-open btn-floating\\\"],[16,\\\"title\\\",[28,[32,1],[[30,0,[\\\"createDirectMessageChannelLabel\\\"]]],null]]],[[\\\"@icon\\\",\\\"@action\\\"],[\\\"plus\\\",[30,0,[\\\"openNewMessageModal\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n    \\\"],[11,0],[24,\\\"role\\\",\\\"region\\\"],[16,\\\"aria-label\\\",[28,[32,1],[\\\"chat.aria_roles.channels_list\\\"],null]],[16,0,[28,[32,2],[\\\"channels-list\\\",[52,[30,0,[\\\"hasScrollbar\\\"]],\\\"has-scrollbar\\\"]],null]],[4,[32,3],[\\\"scroll\\\",[52,[30,0,[\\\"chatStateManager\\\",\\\"isFullPageActive\\\"]],[30,0,[\\\"storeScrollPosition\\\"]],[28,[32,4],null,null]]],null],[4,[32,5],[[30,0,[\\\"computeHasScrollbar\\\"]]],null],[4,[32,6],[[30,0,[\\\"computeResizedEntries\\\"]]],null],[12],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,7],[[24,0,\\\"chat-channel-row --threads\\\"]],[[\\\"@route\\\"],[\\\"chat.threads\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-channel-title\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,8],[\\\"discourse-threads\\\"],[[\\\"class\\\"],[\\\"chat-user-threads__icon\\\"]]]],[1,\\\"\\\\n          \\\"],[1,[28,[32,1],[\\\"chat.my_threads.title\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"hasUnreadThreads\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"c-unread-indicator\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"c-unread-indicator__number\\\"],[12],[1,\\\" \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"]],[]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"displayPublicChannels\\\"]],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-channel-divider public-channels-section\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"inSidebar\\\"]],[[[1,\\\"            \\\"],[11,1],[24,0,\\\"title-caret\\\"],[24,1,\\\"public-channels-caret\\\"],[24,\\\"role\\\",\\\"button\\\"],[24,\\\"title\\\",\\\"toggle nav list\\\"],[24,\\\"data-toggleable\\\",\\\"public-channels\\\"],[4,[32,3],[\\\"click\\\",[28,[32,9],[[30,0,[\\\"toggleChannelSection\\\"]],\\\"public-channels\\\"],null]],null],[12],[1,\\\"\\\\n              \\\"],[1,[28,[32,8],[\\\"angle-up\\\"],null]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"],[10,1],[14,0,\\\"channel-title\\\"],[12],[1,[28,[32,1],[\\\"chat.chat_channels\\\"],null]],[13],[1,\\\"\\\\n\\\\n          \\\"],[8,[32,7],[[24,0,\\\"btn no-text btn-flat open-browse-page-btn title-action\\\"],[16,\\\"title\\\",[28,[32,1],[\\\"chat.channels_list_popup.browse\\\"],null]]],[[\\\"@route\\\"],[\\\"chat.browse\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[1,[28,[32,8],[\\\"pencil-alt\\\"],null]],[1,\\\"\\\\n          \\\"]],[]]]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[10,0],[14,1,\\\"public-channels\\\"],[15,0,[28,[32,2],[\\\"channels-list-container\\\",\\\"public-channels\\\",[52,[30,0,[\\\"inSidebar\\\"]],\\\"collapsible-sidebar-section\\\"]],null]],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"publicChannelsEmpty\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"public-channel-empty-message\\\"],[12],[1,\\\"\\\\n              \\\"],[10,1],[14,0,\\\"channel-title\\\"],[12],[1,[28,[32,1],[\\\"chat.no_public_channels\\\"],null]],[13],[1,\\\"\\\\n              \\\"],[8,[32,7],null,[[\\\"@route\\\"],[\\\"chat.browse\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                \\\"],[1,[28,[32,1],[\\\"chat.click_to_join\\\"],null]],[1,\\\"\\\\n              \\\"]],[]]]]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"chatChannelsManager\\\",\\\"publicMessageChannels\\\"]]],null]],null],null,[[[1,\\\"              \\\"],[8,[32,10],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,1],[28,[32,11],null,[[\\\"settingsButton\\\"],[true]]]]],null],[1,\\\"\\\\n\\\"]],[1]],null]],[]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[8,[32,12],null,[[\\\"@name\\\",\\\"@tagName\\\",\\\"@outletArgs\\\"],[\\\"below-public-chat-channels\\\",\\\"\\\",[28,[32,11],null,[[\\\"inSidebar\\\"],[[30,0,[\\\"inSidebar\\\"]]]]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"showDirectMessageChannels\\\"]],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-channel-divider direct-message-channels-section\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"inSidebar\\\"]],[[[1,\\\"            \\\"],[11,1],[24,0,\\\"title-caret\\\"],[24,1,\\\"direct-message-channels-caret\\\"],[24,\\\"role\\\",\\\"button\\\"],[24,\\\"title\\\",\\\"toggle nav list\\\"],[24,\\\"data-toggleable\\\",\\\"direct-message-channels\\\"],[4,[32,3],[\\\"click\\\",[28,[32,9],[[30,0,[\\\"toggleChannelSection\\\"]],\\\"direct-message-channels\\\"],null]],null],[12],[1,\\\"\\\\n              \\\"],[1,[28,[32,8],[\\\"angle-up\\\"],null]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"],[10,1],[14,0,\\\"channel-title\\\"],[12],[1,[28,[32,1],[\\\"chat.direct_messages.title\\\"],null]],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,13],[[30,0,[\\\"canCreateDirectMessageChannel\\\"]],[28,[32,14],[[30,0,[\\\"showMobileDirectMessageButton\\\"]]],null]],null],[[[1,\\\"            \\\"],[8,[32,0],[[24,0,\\\"no-text btn-flat open-new-message-btn\\\"],[16,\\\"title\\\",[28,[32,1],[[30,0,[\\\"createDirectMessageChannelLabel\\\"]]],null]]],[[\\\"@icon\\\",\\\"@action\\\"],[\\\"plus\\\",[30,0,[\\\"openNewMessageModal\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,1,\\\"direct-message-channels\\\"],[15,0,[30,0,[\\\"directMessageChannelClasses\\\"]]],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"chatChannelsManager\\\",\\\"truncatedDirectMessageChannels\\\"]]],null]],null],null,[[[1,\\\"          \\\"],[8,[32,10],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,2],[28,[32,11],null,[[\\\"leaveButton\\\"],[true]]]]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"channel\\\",\\\"channel\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/channels-list.js\",\n    \"scope\": () => [_dButton.default, _i18n.default, _concatClass.default, _modifier.on, _noop.default, _didInsert.default, _onResize.default, _routing.LinkTo, _dIcon.default, _helper.fn, _chatChannelRow.default, _helper.hash, _pluginOutlet.default, _and.default, _not.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"session\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"hasScrollbar\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"computeHasScrollbar\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"computeHasScrollbar\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"computeResizedEntries\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"computeResizedEntries\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openNewMessageModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openNewMessageModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleChannelSection\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleChannelSection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"storeScrollPosition\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"storeScrollPosition\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_applyScrollPosition\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_applyScrollPosition\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-archive-status\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"@ember/utils\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse-common/lib/get-url\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _template, _utils, _dButton, _concatClass, _ajaxError, _getUrl, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelArchiveStatus = _exports.default = (_class = (_class2 = class ChatChannelArchiveStatus extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n    }\n    get shouldRender() {\n      return this.currentUser.admin && (0, _utils.isPresent)(this.args.channel.archive);\n    }\n    get channelArchiveFailedMessage() {\n      const archive1 = this.args.channel.archive;\n      const translationKey1 = !archive1.topicId ? \"chat.channel_status.archive_failed_no_topic\" : \"chat.channel_status.archive_failed\";\n      return (0, _template.htmlSafe)(_discourseI18n.default.t(translationKey1, {\n        completed: archive1.messages,\n        total: archive1.totalMessages,\n        topic_url: this.topicUrl\n      }));\n    }\n    get channelArchiveCompletedMessage() {\n      return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.channel_status.archive_completed\", {\n        topic_url: this.topicUrl\n      }));\n    }\n    retryArchive() {\n      return this.chatApi.createChannelArchive(this.args.channel.id).catch(_ajaxError.popupAjaxError);\n    }\n    get topicUrl() {\n      if (!this.args.channel.archive.topicId) {\n        return \"\";\n      }\n      return (0, _getUrl.default)(`/t/-/${this.args.channel.archive.topicId}`);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        {{#if @channel.archive.failed}}\n          <div\n            class={{concatClass\n              \"alert alert-warn chat-channel-retry-archive\"\n              @channel.status\n            }}\n          >\n            <div class=\"chat-channel-archive-failed-message\">\n              {{this.channelArchiveFailedMessage}}\n            </div>\n  \n            <div class=\"chat-channel-archive-failed-retry\">\n              <DButton\n                @action={{this.retryArchive}}\n                @label=\"chat.channel_archive.retry\"\n              />\n            </div>\n          </div>\n        {{else if @channel.archive.completed}}\n          <div\n            class={{concatClass \"chat-channel-archive-status\" @channel.status}}\n          >\n            {{this.channelArchiveCompletedMessage}}\n          </div>\n        {{/if}}\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"MmkrdEhj\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[41,[30,1,[\\\"archive\\\",\\\"failed\\\"]],[[[1,\\\"        \\\"],[10,0],[15,0,[28,[32,0],[\\\"alert alert-warn chat-channel-retry-archive\\\",[30,1,[\\\"status\\\"]]],null]],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-channel-archive-failed-message\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,0,[\\\"channelArchiveFailedMessage\\\"]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[10,0],[14,0,\\\"chat-channel-archive-failed-retry\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,1],null,[[\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"retryArchive\\\"]],\\\"chat.channel_archive.retry\\\"]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,1,[\\\"archive\\\",\\\"completed\\\"]],[[[1,\\\"        \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-channel-archive-status\\\",[30,1,[\\\"status\\\"]]],null]],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"channelArchiveCompletedMessage\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[]],null]],[]]]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-archive-status.js\",\n    \"scope\": () => [_concatClass.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"retryArchive\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"retryArchive\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-card\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/routing\", \"@ember/service\", \"discourse/helpers/border-color\", \"discourse/helpers/concat-class\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"truth-helpers/helpers/gt\", \"discourse/plugins/chat/discourse/components/toggle-channel-membership-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _routing, _service, _borderColor, _concatClass, _replaceEmoji, _dIcon, _i18n, _gt, _toggleChannelMembershipButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelCard = _exports.default = (_class = (_class2 = class ChatChannelCard extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @channel}}\n        <div\n          class={{concatClass\n            \"chat-channel-card\"\n            (if @channel.isClosed \"-closed\")\n            (if @channel.isArchived \"-archived\")\n          }}\n          style={{borderColor @channel.chatable.color}}\n          data-channel-id={{@channel.id}}\n        >\n          <div class=\"chat-channel-card__header\">\n            <LinkTo\n              @route=\"chat.channel\"\n              @models={{@channel.routeModels}}\n              class=\"chat-channel-card__name-container\"\n            >\n              <span class=\"chat-channel-card__name\">\n                {{replaceEmoji @channel.title}}\n              </span>\n              {{#if @channel.chatable.read_restricted}}\n                {{dIcon \"lock\" class=\"chat-channel-card__read-restricted\"}}\n              {{/if}}\n            </LinkTo>\n  \n            <div class=\"chat-channel-card__header-actions\">\n              {{#if @channel.currentUserMembership.muted}}\n                <LinkTo\n                  @route=\"chat.channel.info.settings\"\n                  @models={{@channel.routeModels}}\n                  class=\"chat-channel-card__tag -muted\"\n                  tabindex=\"-1\"\n                >\n                  {{i18n \"chat.muted\"}}\n                </LinkTo>\n              {{/if}}\n  \n              <LinkTo\n                @route=\"chat.channel.info.settings\"\n                @models={{@channel.routeModels}}\n                class=\"chat-channel-card__setting\"\n                tabindex=\"-1\"\n              >\n                {{dIcon \"cog\"}}\n              </LinkTo>\n            </div>\n          </div>\n  \n          {{#if @channel.description}}\n            <div class=\"chat-channel-card__description\">\n              {{replaceEmoji @channel.description}}\n            </div>\n          {{/if}}\n  \n          <div class=\"chat-channel-card__cta\">\n            {{#if @channel.isFollowing}}\n              <div class=\"chat-channel-card__tags\">\n                <span class=\"chat-channel-card__tag -joined\">\n                  {{i18n \"chat.joined\"}}\n                </span>\n  \n                <ToggleChannelMembershipButton\n                  @channel={{@channel}}\n                  @options={{hash\n                    leaveClass=\"btn-link btn-small chat-channel-card__leave-btn\"\n                    labelType=\"short\"\n                  }}\n                />\n              </div>\n            {{else if @channel.isJoinable}}\n              <ToggleChannelMembershipButton\n                @channel={{@channel}}\n                @options={{hash\n                  joinClass=\"btn-primary btn-small chat-channel-card__join-btn\"\n                  labelType=\"short\"\n                }}\n              />\n            {{/if}}\n  \n            {{#if (gt @channel.membershipsCount 0)}}\n              <LinkTo\n                @route=\"chat.channel.info.members\"\n                @models={{@channel.routeModels}}\n                class=\"chat-channel-card__members\"\n                tabindex=\"-1\"\n              >\n                {{i18n\n                  \"chat.channel.memberships_count\"\n                  count=@channel.membershipsCount\n                }}\n              </LinkTo>\n            {{/if}}\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"piVdHQfB\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-channel-card\\\",[52,[30,1,[\\\"isClosed\\\"]],\\\"-closed\\\"],[52,[30,1,[\\\"isArchived\\\"]],\\\"-archived\\\"]],null]],[15,5,[28,[32,1],[[30,1,[\\\"chatable\\\",\\\"color\\\"]]],null]],[15,\\\"data-channel-id\\\",[30,1,[\\\"id\\\"]]],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-channel-card__header\\\"],[12],[1,\\\"\\\\n          \\\"],[8,[32,2],[[24,0,\\\"chat-channel-card__name-container\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-channel-card__name\\\"],[12],[1,\\\"\\\\n              \\\"],[1,[28,[32,3],[[30,1,[\\\"title\\\"]]],null]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"chatable\\\",\\\"read_restricted\\\"]],[[[1,\\\"              \\\"],[1,[28,[32,4],[\\\"lock\\\"],[[\\\"class\\\"],[\\\"chat-channel-card__read-restricted\\\"]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"]],[]]]]],[1,\\\"\\\\n\\\\n          \\\"],[10,0],[14,0,\\\"chat-channel-card__header-actions\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"currentUserMembership\\\",\\\"muted\\\"]],[[[1,\\\"              \\\"],[8,[32,2],[[24,0,\\\"chat-channel-card__tag -muted\\\"],[24,\\\"tabindex\\\",\\\"-1\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.info.settings\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                \\\"],[1,[28,[32,5],[\\\"chat.muted\\\"],null]],[1,\\\"\\\\n              \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n            \\\"],[8,[32,2],[[24,0,\\\"chat-channel-card__setting\\\"],[24,\\\"tabindex\\\",\\\"-1\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.info.settings\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[1,[28,[32,4],[\\\"cog\\\"],null]],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"description\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-channel-card__description\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,3],[[30,1,[\\\"description\\\"]]],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-channel-card__cta\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"isFollowing\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-channel-card__tags\\\"],[12],[1,\\\"\\\\n              \\\"],[10,1],[14,0,\\\"chat-channel-card__tag -joined\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[28,[32,5],[\\\"chat.joined\\\"],null]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\\n              \\\"],[8,[32,6],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,1],[28,[32,7],null,[[\\\"leaveClass\\\",\\\"labelType\\\"],[\\\"btn-link btn-small chat-channel-card__leave-btn\\\",\\\"short\\\"]]]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,1,[\\\"isJoinable\\\"]],[[[1,\\\"            \\\"],[8,[32,6],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,1],[28,[32,7],null,[[\\\"joinClass\\\",\\\"labelType\\\"],[\\\"btn-primary btn-small chat-channel-card__join-btn\\\",\\\"short\\\"]]]]],null],[1,\\\"\\\\n          \\\"]],[]],null]],[]]],[1,\\\"\\\\n\\\"],[41,[28,[32,8],[[30,1,[\\\"membershipsCount\\\"]],0],null],[[[1,\\\"            \\\"],[8,[32,2],[[24,0,\\\"chat-channel-card__members\\\"],[24,\\\"tabindex\\\",\\\"-1\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.info.members\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[1,[28,[32,5],[\\\"chat.channel.memberships_count\\\"],[[\\\"count\\\"],[[30,1,[\\\"membershipsCount\\\"]]]]]],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-card.js\",\n    \"scope\": () => [_concatClass.default, _borderColor.default, _routing.LinkTo, _replaceEmoji.default, _dIcon.default, _i18n.default, _toggleChannelMembershipButton.default, _helper.hash, _gt.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-chooser-header\", [\"exports\", \"@ember/component\", \"select-kit/components/combo-box/combo-box-header\", \"@ember/template-factory\"], function (_exports, _component, _comboBoxHeader, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"select-kit-header-wrapper\">\n    {{#if this.selectedContent}}\n      <ChannelTitle @channel={{this.selectedContent}} />\n    {{else}}\n      {{i18n \"chat.incoming_webhooks.channel_placeholder\"}}\n    {{/if}}\n  \n    {{d-icon this.caretIcon class=\"caret-icon\"}}\n  </div>\n  */\n  {\n    \"id\": \"Lr5V79a1\",\n    \"block\": \"[[[10,0],[14,0,\\\"select-kit-header-wrapper\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"selectedContent\\\"]],[[[1,\\\"    \\\"],[8,[39,1],null,[[\\\"@channel\\\"],[[30,0,[\\\"selectedContent\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"    \\\"],[1,[28,[35,2],[\\\"chat.incoming_webhooks.channel_placeholder\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n  \\\"],[1,[28,[35,3],[[30,0,[\\\"caretIcon\\\"]]],[[\\\"class\\\"],[\\\"caret-icon\\\"]]]],[1,\\\"\\\\n\\\"],[13]],[],false,[\\\"if\\\",\\\"channel-title\\\",\\\"i18n\\\",\\\"d-icon\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-channel-chooser-header.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _comboBoxHeader.default.extend({}));\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-chooser-row\", [\"exports\", \"@ember/component\", \"select-kit/components/select-kit/select-kit-row\", \"@ember/template-factory\"], function (_exports, _component, _selectKitRow, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChannelTitle @channel={{this.item}} />\n  */\n  {\n    \"id\": \"0Vwx6mQC\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\"],[[30,0,[\\\"item\\\"]]]],null]],[],false,[\\\"channel-title\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-channel-chooser-row.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _selectKitRow.default.extend({\n    classNames: [\"chat-channel-chooser-row\"]\n  }));\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-chooser\", [\"exports\", \"select-kit/components/combo-box\"], function (_exports, _comboBox) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = _comboBox.default.extend({\n    pluginApiIdentifiers: [\"chat-channel-chooser\"],\n    classNames: [\"chat-channel-chooser\"],\n    selectKitOptions: {\n      headerComponent: \"chat-channel-chooser-header\"\n    },\n    modifyComponentForRow() {\n      return \"chat-channel-chooser-row\";\n    }\n  });\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-leave-btn\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"@ember/utils\", \"discourse/components/d-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _utils, _dButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelLeaveBtn = _exports.default = (_class = (_class2 = class ChatChannelLeaveBtn extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n    }\n    get shouldRender() {\n      return !this.site.mobileView && (0, _utils.isPresent)(this.args.channel);\n    }\n    get leaveChatTitleKey() {\n      if (this.args.channel.isDirectMessageChannel) {\n        return \"chat.direct_messages.leave\";\n      } else {\n        return \"chat.leave\";\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <DButton\n          @icon=\"times\"\n          @action={{@onLeaveChannel}}\n          @title={{this.leaveChatTitleKey}}\n          class=\"btn-flat chat-channel-leave-btn\"\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"Y3lBPzu0\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"btn-flat chat-channel-leave-btn\\\"]],[[\\\"@icon\\\",\\\"@action\\\",\\\"@title\\\"],[\\\"times\\\",[30,1],[30,0,[\\\"leaveChatTitleKey\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@onLeaveChannel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-leave-btn.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-message-emoji-picker\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"@popperjs/core\", \"ember-modifier\", \"discourse/lib/offset-calculator\", \"discourse/plugins/chat/discourse/components/chat-emoji-picker\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _core, _emberModifier, _offsetCalculator, _chatEmojiPicker, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelMessageEmojiPicker = _exports.default = (_class = (_class2 = class ChatChannelMessageEmojiPicker extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor2, this);\n      _defineProperty(this, \"context\", \"chat-channel-message\");\n      _defineProperty(this, \"listenToBodyScroll\", (0, _emberModifier.modifier)(() => {\n        const handler1 = () => {\n          this.chatEmojiPickerManager.close();\n        };\n        document.addEventListener(\"scroll\", handler1);\n        return () => {\n          document.removeEventListener(\"scroll\", handler1);\n        };\n      }));\n    }\n    didSelectEmoji(emoji1) {\n      this.chatEmojiPickerManager.picker?.didSelectEmoji(emoji1);\n      this.chatEmojiPickerManager.close();\n    }\n    didInsert(element1) {\n      if (this.site.mobileView) {\n        element1.classList.remove(\"hidden\");\n        return;\n      }\n      this._popper = (0, _core.createPopper)(this.chatEmojiPickerManager.picker?.trigger, element1, {\n        placement: \"top\",\n        modifiers: [{\n          name: \"eventListeners\",\n          options: {\n            scroll: false,\n            resize: false\n          }\n        }, {\n          name: \"flip\",\n          options: {\n            padding: {\n              top: (0, _offsetCalculator.headerOffset)()\n            }\n          }\n        }]\n      });\n      element1.classList.remove(\"hidden\");\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      this._popper?.destroy();\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <ChatEmojiPicker\n        {{this.listenToBodyScroll}}\n        @context=\"chat-channel-message\"\n        @didInsert={{this.didInsert}}\n        @willDestroy={{this.willDestroy}}\n        @didSelectEmoji={{this.didSelectEmoji}}\n        class=\"hidden\"\n      />\n    \n  */\n  {\n    \"id\": \"jafPNlht\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"hidden\\\"],[4,[30,0,[\\\"listenToBodyScroll\\\"]],null,null]],[[\\\"@context\\\",\\\"@didInsert\\\",\\\"@willDestroy\\\",\\\"@didSelectEmoji\\\"],[\\\"chat-channel-message\\\",[30,0,[\\\"didInsert\\\"]],[30,0,[\\\"willDestroy\\\"]],[30,0,[\\\"didSelectEmoji\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-message-emoji-picker.js\",\n    \"scope\": () => [_chatEmojiPicker.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"didSelectEmoji\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didSelectEmoji\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didInsert\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didInsert\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"willDestroy\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"willDestroy\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-metadata\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/chat-channel-unread-indicator\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _chatChannelUnreadIndicator, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatChannelMetadata extends _component.default {\n    get unreadIndicator() {\n      return this.args.unreadIndicator ?? false;\n    }\n    get lastMessageFormattedDate() {\n      return moment(this.args.channel.lastMessage.createdAt).calendar(null, {\n        sameDay: \"LT\",\n        nextDay: \"[Tomorrow]\",\n        nextWeek: \"dddd\",\n        lastDay: \"[Yesterday]\",\n        lastWeek: \"dddd\",\n        sameElse: \"l\"\n      });\n    }\n  }\n  _exports.default = ChatChannelMetadata;\n  _class = ChatChannelMetadata;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-channel-metadata\">\n        {{#if @channel.lastMessage}}\n          <div class=\"chat-channel-metadata__date\">\n            {{this.lastMessageFormattedDate}}\n          </div>\n        {{/if}}\n  \n        {{#if this.unreadIndicator}}\n          <ChatChannelUnreadIndicator @channel={{@channel}} />\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"VtqVjBEM\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-channel-metadata\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"lastMessage\\\"]],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-channel-metadata__date\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"lastMessageFormattedDate\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"unreadIndicator\\\"]],[[[1,\\\"        \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-metadata.js\",\n    \"scope\": () => [_chatChannelUnreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-preview-card\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/routing\", \"@ember/service\", \"@ember/utils\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/components/channel-title\", \"discourse/plugins/chat/discourse/components/toggle-channel-membership-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _routing, _service, _utils, _concatClass, _i18n, _channelTitle, _toggleChannelMembershipButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelPreviewCard = _exports.default = (_class = (_class2 = class ChatChannelPreviewCard extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n    get showJoinButton() {\n      return this.args.channel?.isOpen && this.args.channel?.canJoin;\n    }\n    get hasDescription() {\n      return !(0, _utils.isEmpty)(this.args.channel?.description);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-channel-preview-card\"\n          (unless this.hasDescription \"-no-description\")\n          (unless this.showJoinButton \"-no-button\")\n        }}\n      >\n        <ChannelTitle @channel={{@channel}} />\n        {{#if this.hasDescription}}\n          <p class=\"chat-channel-preview-card__description\">\n            {{@channel.description}}\n          </p>\n        {{/if}}\n        {{#if this.showJoinButton}}\n          <ToggleChannelMembershipButton\n            @channel={{@channel}}\n            @options={{hash joinClass=\"btn-primary\"}}\n          />\n        {{/if}}\n        <LinkTo\n          @route=\"chat.browse\"\n          class=\"chat-channel-preview-card__browse-all\"\n        >\n          {{i18n \"chat.browse_all_channels\"}}\n        </LinkTo>\n      </div>\n    \n  */\n  {\n    \"id\": \"TZhYYRAq\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-channel-preview-card\\\",[52,[51,[30,0,[\\\"hasDescription\\\"]]],\\\"-no-description\\\"],[52,[51,[30,0,[\\\"showJoinButton\\\"]]],\\\"-no-button\\\"]],null]],[12],[1,\\\"\\\\n      \\\"],[8,[32,1],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"hasDescription\\\"]],[[[1,\\\"        \\\"],[10,2],[14,0,\\\"chat-channel-preview-card__description\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,1,[\\\"description\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[41,[30,0,[\\\"showJoinButton\\\"]],[[[1,\\\"        \\\"],[8,[32,2],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,1],[28,[32,3],null,[[\\\"joinClass\\\"],[\\\"btn-primary\\\"]]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[8,[32,4],[[24,0,\\\"chat-channel-preview-card__browse-all\\\"]],[[\\\"@route\\\"],[\\\"chat.browse\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,5],[\\\"chat.browse_all_channels\\\"],null]],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\"],false,[\\\"unless\\\",\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-preview-card.js\",\n    \"scope\": () => [_concatClass.default, _channelTitle.default, _toggleChannelMembershipButton.default, _helper.hash, _routing.LinkTo, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-row\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/routing\", \"@ember/service\", \"@ember/template\", \"ember-modifier\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/d-icon\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"truth-helpers/helpers/and\", \"truth-helpers/helpers/eq\", \"discourse/plugins/chat/discourse/components/channel-title\", \"discourse/plugins/chat/discourse/components/chat-channel-metadata\", \"discourse/plugins/chat/discourse/components/toggle-channel-membership-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _object, _didInsert, _willDestroy, _routing, _service, _template, _emberModifier, _concatClass, _ajaxError, _dIcon, _decorators, _discourseI18n, _and, _eq, _channelTitle, _chatChannelMetadata, _toggleChannelMembershipButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _class2, _firstDirectMessageUser;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const FADEOUT_CLASS = \"-fade-out\";\n  let ChatChannelRow = _exports.default = (_class = (_firstDirectMessageUser = /*#__PURE__*/new WeakMap(), (_class2 = class ChatChannelRow extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateFieldInitSpec(this, _firstDirectMessageUser, {\n        get: _get_firstDirectMessageUser,\n        set: void 0\n      });\n      _initializerDefineProperty(this, \"api\", _descriptor, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n      _initializerDefineProperty(this, \"router\", _descriptor5, this);\n      _initializerDefineProperty(this, \"site\", _descriptor6, this);\n      _initializerDefineProperty(this, \"isAtThreshold\", _descriptor7, this);\n      _initializerDefineProperty(this, \"shouldRemoveChannel\", _descriptor8, this);\n      _initializerDefineProperty(this, \"showRemoveButton\", _descriptor9, this);\n      _initializerDefineProperty(this, \"swipableRow\", _descriptor10, this);\n      _initializerDefineProperty(this, \"shouldReset\", _descriptor11, this);\n      _initializerDefineProperty(this, \"diff\", _descriptor12, this);\n      _initializerDefineProperty(this, \"rowStyle\", _descriptor13, this);\n      _initializerDefineProperty(this, \"canSwipe\", _descriptor14, this);\n      _defineProperty(this, \"registerSwipableRow\", (0, _emberModifier.modifier)(element1 => {\n        this.swipableRow = element1;\n      }));\n      _defineProperty(this, \"onReset\", (0, _emberModifier.modifier)(element1 => {\n        const handler1 = () => {\n          this.rowStyle = (0, _template.htmlSafe)(\"margin-right: 0px;\");\n          this.showRemoveButton = false;\n          this.shouldReset = false;\n        };\n        element1.addEventListener(\"transitionend\", handler1, {\n          once: true\n        });\n        return () => {\n          element1.removeEventListener(\"transitionend\", handler1);\n          this.rowStyle = (0, _template.htmlSafe)(\"margin-right: 0px;\");\n          this.showRemoveButton = false;\n          this.shouldReset = false;\n        };\n      }));\n      _defineProperty(this, \"onRemoveChannel\", (0, _emberModifier.modifier)(element1 => {\n        element1.addEventListener(\"transitionend\", () => {\n          this.chat.unfollowChannel(this.args.channel).catch(_ajaxError.popupAjaxError);\n        }, {\n          once: true\n        });\n        element1.classList.add(FADEOUT_CLASS);\n      }));\n      _defineProperty(this, \"handleSwipe\", (0, _emberModifier.modifier)(element1 => {\n        element1.addEventListener(\"touchstart\", this.onSwipeStart, {\n          passive: true\n        });\n        element1.addEventListener(\"touchmove\", this.onSwipe, {\n          passive: true\n        });\n        element1.addEventListener(\"touchend\", this.onSwipeEnd);\n        return () => {\n          element1.removeEventListener(\"touchstart\", this.onSwipeStart);\n          element1.removeEventListener(\"touchmove\", this.onSwipe);\n          element1.removeEventListener(\"touchend\", this.onSwipeEnd);\n        };\n      }));\n    }\n    onSwipeStart(event1) {\n      this._initialX = event1.changedTouches[0].screenX;\n    }\n    onSwipe(event1) {\n      this.showRemoveButton = true;\n      this.shouldReset = false;\n      this.isAtThreshold = false;\n      const threshold1 = window.innerWidth / 3;\n      const touchX1 = event1.changedTouches[0].screenX;\n      this.diff = this._initialX - touchX1;\n      this.isAtThreshold = this.diff >= threshold1;\n      // ensures we will go back to the initial position when swiping very fast\n      if (this.diff > 25) {\n        if (this.isAtThreshold) {\n          this.diff = threshold1 + (this.diff - threshold1) * 0.1;\n        }\n        this.rowStyle = (0, _template.htmlSafe)(`margin-right: ${this.diff}px;`);\n      } else {\n        this.rowStyle = (0, _template.htmlSafe)(\"margin-right: 0px;\");\n      }\n    }\n    onSwipeEnd() {\n      if (this.isAtThreshold) {\n        this.rowStyle = (0, _template.htmlSafe)(\"margin-right: 0px;\");\n        this.shouldRemoveChannel = true;\n      } else {\n        this.shouldReset = true;\n      }\n    }\n    get shouldHandleSwipe() {\n      return this.capabilities.touch && this.args.channel.isDirectMessageChannel;\n    }\n    get leaveDirectMessageLabel() {\n      return _discourseI18n.default.t(\"chat.direct_messages.close\");\n    }\n    get leaveChannelLabel() {\n      return _discourseI18n.default.t(\"chat.channel_settings.leave_channel\");\n    }\n    get channelHasUnread() {\n      return this.args.channel.tracking.unreadCount > 0;\n    }\n    startTrackingStatus() {\n      _classPrivateFieldGet(this, _firstDirectMessageUser)?.trackStatus();\n    }\n    stopTrackingStatus() {\n      _classPrivateFieldGet(this, _firstDirectMessageUser)?.stopTrackingStatus();\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <LinkTo\n        @route=\"chat.channel\"\n        @models={{@channel.routeModels}}\n        class={{concatClass\n          \"chat-channel-row\"\n          (if @channel.focused \"focused\")\n          (if @channel.currentUserMembership.muted \"muted\")\n          (if @options.leaveButton \"can-leave\")\n          (if (eq this.chat.activeChannel.id @channel.id) \"active\")\n          (if this.channelHasUnread \"has-unread\")\n        }}\n        tabindex=\"0\"\n        data-chat-channel-id={{@channel.id}}\n        {{didInsert this.startTrackingStatus}}\n        {{willDestroy this.stopTrackingStatus}}\n        {{(if this.shouldRemoveChannel (modifier this.onRemoveChannel))}}\n      >\n        <div\n          class={{concatClass\n            \"chat-channel-row__content\"\n            (if this.shouldReset \"-animate-reset\")\n          }}\n          {{(if this.shouldHandleSwipe (modifier this.registerSwipableRow))}}\n          {{(if this.shouldHandleSwipe (modifier this.handleSwipe))}}\n          {{(if this.shouldReset (modifier this.onReset))}}\n          style={{this.rowStyle}}\n        >\n          <ChannelTitle @channel={{@channel}} />\n          <ChatChannelMetadata @channel={{@channel}} @unreadIndicator={{true}} />\n  \n          {{#if\n            (and @options.leaveButton @channel.isFollowing this.site.desktopView)\n          }}\n            <ToggleChannelMembershipButton\n              @channel={{@channel}}\n              @options={{hash\n                leaveClass=\"btn-flat chat-channel-leave-btn\"\n                labelType=\"none\"\n                leaveIcon=\"times\"\n                leaveTitle=(if\n                  @channel.isDirectMessageChannel\n                  this.leaveDirectMessageLabel\n                  this.leaveChannelLabel\n                )\n              }}\n            />\n          {{/if}}\n        </div>\n  \n        {{#if this.showRemoveButton}}\n          <div\n            class={{concatClass\n              \"chat-channel-row__action-btn\"\n              (if this.isAtThreshold \"-at-threshold\" \"-not-at-threshold\")\n            }}\n          >\n            {{icon \"times-circle\"}}\n          </div>\n        {{/if}}\n      </LinkTo>\n    \n  */\n  {\n    \"id\": \"4Lvt76aZ\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"chat-channel-row\\\",[52,[30,1,[\\\"focused\\\"]],\\\"focused\\\"],[52,[30,1,[\\\"currentUserMembership\\\",\\\"muted\\\"]],\\\"muted\\\"],[52,[30,2,[\\\"leaveButton\\\"]],\\\"can-leave\\\"],[52,[28,[32,2],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"id\\\"]],[30,1,[\\\"id\\\"]]],null],\\\"active\\\"],[52,[30,0,[\\\"channelHasUnread\\\"]],\\\"has-unread\\\"]],null]],[24,\\\"tabindex\\\",\\\"0\\\"],[16,\\\"data-chat-channel-id\\\",[30,1,[\\\"id\\\"]]],[4,[32,3],[[30,0,[\\\"startTrackingStatus\\\"]]],null],[4,[32,4],[[30,0,[\\\"stopTrackingStatus\\\"]]],null],[4,[52,[30,0,[\\\"shouldRemoveChannel\\\"]],[50,[30,0,[\\\"onRemoveChannel\\\"]],2,null,null]],null,null]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[11,0],[16,0,[28,[32,1],[\\\"chat-channel-row__content\\\",[52,[30,0,[\\\"shouldReset\\\"]],\\\"-animate-reset\\\"]],null]],[16,5,[30,0,[\\\"rowStyle\\\"]]],[4,[52,[30,0,[\\\"shouldHandleSwipe\\\"]],[50,[30,0,[\\\"registerSwipableRow\\\"]],2,null,null]],null,null],[4,[52,[30,0,[\\\"shouldHandleSwipe\\\"]],[50,[30,0,[\\\"handleSwipe\\\"]],2,null,null]],null,null],[4,[52,[30,0,[\\\"shouldReset\\\"]],[50,[30,0,[\\\"onReset\\\"]],2,null,null]],null,null],[12],[1,\\\"\\\\n        \\\"],[8,[32,5],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n        \\\"],[8,[32,6],null,[[\\\"@channel\\\",\\\"@unreadIndicator\\\"],[[30,1],true]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,7],[[30,2,[\\\"leaveButton\\\"]],[30,1,[\\\"isFollowing\\\"]],[30,0,[\\\"site\\\",\\\"desktopView\\\"]]],null],[[[1,\\\"          \\\"],[8,[32,8],null,[[\\\"@channel\\\",\\\"@options\\\"],[[30,1],[28,[32,9],null,[[\\\"leaveClass\\\",\\\"labelType\\\",\\\"leaveIcon\\\",\\\"leaveTitle\\\"],[\\\"btn-flat chat-channel-leave-btn\\\",\\\"none\\\",\\\"times\\\",[52,[30,1,[\\\"isDirectMessageChannel\\\"]],[30,0,[\\\"leaveDirectMessageLabel\\\"]],[30,0,[\\\"leaveChannelLabel\\\"]]]]]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"showRemoveButton\\\"]],[[[1,\\\"        \\\"],[10,0],[15,0,[28,[32,1],[\\\"chat-channel-row__action-btn\\\",[52,[30,0,[\\\"isAtThreshold\\\"]],\\\"-at-threshold\\\",\\\"-not-at-threshold\\\"]],null]],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,10],[\\\"times-circle\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\",\\\"@options\\\"],false,[\\\"if\\\",\\\"modifier\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-row.js\",\n    \"scope\": () => [_routing.LinkTo, _concatClass.default, _eq.default, _didInsert.default, _willDestroy.default, _channelTitle.default, _chatChannelMetadata.default, _and.default, _toggleChannelMembershipButton.default, _helper.hash, _dIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"api\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isAtThreshold\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"shouldRemoveChannel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"showRemoveButton\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"swipableRow\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"shouldReset\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"diff\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"rowStyle\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"canSwipe\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"onSwipeStart\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onSwipeStart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSwipe\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onSwipe\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSwipeEnd\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onSwipeEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"startTrackingStatus\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"startTrackingStatus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"stopTrackingStatus\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"stopTrackingStatus\"), _class.prototype)), _class);\n  function _get_firstDirectMessageUser() {\n    return this.args.channel?.chatable?.users?.firstObject;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-status\", [\"exports\", \"@glimmer/component\", \"discourse-common/helpers/d-icon\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"discourse/plugins/chat/discourse/components/chat-channel-archive-status\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _dIcon, _discourseI18n, _chatChannel, _chatChannelArchiveStatus, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _shortStatusMessage = /*#__PURE__*/new WeakSet();\n  var _longStatusMessage = /*#__PURE__*/new WeakSet();\n  class ChatChannelStatus extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _longStatusMessage);\n      _classPrivateMethodInitSpec(this, _shortStatusMessage);\n      _defineProperty(this, \"LONG_FORMAT\", \"long\");\n      _defineProperty(this, \"SHORT_FORMAT\", \"short\");\n      _defineProperty(this, \"VALID_FORMATS\", [this.SHORT_FORMAT, this.LONG_FORMAT]);\n    }\n    get format() {\n      return this.VALID_FORMATS.includes(this.args.format) ? this.args.format : this.LONG_FORMAT;\n    }\n    get shouldRender() {\n      return this.channelStatusIcon && this.args.channel.status !== _chatChannel.CHANNEL_STATUSES.open;\n    }\n    get channelStatusMessage() {\n      if (this.format === this.LONG_FORMAT) {\n        return _classPrivateMethodGet(this, _longStatusMessage, _longStatusMessage2).call(this, this.args.channel.status);\n      } else {\n        return _classPrivateMethodGet(this, _shortStatusMessage, _shortStatusMessage2).call(this, this.args.channel.status);\n      }\n    }\n    get channelStatusIcon() {\n      return (0, _chatChannel.channelStatusIcon)(this.args.channel.status);\n    }\n  }\n  _exports.default = ChatChannelStatus;\n  _class = ChatChannelStatus;\n  function _shortStatusMessage2(status1) {\n    switch (status1) {\n      case _chatChannel.CHANNEL_STATUSES.archived:\n        return _discourseI18n.default.t(\"chat.channel_status.archived\");\n      case _chatChannel.CHANNEL_STATUSES.closed:\n        return _discourseI18n.default.t(\"chat.channel_status.closed\");\n      case _chatChannel.CHANNEL_STATUSES.open:\n        return _discourseI18n.default.t(\"chat.channel_status.open\");\n      case _chatChannel.CHANNEL_STATUSES.readOnly:\n        return _discourseI18n.default.t(\"chat.channel_status.read_only\");\n    }\n  }\n  function _longStatusMessage2(status1) {\n    switch (status1) {\n      case _chatChannel.CHANNEL_STATUSES.archived:\n        return _discourseI18n.default.t(\"chat.channel_status.archived_header\");\n      case _chatChannel.CHANNEL_STATUSES.closed:\n        return _discourseI18n.default.t(\"chat.channel_status.closed_header\");\n      case _chatChannel.CHANNEL_STATUSES.open:\n        return _discourseI18n.default.t(\"chat.channel_status.open_header\");\n      case _chatChannel.CHANNEL_STATUSES.readOnly:\n        return _discourseI18n.default.t(\"chat.channel_status.read_only_header\");\n    }\n  }\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <div class=\"chat-channel-status\">\n          {{dIcon this.channelStatusIcon}}\n          <span>{{this.channelStatusMessage}}</span>\n          <ChatChannelArchiveStatus @channel={{@channel}} />\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"TFCSy/zp\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-channel-status\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,0],[[30,0,[\\\"channelStatusIcon\\\"]]],null]],[1,\\\"\\\\n        \\\"],[10,1],[12],[1,[30,0,[\\\"channelStatusMessage\\\"]]],[13],[1,\\\"\\\\n        \\\"],[8,[32,1],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-status.js\",\n    \"scope\": () => [_dIcon.default, _chatChannelArchiveStatus.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-title\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/channel-title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _channelTitle, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class OldChatChannelTitle extends _component.default {}\n  _exports.default = OldChatChannelTitle;\n  _class = OldChatChannelTitle;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <ChannelTitle @channel={{@channel}} />\n    \n  */\n  {\n    \"id\": \"FbiREVGv\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-title.js\",\n    \"scope\": () => [_channelTitle.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel-unread-indicator\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/plugins/chat/discourse/lib/chat-user-preferences\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _concatClass, _chatUserPreferences, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2, _hasChannelMentions, _onlyMentions;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelUnreadIndicator = _exports.default = (_class = (_hasChannelMentions = /*#__PURE__*/new WeakSet(), _onlyMentions = /*#__PURE__*/new WeakSet(), (_class2 = class ChatChannelUnreadIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _onlyMentions);\n      _classPrivateMethodInitSpec(this, _hasChannelMentions);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n    }\n    get showUnreadIndicator() {\n      return this.args.channel.tracking.unreadCount > 0 ||\n      // We want to do this so we don't show a blue dot if the user is inside\n      // the channel and a new unread thread comes in.\n      this.chat.activeChannel?.id !== this.args.channel.id && this.args.channel.unreadThreadsCountSinceLastViewed > 0;\n    }\n    get unreadCount() {\n      if (_classPrivateMethodGet(this, _onlyMentions, _onlyMentions2).call(this) && _classPrivateMethodGet(this, _hasChannelMentions, _hasChannelMentions2).call(this)) {\n        return this.args.channel.tracking.mentionCount;\n      }\n      return this.args.channel.tracking.unreadCount;\n    }\n    get isUrgent() {\n      if (_classPrivateMethodGet(this, _onlyMentions, _onlyMentions2).call(this)) {\n        return _classPrivateMethodGet(this, _hasChannelMentions, _hasChannelMentions2).call(this);\n      }\n      return this.args.channel.isDirectMessageChannel || _classPrivateMethodGet(this, _hasChannelMentions, _hasChannelMentions2).call(this);\n    }\n    get showUnreadCount() {\n      if (_classPrivateMethodGet(this, _onlyMentions, _onlyMentions2).call(this)) {\n        return _classPrivateMethodGet(this, _hasChannelMentions, _hasChannelMentions2).call(this);\n      }\n      return this.args.channel.isDirectMessageChannel || this.isUrgent;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showUnreadIndicator}}\n        <div\n          class={{concatClass\n            \"chat-channel-unread-indicator\"\n            (if this.isUrgent \"-urgent\")\n          }}\n        >\n          <div class=\"chat-channel-unread-indicator__number\">{{#if\n              this.showUnreadCount\n            }}{{this.unreadCount}}{{else}}&nbsp;{{/if}}</div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"2C3+2fx+\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showUnreadIndicator\\\"]],[[[1,\\\"      \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-channel-unread-indicator\\\",[52,[30,0,[\\\"isUrgent\\\"]],\\\"-urgent\\\"]],null]],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-channel-unread-indicator__number\\\"],[12],[41,[30,0,[\\\"showUnreadCount\\\"]],[[[1,[30,0,[\\\"unreadCount\\\"]]]],[]],[[[1,\\\" \\\"]],[]]],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel-unread-indicator.js\",\n    \"scope\": () => [_concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _hasChannelMentions2() {\n    return this.args.channel.tracking.mentionCount > 0;\n  }\n  function _onlyMentions2() {\n    return (0, _chatUserPreferences.hasChatIndicator)(this.currentUser).ONLY_MENTIONS;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-channel\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/runloop\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse/lib/desktop-notifications\", \"discourse/lib/url\", \"discourse/lib/user-presence\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/debounce\", \"discourse-common/utils/decorators\", \"truth-helpers/helpers/and\", \"truth-helpers/helpers/not\", \"discourse/plugins/chat/discourse/components/chat-channel-status\", \"discourse/plugins/chat/discourse/lib/chat-channel-subscription-manager\", \"discourse/plugins/chat/discourse/lib/chat-constants\", \"discourse/plugins/chat/discourse/lib/chat-ios-hacks\", \"discourse/plugins/chat/discourse/lib/chat-messages-loader\", \"discourse/plugins/chat/discourse/lib/check-message-visibility\", \"discourse/plugins/chat/discourse/lib/scroll-helpers\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/modifiers/chat/on-resize\", \"discourse/plugins/chat/discourse/modifiers/chat/scrollable-list\", \"discourse/plugins/chat/discourse/components/chat/composer/channel\", \"discourse/plugins/chat/discourse/components/chat/scroll-to-bottom-arrow\", \"discourse/plugins/chat/discourse/components/chat/selection-manager\", \"discourse/plugins/chat/discourse/components/chat-channel-preview-card\", \"discourse/plugins/chat/discourse/components/chat-mention-warnings\", \"discourse/plugins/chat/discourse/components/chat-message\", \"discourse/plugins/chat/discourse/components/chat-notices\", \"discourse/plugins/chat/discourse/components/chat-skeleton\", \"discourse/plugins/chat/discourse/components/chat-upload-drop-zone\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _application, _helper, _object, _didInsert, _didUpdate, _willDestroy, _runloop, _service, _concatClass, _ajaxError, _desktopNotifications, _url, _userPresence, _i18n, _debounce, _decorators, _and, _not, _chatChannelStatus, _chatChannelSubscriptionManager, _chatConstants, _chatIosHacks, _chatMessagesLoader, _checkMessageVisibility, _scrollHelpers, _chatMessage, _onResize, _scrollableList, _channel, _scrollToBottomArrow, _selectionManager, _chatChannelPreviewCard, _chatMentionWarnings, _chatMessage2, _chatNotices, _chatSkeleton, _chatUploadDropZone, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _class2, _sendEditMessage, _sendNewMessage, _cancelHandlers, _preloadThreadTrackingState, _flushIgnoreNextScroll;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannel = _exports.default = (_dec = (0, _service.inject)(\"chat-channel-composer\"), _dec2 = (0, _service.inject)(\"chat-channel-pane\"), (_class = (_sendEditMessage = /*#__PURE__*/new WeakSet(), _sendNewMessage = /*#__PURE__*/new WeakSet(), _cancelHandlers = /*#__PURE__*/new WeakSet(), _preloadThreadTrackingState = /*#__PURE__*/new WeakSet(), _flushIgnoreNextScroll = /*#__PURE__*/new WeakSet(), (_class2 = class ChatChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _flushIgnoreNextScroll);\n      _classPrivateMethodInitSpec(this, _preloadThreadTrackingState);\n      _classPrivateMethodInitSpec(this, _cancelHandlers);\n      _classPrivateMethodInitSpec(this, _sendNewMessage);\n      _classPrivateMethodInitSpec(this, _sendEditMessage);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chatComposerPresenceManager\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor7, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor9, this);\n      _initializerDefineProperty(this, \"composer\", _descriptor10, this);\n      _initializerDefineProperty(this, \"pane\", _descriptor11, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor12, this);\n      _initializerDefineProperty(this, \"messageBus\", _descriptor13, this);\n      _initializerDefineProperty(this, \"router\", _descriptor14, this);\n      _initializerDefineProperty(this, \"site\", _descriptor15, this);\n      _initializerDefineProperty(this, \"sending\", _descriptor16, this);\n      _initializerDefineProperty(this, \"showChatQuoteSuccess\", _descriptor17, this);\n      _initializerDefineProperty(this, \"includeHeader\", _descriptor18, this);\n      _initializerDefineProperty(this, \"needsArrow\", _descriptor19, this);\n      _initializerDefineProperty(this, \"atBottom\", _descriptor20, this);\n      _initializerDefineProperty(this, \"uploadDropZone\", _descriptor21, this);\n      _initializerDefineProperty(this, \"isScrolling\", _descriptor22, this);\n      _defineProperty(this, \"scrollable\", null);\n      _defineProperty(this, \"_mentionWarningsSeen\", {});\n      _defineProperty(this, \"_unreachableGroupMentions\", []);\n      _defineProperty(this, \"_overMembersLimitGroupMentions\", []);\n    }\n    get messagesLoader() {\n      return new _chatMessagesLoader.default((0, _application.getOwner)(this), this.args.channel);\n    }\n    get messagesManager() {\n      return this.args.channel.messagesManager;\n    }\n    get currentUserMembership() {\n      return this.args.channel.currentUserMembership;\n    }\n    setScrollable(element1) {\n      this.scrollable = element1;\n    }\n    teardown() {\n      document.removeEventListener(\"keydown\", this._autoFocus);\n      _classPrivateMethodGet(this, _cancelHandlers, _cancelHandlers2).call(this);\n      (0, _userPresence.removeOnPresenceChange)(this.onPresenceChangeCallback);\n      this.subscriptionManager.teardown();\n    }\n    didResizePane() {\n      this.debounceFillPaneAttempt();\n      this.computeDatesSeparators();\n    }\n    setup(element1) {\n      this.uploadDropZone = element1;\n      document.addEventListener(\"keydown\", this._autoFocus);\n      (0, _userPresence.onPresenceChange)({\n        callback: this.onPresenceChangeCallback\n      });\n      this.messagesManager.clear();\n      if (this.args.channel.isDirectMessageChannel && !this.args.channel.isFollowing) {\n        this.chatChannelsManager.follow(this.args.channel);\n      }\n      this.args.channel.draft = this.chatDraftsManager.get(this.args.channel?.id) || _chatMessage.default.createDraftMessage(this.args.channel, {\n        user: this.currentUser\n      });\n      this.composer.focus();\n      this.loadMessages();\n      // We update this value server-side when we load the Channel\n      // here, so this reflects reality for sidebar unread logic.\n      this.args.channel.updateLastViewedAt();\n    }\n    loadMessages() {\n      if (!this.args.channel?.id) {\n        return;\n      }\n      this.subscriptionManager = new _chatChannelSubscriptionManager.default(this, this.args.channel, {\n        onNewMessage: this.onNewMessage\n      });\n      if (this.args.targetMessageId) {\n        this.debounceHighlightOrFetchMessage(this.args.targetMessageId);\n      } else {\n        this.fetchMessages({\n          fetch_from_last_read: true\n        });\n      }\n    }\n    onNewMessage(message1) {\n      (0, _chatIosHacks.stackingContextFix)(this.scrollable, () => {\n        this.messagesManager.addMessages([message1]);\n      });\n      this.debouncedUpdateLastReadMessage();\n    }\n    onPresenceChangeCallback(present1) {\n      if (present1) {\n        this.debouncedUpdateLastReadMessage();\n      }\n    }\n    async fetchMessages(findArgs1 = {}) {\n      if (this.messagesLoader.loading) {\n        return;\n      }\n      this.messagesManager.clear();\n      const result1 = await this.messagesLoader.load(findArgs1);\n      this.messagesManager.messages = this.processMessages(this.args.channel, result1);\n      if (findArgs1.target_message_id) {\n        this.scrollToMessageId(findArgs1.target_message_id, {\n          highlight: true\n        });\n      } else if (findArgs1.fetch_from_last_read) {\n        const lastReadMessageId1 = this.currentUserMembership?.lastReadMessageId;\n        this.scrollToMessageId(lastReadMessageId1);\n      } else if (findArgs1.target_date) {\n        this.scrollToMessageId(result1.meta.target_message_id, {\n          highlight: true,\n          position: \"center\"\n        });\n      } else {\n        this._ignoreNextScroll = true;\n        this.scrollToBottom();\n      }\n      this.debounceFillPaneAttempt();\n      this.debouncedUpdateLastReadMessage();\n    }\n    async fetchMoreMessages({\n      direction: direction1\n    }, opts1 = {}) {\n      if (this.messagesLoader.loading) {\n        return;\n      }\n      const result1 = await this.messagesLoader.loadMore({\n        direction: direction1\n      });\n      if (!result1) {\n        return;\n      }\n      const messages1 = this.processMessages(this.args.channel, result1);\n      if (!messages1.length) {\n        return;\n      }\n      const targetMessageId1 = this.messagesManager.messages.lastObject.id;\n      (0, _chatIosHacks.stackingContextFix)(this.scrollable, () => {\n        this.messagesManager.addMessages(messages1);\n      });\n      if (direction1 === _chatConstants.FUTURE && !opts1.noScroll) {\n        this.scrollToMessageId(targetMessageId1, {\n          position: \"end\",\n          forceAuto: true\n        });\n      }\n      this.debounceFillPaneAttempt();\n    }\n    scrollToBottom() {\n      this._ignoreNextScroll = true;\n      (0, _scrollHelpers.scrollListToBottom)(this.scrollable);\n    }\n    scrollToMessageId(messageId1, options1 = {}) {\n      this._ignoreNextScroll = true;\n      const message1 = this.messagesManager.findMessage(messageId1);\n      (0, _scrollHelpers.scrollListToMessage)(this.scrollable, message1, options1);\n    }\n    debounceFillPaneAttempt() {\n      this._debouncedFillPaneAttemptHandler = (0, _debounce.default)(this, this.fillPaneAttempt, 500);\n    }\n    fetchMessagesByDate(date1) {\n      if (this.messagesLoader.loading) {\n        return;\n      }\n      const message1 = this.messagesManager.findFirstMessageOfDay(new Date(date1));\n      if (message1.firstOfResults && this.messagesLoader.canLoadMorePast) {\n        this.fetchMessages({\n          target_date: date1,\n          direction: _chatConstants.FUTURE\n        });\n      } else {\n        this.highlightOrFetchMessage(message1.id, {\n          position: \"center\"\n        });\n      }\n    }\n    async fillPaneAttempt() {\n      if (!this.messagesLoader.fetchedOnce) {\n        return;\n      }\n      // safeguard\n      if (this.messagesManager.messages.length > 200) {\n        return;\n      }\n      if (!this.messagesLoader.canLoadMorePast) {\n        return;\n      }\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        const firstMessageId1 = this.messagesManager.messages.firstObject?.id;\n        const messageContainer1 = this.scrollable.querySelector(`.chat-message-container[data-id=\"${firstMessageId1}\"]`);\n        if (messageContainer1 && (0, _checkMessageVisibility.checkMessageTopVisibility)(this.scrollable, messageContainer1)) {\n          this.fetchMoreMessages({\n            direction: _chatConstants.PAST\n          });\n        }\n      });\n    }\n    processMessages(channel1, result1) {\n      const messages1 = [];\n      let foundFirstNew1 = false;\n      const hasNewest1 = this.messagesManager.messages.some(m1 => m1.newest);\n      result1?.messages?.forEach((messageData1, index1) => {\n        messageData1.firstOfResults = index1 === 0;\n        if (this.currentUser.ignored_users) {\n          // If a message has been hidden it is because the current user is ignoring\n          // the user who sent it, so we want to unconditionally hide it, even if\n          // we are going directly to the target\n          messageData1.hidden = this.currentUser.ignored_users.includes(messageData1.user.username);\n        }\n        if (this.requestedTargetMessageId === messageData1.id) {\n          messageData1.expanded = !messageData1.hidden;\n        } else {\n          messageData1.expanded = !(messageData1.hidden || messageData1.deleted_at);\n        }\n        // newest has to be in after fetch callback as we don't want to make it\n        // dynamic or it will make the pane jump around, it will disappear on reload\n        if (!hasNewest1 && !foundFirstNew1 && messageData1.id > this.currentUserMembership?.lastReadMessageId) {\n          foundFirstNew1 = true;\n          messageData1.newest = true;\n        }\n        const message1 = _chatMessage.default.create(channel1, messageData1);\n        message1.manager = channel1.messagesManager;\n        if (message1.thread) {\n          _classPrivateMethodGet(this, _preloadThreadTrackingState, _preloadThreadTrackingState2).call(this, message1.thread, result1.tracking.thread_tracking);\n        }\n        messages1.push(message1);\n      });\n      return messages1;\n    }\n    debounceHighlightOrFetchMessage(messageId1, options1 = {}) {\n      this._debouncedHighlightOrFetchMessageHandler = (0, _debounce.default)(this, this.highlightOrFetchMessage, messageId1, options1, 100);\n    }\n    highlightOrFetchMessage(messageId1, options1 = {}) {\n      const message1 = this.messagesManager.findMessage(messageId1);\n      if (message1) {\n        this.scrollToMessageId(message1.id, Object.assign({\n          highlight: true,\n          position: \"start\",\n          autoExpand: true,\n          behavior: this.capabilities.isIOS ? \"smooth\" : null\n        }, options1));\n      } else {\n        this.fetchMessages({\n          target_message_id: messageId1\n        });\n      }\n    }\n    debouncedUpdateLastReadMessage() {\n      this._debouncedUpdateLastReadMessageHandler = (0, _debounce.default)(this, this.updateLastReadMessage, _chatConstants.READ_INTERVAL_MS);\n    }\n    updateLastReadMessage() {\n      if (!this.args.channel.isFollowing) {\n        return;\n      }\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        let lastFullyVisibleMessageNode1 = null;\n        this.scrollable.querySelectorAll(\".chat-message-container\").forEach(item1 => {\n          if ((0, _checkMessageVisibility.checkMessageBottomVisibility)(this.scrollable, item1)) {\n            lastFullyVisibleMessageNode1 = item1;\n          }\n        });\n        if (!lastFullyVisibleMessageNode1) {\n          return;\n        }\n        let lastUnreadVisibleMessage1 = this.messagesManager.findMessage(lastFullyVisibleMessageNode1.dataset.id);\n        if (!lastUnreadVisibleMessage1) {\n          return;\n        }\n        const lastReadId1 = this.args.channel.currentUserMembership?.lastReadMessageId;\n        // we don't return early if === as we want to ensure different tabs will do the check\n        if (lastReadId1 > lastUnreadVisibleMessage1.id) {\n          return;\n        }\n        return this.chatApi.markChannelAsRead(this.args.channel.id, lastUnreadVisibleMessage1.id);\n      });\n    }\n    scrollToLatestMessage() {\n      if (this.messagesLoader.canLoadMoreFuture) {\n        this.fetchMessages();\n      } else if (this.messagesManager.messages.length > 0) {\n        this.scrollToBottom(this.scrollable);\n      }\n    }\n    onScroll(state1) {\n      (0, _chatIosHacks.bodyScrollFix)();\n      (0, _runloop.next)(() => {\n        if (_classPrivateMethodGet(this, _flushIgnoreNextScroll, _flushIgnoreNextScroll2).call(this)) {\n          return;\n        }\n        this.needsArrow = this.messagesLoader.fetchedOnce && this.messagesLoader.canLoadMoreFuture || state1.distanceToBottom.pixels > 250 && !state1.atBottom;\n        this.isScrolling = true;\n        this.debouncedUpdateLastReadMessage();\n        if (state1.atTop || !this.capabilities.isIOS && state1.up && state1.distanceToTop.percentage < 40) {\n          this.fetchMoreMessages({\n            direction: _chatConstants.PAST\n          });\n        } else if (state1.atBottom) {\n          this.fetchMoreMessages({\n            direction: _chatConstants.FUTURE\n          });\n        }\n      });\n    }\n    onScrollEnd(state1) {\n      (0, _desktopNotifications.resetIdle)();\n      this.needsArrow = this.messagesLoader.fetchedOnce && this.messagesLoader.canLoadMoreFuture || state1.distanceToBottom.pixels > 250 && !state1.atBottom;\n      this.isScrolling = false;\n      this.atBottom = state1.atBottom;\n      if (state1.atBottom) {\n        this.fetchMoreMessages({\n          direction: _chatConstants.FUTURE\n        });\n      }\n    }\n    async onSendMessage(message1) {\n      await message1.cook();\n      if (message1.editing) {\n        await _classPrivateMethodGet(this, _sendEditMessage, _sendEditMessage2).call(this, message1);\n      } else {\n        await _classPrivateMethodGet(this, _sendNewMessage, _sendNewMessage2).call(this, message1);\n      }\n    }\n    resetComposerMessage() {\n      this.args.channel.resetDraft(this.currentUser);\n    }\n    _onSendError(id1, error1) {\n      const stagedMessage1 = this.args.channel.messagesManager.findStagedMessage(id1);\n      if (stagedMessage1) {\n        if (error1.jqXHR?.responseJSON?.errors?.length) {\n          // only network errors are retryable\n          stagedMessage1.message = \"\";\n          stagedMessage1.cooked = \"\";\n          stagedMessage1.error = error1.jqXHR.responseJSON.errors[0];\n        } else {\n          this.chat.markNetworkAsUnreliable();\n          stagedMessage1.error = \"network_error\";\n        }\n      }\n      this.resetComposerMessage();\n    }\n    resendStagedMessage(stagedMessage1) {\n      this.pane.sending = true;\n      stagedMessage1.error = null;\n      const data1 = {\n        cooked: stagedMessage1.cooked,\n        message: stagedMessage1.message,\n        upload_ids: stagedMessage1.uploads.map(upload1 => upload1.id),\n        staged_id: stagedMessage1.id\n      };\n      this.chatApi.sendMessage(this.args.channel.id, data1).catch(error1 => {\n        this._onSendError(data1.staged_id, error1);\n      }).then(() => {\n        this.chat.markNetworkAsReliable();\n      }).finally(() => {\n        this.pane.sending = false;\n      });\n    }\n    onCloseFullScreen() {\n      this.chatStateManager.prefersDrawer();\n      _url.default.routeTo(this.chatStateManager.lastKnownAppURL).then(() => {\n        _url.default.routeTo(this.chatStateManager.lastKnownChatURL);\n      });\n    }\n    _autoFocus(event1) {\n      if (this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      const {\n        key: key1,\n        metaKey: metaKey1,\n        ctrlKey: ctrlKey1,\n        code: code1,\n        target: target1\n      } = event1;\n      if (!key1 ||\n      // Handles things like Enter, Tab, Shift\n      key1.length > 1 ||\n      // Don't need to focus if the user is beginning a shortcut.\n      metaKey1 || ctrlKey1 ||\n      // Space's key comes through as ' ' so it's not covered by key\n      code1 === \"Space\" ||\n      // ? is used for the keyboard shortcut modal\n      key1 === \"?\") {\n        return;\n      }\n      if (!target1 || /^(INPUT|TEXTAREA|SELECT)$/.test(target1.tagName)) {\n        return;\n      }\n      event1.preventDefault();\n      this.composer.focus({\n        addText: event1.key\n      });\n      return;\n    }\n    computeDatesSeparators() {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        const dates1 = [...this.scrollable.querySelectorAll(\".chat-message-separator-date\")].reverse();\n        const height1 = this.scrollable.querySelector(\".chat-messages-container\").clientHeight;\n        dates1.map((date1, index1) => {\n          const item1 = {\n            bottom: 0,\n            date: date1\n          };\n          const line1 = date1.nextElementSibling;\n          if (index1 > 0) {\n            const prevDate1 = dates1[index1 - 1];\n            const prevLine1 = prevDate1.nextElementSibling;\n            item1.bottom = height1 - prevLine1.offsetTop;\n          }\n          if (dates1.length === 1) {\n            item1.height = height1;\n          } else {\n            if (index1 === 0) {\n              item1.height = height1 - line1.offsetTop;\n            } else {\n              const prevDate1 = dates1[index1 - 1];\n              const prevLine1 = prevDate1.nextElementSibling;\n              item1.height = height1 - line1.offsetTop - (height1 - prevLine1.offsetTop);\n            }\n          }\n          return item1;\n        }) // group all writes at the end\n        .forEach(item1 => {\n          item1.date.style.bottom = item1.bottom + \"px\";\n          item1.date.style.height = item1.height + \"px\";\n        });\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-channel\"\n          (if this.messagesLoader.loading \"loading\")\n          (if this.pane.sending \"chat-channel--sending\")\n          (unless this.messagesLoader.fetchedOnce \"chat-channel--not-loaded-once\")\n        }}\n        {{willDestroy this.teardown}}\n        {{didInsert this.setup}}\n        {{didUpdate this.loadMessages @targetMessageId}}\n        data-id={{@channel.id}}\n      >\n  \n        <ChatChannelStatus @channel={{@channel}} />\n        <ChatNotices @channel={{@channel}} />\n        <ChatMentionWarnings />\n  \n        <div\n          class=\"chat-messages-scroll chat-messages-container popper-viewport\"\n          {{didInsert this.setScrollable}}\n          {{ChatScrollableList\n            (hash\n              onScroll=this.onScroll onScrollEnd=this.onScrollEnd reverse=true\n            )\n          }}\n        >\n          <div\n            class=\"chat-messages-container\"\n            {{ChatOnResize this.didResizePane (hash delay=100 immediate=true)}}\n          >\n            {{#each this.messagesManager.messages key=\"id\" as |message|}}\n              <Message\n                @message={{message}}\n                @disableMouseEvents={{this.isScrolling}}\n                @resendStagedMessage={{this.resendStagedMessage}}\n                @fetchMessagesByDate={{this.fetchMessagesByDate}}\n                @context=\"channel\"\n              />\n            {{else}}\n              {{#unless this.messagesLoader.fetchedOnce}}\n                <ChatSkeleton />\n              {{/unless}}\n            {{/each}}\n          </div>\n  \n          {{! at bottom even if shown at top due to column-reverse  }}\n          {{#if this.messagesLoader.loadedPast}}\n            <div class=\"all-loaded-message\">\n              {{i18n \"chat.all_loaded\"}}\n            </div>\n          {{/if}}\n        </div>\n  \n        <ChatScrollToBottomArrow\n          @onScrollToBottom={{this.scrollToLatestMessage}}\n          @isVisible={{this.needsArrow}}\n        />\n  \n        {{#if this.pane.selectingMessages}}\n          <ChatSelectionManager\n            @enableMove={{and\n              (not @channel.isDirectMessageChannel)\n              @channel.canModerate\n            }}\n            @pane={{this.pane}}\n          />\n        {{else}}\n          {{#if (and (not @channel.isFollowing) @channel.isCategoryChannel)}}\n            <ChatChannelPreviewCard @channel={{@channel}} />\n          {{else}}\n            <ChatComposerChannel\n              @channel={{@channel}}\n              @uploadDropZone={{this.uploadDropZone}}\n              @onSendMessage={{this.onSendMessage}}\n            />\n          {{/if}}\n        {{/if}}\n  \n        <ChatUploadDropZone @model={{@channel}} />\n      </div>\n    \n  */\n  {\n    \"id\": \"9bgKzSeq\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-channel\\\",[52,[30,0,[\\\"messagesLoader\\\",\\\"loading\\\"]],\\\"loading\\\"],[52,[30,0,[\\\"pane\\\",\\\"sending\\\"]],\\\"chat-channel--sending\\\"],[52,[51,[30,0,[\\\"messagesLoader\\\",\\\"fetchedOnce\\\"]]],\\\"chat-channel--not-loaded-once\\\"]],null]],[16,\\\"data-id\\\",[30,1,[\\\"id\\\"]]],[4,[32,1],[[30,0,[\\\"teardown\\\"]]],null],[4,[32,2],[[30,0,[\\\"setup\\\"]]],null],[4,[32,3],[[30,0,[\\\"loadMessages\\\"]],[30,2]],null],[12],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,4],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"],[8,[32,5],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"],[8,[32,6],null,null,null],[1,\\\"\\\\n\\\\n      \\\"],[11,0],[24,0,\\\"chat-messages-scroll chat-messages-container popper-viewport\\\"],[4,[32,2],[[30,0,[\\\"setScrollable\\\"]]],null],[4,[32,7],[[28,[32,8],null,[[\\\"onScroll\\\",\\\"onScrollEnd\\\",\\\"reverse\\\"],[[30,0,[\\\"onScroll\\\"]],[30,0,[\\\"onScrollEnd\\\"]],true]]]],null],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-messages-container\\\"],[4,[32,9],[[30,0,[\\\"didResizePane\\\"]],[28,[32,8],null,[[\\\"delay\\\",\\\"immediate\\\"],[100,true]]]],null],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,3],[[28,[31,3],[[30,0,[\\\"messagesManager\\\",\\\"messages\\\"]]],null]],null],\\\"id\\\",[[[1,\\\"            \\\"],[8,[32,10],null,[[\\\"@message\\\",\\\"@disableMouseEvents\\\",\\\"@resendStagedMessage\\\",\\\"@fetchMessagesByDate\\\",\\\"@context\\\"],[[30,3],[30,0,[\\\"isScrolling\\\"]],[30,0,[\\\"resendStagedMessage\\\"]],[30,0,[\\\"fetchMessagesByDate\\\"]],\\\"channel\\\"]],null],[1,\\\"\\\\n\\\"]],[3]],[[[41,[51,[30,0,[\\\"messagesLoader\\\",\\\"fetchedOnce\\\"]]],[[[1,\\\"              \\\"],[8,[32,11],null,null,null],[1,\\\"\\\\n\\\"]],[]],null]],[]]],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"messagesLoader\\\",\\\"loadedPast\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"all-loaded-message\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,12],[\\\"chat.all_loaded\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,13],null,[[\\\"@onScrollToBottom\\\",\\\"@isVisible\\\"],[[30,0,[\\\"scrollToLatestMessage\\\"]],[30,0,[\\\"needsArrow\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"pane\\\",\\\"selectingMessages\\\"]],[[[1,\\\"        \\\"],[8,[32,14],null,[[\\\"@enableMove\\\",\\\"@pane\\\"],[[28,[32,15],[[28,[32,16],[[30,1,[\\\"isDirectMessageChannel\\\"]]],null],[30,1,[\\\"canModerate\\\"]]],null],[30,0,[\\\"pane\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[41,[28,[32,15],[[28,[32,16],[[30,1,[\\\"isFollowing\\\"]]],null],[30,1,[\\\"isCategoryChannel\\\"]]],null],[[[1,\\\"          \\\"],[8,[32,17],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[8,[32,18],null,[[\\\"@channel\\\",\\\"@uploadDropZone\\\",\\\"@onSendMessage\\\"],[[30,1],[30,0,[\\\"uploadDropZone\\\"]],[30,0,[\\\"onSendMessage\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]]]],[]]],[1,\\\"\\\\n      \\\"],[8,[32,19],null,[[\\\"@model\\\"],[[30,1]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\",\\\"@targetMessageId\\\",\\\"message\\\"],false,[\\\"if\\\",\\\"unless\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-channel.js\",\n    \"scope\": () => [_concatClass.default, _willDestroy.default, _didInsert.default, _didUpdate.default, _chatChannelStatus.default, _chatNotices.default, _chatMentionWarnings.default, _scrollableList.default, _helper.hash, _onResize.default, _chatMessage2.default, _chatSkeleton.default, _i18n.default, _scrollToBottomArrow.default, _selectionManager.default, _and.default, _not.default, _chatChannelPreviewCard.default, _channel.default, _chatUploadDropZone.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chatComposerPresenceManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"composer\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"pane\", [_dec2], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"messageBus\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"sending\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"showChatQuoteSuccess\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"includeHeader\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"needsArrow\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"atBottom\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"uploadDropZone\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"isScrolling\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"messagesLoader\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"messagesLoader\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"teardown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"teardown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didResizePane\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didResizePane\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"loadMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"loadMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onNewMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onNewMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onPresenceChangeCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onPresenceChangeCallback\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToBottom\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToBottom\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchMessagesByDate\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchMessagesByDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"processMessages\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"processMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToLatestMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToLatestMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onScroll\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onScroll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onScrollEnd\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onScrollEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSendMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSendMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetComposerMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetComposerMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resendStagedMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resendStagedMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onCloseFullScreen\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onCloseFullScreen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_autoFocus\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_autoFocus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"computeDatesSeparators\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"computeDatesSeparators\"), _class.prototype)), _class));\n  async function _sendEditMessage2(message1) {\n    this.pane.sending = true;\n    const data1 = {\n      message: message1.message,\n      upload_ids: message1.uploads.map(upload1 => upload1.id)\n    };\n    this.resetComposerMessage();\n    try {\n      (0, _chatIosHacks.stackingContextFix)(this.scrollable, async () => {\n        await this.chatApi.editMessage(this.args.channel.id, message1.id, data1);\n      });\n    } catch (e1) {\n      (0, _ajaxError.popupAjaxError)(e1);\n    } finally {\n      message1.editing = false;\n      this.pane.sending = false;\n    }\n  }\n  async function _sendNewMessage2(message1) {\n    this.pane.sending = true;\n    (0, _desktopNotifications.resetIdle)();\n    (0, _chatIosHacks.stackingContextFix)(this.scrollable, async () => {\n      await this.args.channel.stageMessage(message1);\n    });\n    message1.manager = this.args.channel.messagesManager;\n    this.resetComposerMessage();\n    if (!this.capabilities.isIOS && !this.messagesLoader.canLoadMoreFuture) {\n      this.scrollToLatestMessage();\n    }\n    try {\n      await this.chatApi.sendMessage(this.args.channel.id, {\n        message: message1.message,\n        in_reply_to_id: message1.inReplyTo?.id,\n        staged_id: message1.id,\n        upload_ids: message1.uploads.map(upload1 => upload1.id)\n      });\n      if (!this.capabilities.isIOS) {\n        this.scrollToLatestMessage();\n      }\n    } catch (error1) {\n      this._onSendError(message1.id, error1);\n    } finally {\n      this.pane.sending = false;\n    }\n  }\n  function _cancelHandlers2() {\n    (0, _runloop.cancel)(this._debouncedHighlightOrFetchMessageHandler);\n    (0, _runloop.cancel)(this._debouncedUpdateLastReadMessageHandler);\n    (0, _runloop.cancel)(this._debouncedFillPaneAttemptHandler);\n  }\n  function _preloadThreadTrackingState2(thread1, threadTracking1) {\n    if (!threadTracking1[thread1.id]) {\n      return;\n    }\n    thread1.tracking.unreadCount = threadTracking1[thread1.id].unread_count;\n    thread1.tracking.mentionCount = threadTracking1[thread1.id].mention_count;\n  }\n  function _flushIgnoreNextScroll2() {\n    const prev1 = this._ignoreNextScroll;\n    this._ignoreNextScroll = false;\n    return prev1;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-composer-dropdown\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/object\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/i18n\", \"float-kit/components/d-menu\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _object, _dButton, _concatClass, _i18n, _dMenu, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let ChatComposerDropdown = _exports.default = (_class = (_class2 = class ChatComposerDropdown extends _component.default {\n    onButtonClick(button1, closeFn1) {\n      closeFn1();\n      button1.action();\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @buttons.length}}\n        <DMenu\n          class={{concatClass\n            \"chat-composer-dropdown__trigger-btn\"\n            \"btn-flat\"\n            (if @hasActivePanel \"has-active-panel\")\n          }}\n          @title={{i18n \"chat.composer.toggle_toolbar\"}}\n          @icon=\"plus\"\n          @disabled={{@isDisabled}}\n          @arrow={{true}}\n          @placements={{array \"top\" \"bottom\"}}\n          ...attributes\n          as |menu|\n        >\n          <ul class=\"chat-composer-dropdown__list\">\n            {{#each @buttons as |button|}}\n              <li class={{concatClass \"chat-composer-dropdown__item\" button.id}}>\n                <DButton\n                  @icon={{button.icon}}\n                  @action={{fn this.onButtonClick button menu.close}}\n                  @label={{button.label}}\n                  class={{concatClass\n                    \"chat-composer-dropdown__action-btn\"\n                    button.id\n                  }}\n                />\n              </li>\n            {{/each}}\n          </ul>\n        </DMenu>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"DnmH9nGM\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"length\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"chat-composer-dropdown__trigger-btn\\\",\\\"btn-flat\\\",[52,[30,2],\\\"has-active-panel\\\"]],null]],[17,3]],[[\\\"@title\\\",\\\"@icon\\\",\\\"@disabled\\\",\\\"@arrow\\\",\\\"@placements\\\"],[[28,[32,2],[\\\"chat.composer.toggle_toolbar\\\"],null],\\\"plus\\\",[30,4],true,[28,[32,3],[\\\"top\\\",\\\"bottom\\\"],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[10,\\\"ul\\\"],[14,0,\\\"chat-composer-dropdown__list\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,1]],null]],null],null,[[[1,\\\"            \\\"],[10,\\\"li\\\"],[15,0,[28,[32,1],[\\\"chat-composer-dropdown__item\\\",[30,6,[\\\"id\\\"]]],null]],[12],[1,\\\"\\\\n              \\\"],[8,[32,4],[[16,0,[28,[32,1],[\\\"chat-composer-dropdown__action-btn\\\",[30,6,[\\\"id\\\"]]],null]]],[[\\\"@icon\\\",\\\"@action\\\",\\\"@label\\\"],[[30,6,[\\\"icon\\\"]],[28,[32,5],[[30,0,[\\\"onButtonClick\\\"]],[30,6],[30,5,[\\\"close\\\"]]],null],[30,6,[\\\"label\\\"]]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[6]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"]],[5]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@buttons\\\",\\\"@hasActivePanel\\\",\\\"&attrs\\\",\\\"@isDisabled\\\",\\\"menu\\\",\\\"button\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-composer-dropdown.js\",\n    \"scope\": () => [_dMenu.default, _concatClass.default, _i18n.default, _helper.array, _dButton.default, _helper.fn],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_applyDecoratedDescriptor(_class.prototype, \"onButtonClick\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onButtonClick\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-composer-message-details\", [\"exports\", \"discourse/components/d-button\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/html-safe\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _dButton, _replaceEmoji, _dIcon, _htmlSafe, _chatUserAvatar, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatComposerMessageDetails = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div\n      class=\"chat-composer-message-details\"\n      data-id={{@message.id}}\n      data-action={{if @message.editing \"edit\" \"reply\"}}\n    >\n      <div class=\"chat-reply\">\n        {{dIcon (if @message.editing \"pencil-alt\" \"reply\")}}\n        <ChatUserAvatar @user={{@message.user}} />\n        <span class=\"chat-reply__username\">{{@message.user.username}}</span>\n        <span class=\"chat-reply__excerpt\">\n          {{replaceEmoji (htmlSafe @message.excerpt)}}\n        </span>\n      </div>\n  \n      <DButton\n        @action={{@cancelAction}}\n        @icon=\"times-circle\"\n        @title=\"cancel\"\n        class=\"btn-flat cancel-message-action\"\n      />\n    </div>\n  \n  */\n  {\n    \"id\": \"f2o3pL2a\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-composer-message-details\\\"],[15,\\\"data-id\\\",[30,1,[\\\"id\\\"]]],[15,\\\"data-action\\\",[52,[30,1,[\\\"editing\\\"]],\\\"edit\\\",\\\"reply\\\"]],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-reply\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[28,[32,0],[[52,[30,1,[\\\"editing\\\"]],\\\"pencil-alt\\\",\\\"reply\\\"]],null]],[1,\\\"\\\\n      \\\"],[8,[32,1],null,[[\\\"@user\\\"],[[30,1,[\\\"user\\\"]]]],null],[1,\\\"\\\\n      \\\"],[10,1],[14,0,\\\"chat-reply__username\\\"],[12],[1,[30,1,[\\\"user\\\",\\\"username\\\"]]],[13],[1,\\\"\\\\n      \\\"],[10,1],[14,0,\\\"chat-reply__excerpt\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[[28,[32,3],[[30,1,[\\\"excerpt\\\"]]],null]],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[8,[32,4],[[24,0,\\\"btn-flat cancel-message-action\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\"],[[30,2],\\\"times-circle\\\",\\\"cancel\\\"]],null],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[\\\"@message\\\",\\\"@cancelAction\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-composer-message-details.js\",\n    \"scope\": () => [_dIcon.default, _chatUserAvatar.default, _replaceEmoji.default, _htmlSafe.default, _dButton.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatComposerMessageDetails;\n});","define(\"discourse/plugins/chat/discourse/components/chat-composer-upload\", [\"exports\", \"@glimmer/component\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse/lib/uploads\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _dButton, _concatClass, _uploads, _dIcon, _i18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatComposerUpload extends _component.default {\n    get isImage() {\n      return (0, _uploads.isImage)(this.args.upload.original_filename || this.args.upload.fileName);\n    }\n    get fileName() {\n      return this.args.isDone ? this.args.upload.original_filename : this.args.upload.fileName;\n    }\n  }\n  _exports.default = ChatComposerUpload;\n  _class = ChatComposerUpload;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @upload}}\n        <div\n          class={{concatClass\n            \"chat-composer-upload\"\n            (if this.isImage \"chat-composer-upload--image\")\n            (unless @isDone \"chat-composer-upload--in-progress\")\n          }}\n        >\n          <div class=\"preview\">\n            {{#if this.isImage}}\n              {{#if @isDone}}\n                <img class=\"preview-img\" src={{@upload.short_path}} />\n              {{else}}\n                {{dIcon \"far-image\"}}\n              {{/if}}\n            {{else}}\n              {{dIcon \"file-alt\"}}\n            {{/if}}\n          </div>\n  \n          <span class=\"data\">\n            {{#unless this.isImage}}\n              <div class=\"top-data\">\n                <span class=\"file-name\">{{this.fileName}}</span>\n              </div>\n            {{/unless}}\n  \n            <div class=\"bottom-data\">\n              {{#if @isDone}}\n                {{#unless this.isImage}}\n                  <span class=\"extension-pill\">{{@upload.extension}}</span>\n                {{/unless}}\n              {{else}}\n                {{#if @upload.processing}}\n                  <span class=\"processing\">{{i18n \"processing\"}}</span>\n                {{else}}\n                  <span class=\"uploading\">{{i18n \"uploading\"}}</span>\n                {{/if}}\n  \n                <progress\n                  class=\"upload-progress\"\n                  id=\"file\"\n                  max=\"100\"\n                  value={{@upload.progress}}\n                ></progress>\n              {{/if}}\n            </div>\n          </span>\n  \n          <DButton\n            @action={{@onCancel}}\n            @icon=\"times\"\n            @title=\"chat.remove_upload\"\n            class=\"btn-flat chat-composer-upload__remove-btn\"\n          />\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"UMadJQbB\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-composer-upload\\\",[52,[30,0,[\\\"isImage\\\"]],\\\"chat-composer-upload--image\\\"],[52,[51,[30,2]],\\\"chat-composer-upload--in-progress\\\"]],null]],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"preview\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"isImage\\\"]],[[[41,[30,2],[[[1,\\\"              \\\"],[10,\\\"img\\\"],[14,0,\\\"preview-img\\\"],[15,\\\"src\\\",[30,1,[\\\"short_path\\\"]]],[12],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"              \\\"],[1,[28,[32,1],[\\\"far-image\\\"],null]],[1,\\\"\\\\n\\\"]],[]]]],[]],[[[1,\\\"            \\\"],[1,[28,[32,1],[\\\"file-alt\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[10,1],[14,0,\\\"data\\\"],[12],[1,\\\"\\\\n\\\"],[41,[51,[30,0,[\\\"isImage\\\"]]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"top-data\\\"],[12],[1,\\\"\\\\n              \\\"],[10,1],[14,0,\\\"file-name\\\"],[12],[1,[30,0,[\\\"fileName\\\"]]],[13],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"bottom-data\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,2],[[[41,[51,[30,0,[\\\"isImage\\\"]]],[[[1,\\\"                \\\"],[10,1],[14,0,\\\"extension-pill\\\"],[12],[1,[30,1,[\\\"extension\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null]],[]],[[[41,[30,1,[\\\"processing\\\"]],[[[1,\\\"                \\\"],[10,1],[14,0,\\\"processing\\\"],[12],[1,[28,[32,2],[\\\"processing\\\"],null]],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[10,1],[14,0,\\\"uploading\\\"],[12],[1,[28,[32,2],[\\\"uploading\\\"],null]],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n              \\\"],[10,\\\"progress\\\"],[14,0,\\\"upload-progress\\\"],[14,1,\\\"file\\\"],[14,\\\"max\\\",\\\"100\\\"],[15,2,[30,1,[\\\"progress\\\"]]],[12],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,3],[[24,0,\\\"btn-flat chat-composer-upload__remove-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\"],[[30,3],\\\"times\\\",\\\"chat.remove_upload\\\"]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@upload\\\",\\\"@isDone\\\",\\\"@onCancel\\\"],false,[\\\"if\\\",\\\"unless\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-composer-upload.js\",\n    \"scope\": () => [_concatClass.default, _dIcon.default, _i18n.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-composer-uploads\", [\"exports\", \"@ember/component\", \"@ember/object\", \"@ember/service\", \"discourse/lib/uppy-media-optimization-plugin\", \"discourse/lib/utilities\", \"discourse/mixins/uppy-upload\", \"discourse-common/lib/object\", \"discourse-common/utils/decorators\", \"@ember/template-factory\"], function (_exports, _component, _object, _service, _uppyMediaOptimizationPlugin, _utilities, _uppyUpload, _object2, _decorators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _obj;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{#if this.showUploadsContainer}}\n    <div class=\"chat-composer-uploads-container\">\n      {{#each this.uploads as |upload|}}\n        <ChatComposerUpload\n          @upload={{upload}}\n          @isDone={{true}}\n          @onCancel={{action \"removeUpload\" upload}}\n        />\n      {{/each}}\n  \n      {{#each this.inProgressUploads as |upload|}}\n        <ChatComposerUpload\n          @upload={{upload}}\n          @onCancel={{action \"cancelUploading\" upload}}\n        />\n      {{/each}}\n    </div>\n  {{/if}}\n  \n  <PickFilesButton\n    @allowMultiple={{true}}\n    @fileInputId={{this.fileUploadElementId}}\n    @fileInputClass=\"hidden-upload-field\"\n  />\n  */\n  {\n    \"id\": \"FoGAB5VV\",\n    \"block\": \"[[[41,[30,0,[\\\"showUploadsContainer\\\"]],[[[1,\\\"  \\\"],[10,0],[14,0,\\\"chat-composer-uploads-container\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[37,2],[[28,[37,2],[[30,0,[\\\"uploads\\\"]]],null]],null],null,[[[1,\\\"      \\\"],[8,[39,3],null,[[\\\"@upload\\\",\\\"@isDone\\\",\\\"@onCancel\\\"],[[30,1],true,[28,[37,4],[[30,0],\\\"removeUpload\\\",[30,1]],null]]],null],[1,\\\"\\\\n\\\"]],[1]],null],[1,\\\"\\\\n\\\"],[42,[28,[37,2],[[28,[37,2],[[30,0,[\\\"inProgressUploads\\\"]]],null]],null],null,[[[1,\\\"      \\\"],[8,[39,3],null,[[\\\"@upload\\\",\\\"@onCancel\\\"],[[30,2],[28,[37,4],[[30,0],\\\"cancelUploading\\\",[30,2]],null]]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"  \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[8,[39,5],null,[[\\\"@allowMultiple\\\",\\\"@fileInputId\\\",\\\"@fileInputClass\\\"],[true,[30,0,[\\\"fileUploadElementId\\\"]],\\\"hidden-upload-field\\\"]],null]],[\\\"upload\\\",\\\"upload\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\",\\\"chat-composer-upload\\\",\\\"action\\\",\\\"pick-files-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-composer-uploads.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _component.default.extend(_uppyUpload.default, (_dec = (0, _decorators.default)(\"uploads.length\", \"inProgressUploads.length\"), (_obj = {\n    classNames: [\"chat-composer-uploads\"],\n    mediaOptimizationWorker: (0, _service.inject)(),\n    chatStateManager: (0, _service.inject)(),\n    id: \"chat-composer-uploader\",\n    type: \"chat-composer\",\n    existingUploads: null,\n    uploads: null,\n    useMultipartUploadsIfAvailable: true,\n    uploadDropZone: null,\n    init() {\n      this._super(...arguments);\n      this.setProperties({\n        fileInputSelector: `#${this.fileUploadElementId}`\n      });\n    },\n    didReceiveAttrs() {\n      this._super(...arguments);\n      if (this.inProgressUploads?.length > 0) {\n        this._uppyInstance?.cancelAll();\n      }\n      this.set(\"uploads\", this.existingUploads ? (0, _object2.cloneJSON)(this.existingUploads) : []);\n    },\n    didInsertElement() {\n      this._super(...arguments);\n      this.composerInputEl?.addEventListener(\"paste\", this._pasteEventListener);\n    },\n    willDestroyElement() {\n      this._super(...arguments);\n      this.composerInputEl?.removeEventListener(\"paste\", this._pasteEventListener);\n    },\n    uploadDone(upload) {\n      this.uploads.pushObject(upload);\n      this._triggerUploadsChanged();\n    },\n    showUploadsContainer(uploadsCount, inProgressUploadsCount) {\n      return uploadsCount > 0 || inProgressUploadsCount > 0;\n    },\n    cancelUploading(upload) {\n      this.appEvents.trigger(`upload-mixin:${this.id}:cancel-upload`, {\n        fileId: upload.id\n      });\n      this.removeUpload(upload);\n    },\n    removeUpload(upload) {\n      this.uploads.removeObject(upload);\n      this._triggerUploadsChanged();\n    },\n    _uploadDropTargetOptions() {\n      return {\n        target: this.uploadDropZone || document.body\n      };\n    },\n    _uppyReady() {\n      if (this.siteSettings.composer_media_optimization_image_enabled) {\n        this._useUploadPlugin(_uppyMediaOptimizationPlugin.default, {\n          optimizeFn: (data, opts) => this.mediaOptimizationWorker.optimizeImage(data, opts),\n          runParallel: !this.site.isMobileDevice\n        });\n      }\n      this._onPreProcessProgress(file => {\n        const inProgressUpload = this.inProgressUploads.findBy(\"id\", file.id);\n        if (!inProgressUpload?.processing) {\n          inProgressUpload?.set(\"processing\", true);\n        }\n      });\n      this._onPreProcessComplete(file => {\n        const inProgressUpload = this.inProgressUploads.findBy(\"id\", file.id);\n        inProgressUpload?.set(\"processing\", false);\n      });\n    },\n    _pasteEventListener(event) {\n      if (document.activeElement !== this.composerInputEl) {\n        return;\n      }\n      const {\n        canUpload,\n        canPasteHtml,\n        types\n      } = (0, _utilities.clipboardHelpers)(event, {\n        siteSettings: this.siteSettings,\n        canUpload: true\n      });\n      if (!canUpload || canPasteHtml || types.includes(\"text/plain\")) {\n        return;\n      }\n      if (event && event.clipboardData && event.clipboardData.files) {\n        this._addFiles([...event.clipboardData.files], {\n          pasted: true\n        });\n      }\n    },\n    onProgressUploadsChanged() {\n      this._triggerUploadsChanged(this.uploads, {\n        inProgressUploadsCount: this.inProgressUploads?.length\n      });\n    },\n    _triggerUploadsChanged() {\n      this.onUploadChanged?.(this.uploads, {\n        inProgressUploadsCount: this.inProgressUploads?.length\n      });\n    }\n  }, (_applyDecoratedDescriptor(_obj, \"showUploadsContainer\", [_dec], Object.getOwnPropertyDescriptor(_obj, \"showUploadsContainer\"), _obj), _applyDecoratedDescriptor(_obj, \"cancelUploading\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"cancelUploading\"), _obj), _applyDecoratedDescriptor(_obj, \"removeUpload\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"removeUpload\"), _obj), _applyDecoratedDescriptor(_obj, \"_pasteEventListener\", [_decorators.bind], Object.getOwnPropertyDescriptor(_obj, \"_pasteEventListener\"), _obj)), _obj))));\n});","define(\"discourse/plugins/chat/discourse/components/chat-composer\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"@ember/utils\", \"jquery\", \"pretty-text/emoji\", \"pretty-text/emoji/data\", \"rsvp\", \"discourse/components/modal/insert-hyperlink\", \"discourse/lib/autocomplete\", \"discourse/lib/hashtag-autocomplete\", \"discourse/lib/text\", \"discourse/lib/user-search\", \"discourse/lib/user-status-on-autocomplete\", \"discourse-common/lib/object\", \"discourse-common/lib/raw-templates\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/modal/channel-summary\", \"discourse/plugins/chat/discourse/lib/chat-composer-buttons\", \"discourse/plugins/chat/discourse/lib/chat-message-interactor\", \"discourse/plugins/chat/discourse/lib/textarea-interactor\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _application, _object, _runloop, _service, _utils, _jquery, _emoji, _data, _rsvp, _insertHyperlink, _autocomplete, _hashtagAutocomplete, _text, _userSearch, _userStatusOnAutocomplete, _object2, _rawTemplates, _discourseI18n, _channelSummary, _chatComposerButtons, _chatMessageInteractor, _textareaInteractor, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _addMentionedUser, _applyUserAutocomplete, _applyCategoryHashtagAutocomplete, _applyEmojiAutocomplete, _isAutocompleteDisplayed, _deleteEmptyMessage;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{! template-lint-disable no-pointer-down-event-binding }}\n  {{! template-lint-disable no-invalid-interactive }}\n  \n  <div class=\"chat-composer__wrapper\">\n    {{#if this.shouldRenderMessageDetails}}\n      <ChatComposerMessageDetails\n        @message={{if this.draft.editing this.draft this.draft.inReplyTo}}\n        @cancelAction={{this.resetDraft}}\n      />\n    {{/if}}\n  \n    <div\n      role=\"region\"\n      aria-label={{i18n \"chat.aria_roles.composer\"}}\n      class={{concat-class\n        \"chat-composer\"\n        (if this.isFocused \"is-focused\")\n        (if this.pane.sending \"is-sending\")\n        (if this.sendEnabled \"is-send-enabled\" \"is-send-disabled\")\n        (if this.disabled \"is-disabled\" \"is-enabled\")\n        (if this.draft.draftSaved \"is-draft-saved\" \"is-draft-unsaved\")\n      }}\n      {{did-update this.didUpdateMessage this.draft}}\n      {{did-update this.didUpdateInReplyTo this.draft.inReplyTo}}\n      {{did-insert this.setup}}\n      {{will-destroy this.teardown}}\n      {{will-destroy this.cancelPersistDraft}}\n    >\n      <div class=\"chat-composer__outer-container\">\n        <div class=\"chat-composer__inner-container\">\n          <ChatComposerDropdown\n            @buttons={{this.dropdownButtons}}\n            @isDisabled={{this.disabled}}\n          />\n  \n          <div\n            class=\"chat-composer__input-container\"\n            {{on \"click\" this.composer.focus}}\n          >\n            <DTextarea\n              id={{this.composerId}}\n              value={{readonly this.draft.message}}\n              type=\"text\"\n              class=\"chat-composer__input\"\n              disabled={{this.disabled}}\n              autocorrect=\"on\"\n              autocapitalize=\"sentences\"\n              placeholder={{this.placeholder}}\n              rows={{1}}\n              {{did-insert this.setupTextareaInteractor}}\n              {{on \"input\" this.onInput}}\n              {{on \"keydown\" this.onKeyDown}}\n              {{on \"focusin\" this.onTextareaFocusIn}}\n              {{on \"focusin\" (fn this.computeIsFocused true)}}\n              {{on \"focusout\" (fn this.computeIsFocused false)}}\n              {{did-insert this.setupAutocomplete}}\n              data-chat-composer-context={{this.context}}\n            />\n          </div>\n  \n          {{#if this.inlineButtons.length}}\n            {{#each this.inlineButtons as |button|}}\n              <Chat::Composer::Button\n                @icon={{button.icon}}\n                class=\"-{{button.id}}\"\n                disabled={{or this.disabled button.disabled}}\n                tabindex={{if button.disabled -1 0}}\n                {{on\n                  \"click\"\n                  (fn this.handleInlineButtonAction button.action)\n                  bubbles=false\n                }}\n                {{on \"focus\" (fn this.computeIsFocused true)}}\n                {{on \"blur\" (fn this.computeIsFocused false)}}\n              />\n            {{/each}}\n  \n            <Chat::Composer::Separator />\n          {{/if}}\n  \n          <Chat::Composer::Button\n            @icon=\"paper-plane\"\n            class=\"-send\"\n            title={{i18n \"chat.composer.send\"}}\n            disabled={{or this.disabled (not this.sendEnabled)}}\n            tabindex={{if this.sendEnabled 0 -1}}\n            {{on \"click\" this.onSend}}\n            {{on \"mousedown\" this.trapMouseDown}}\n            {{on \"focus\" (fn this.computeIsFocused true)}}\n            {{on \"blur\" (fn this.computeIsFocused false)}}\n          />\n        </div>\n      </div>\n    </div>\n  \n    {{#if this.canAttachUploads}}\n      <ChatComposerUploads\n        @fileUploadElementId={{this.fileUploadElementId}}\n        @onUploadChanged={{this.onUploadChanged}}\n        @existingUploads={{this.draft.uploads}}\n        @uploadDropZone={{@uploadDropZone}}\n        @composerInputEl={{this.composer.textarea.element}}\n      />\n    {{/if}}\n  \n    <div class=\"chat-replying-indicator-container\">\n      <ChatReplyingIndicator @presenceChannelName={{this.presenceChannelName}} />\n    </div>\n  \n    <ChatEmojiPicker\n      @context={{this.context}}\n      @didSelectEmoji={{this.onSelectEmoji}}\n    />\n  </div>\n  */\n  {\n    \"id\": \"h27tq99D\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[10,0],[14,0,\\\"chat-composer__wrapper\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRenderMessageDetails\\\"]],[[[1,\\\"    \\\"],[8,[39,1],null,[[\\\"@message\\\",\\\"@cancelAction\\\"],[[52,[30,0,[\\\"draft\\\",\\\"editing\\\"]],[30,0,[\\\"draft\\\"]],[30,0,[\\\"draft\\\",\\\"inReplyTo\\\"]]],[30,0,[\\\"resetDraft\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n  \\\"],[11,0],[24,\\\"role\\\",\\\"region\\\"],[16,\\\"aria-label\\\",[28,[37,2],[\\\"chat.aria_roles.composer\\\"],null]],[16,0,[28,[37,3],[\\\"chat-composer\\\",[52,[30,0,[\\\"isFocused\\\"]],\\\"is-focused\\\"],[52,[30,0,[\\\"pane\\\",\\\"sending\\\"]],\\\"is-sending\\\"],[52,[30,0,[\\\"sendEnabled\\\"]],\\\"is-send-enabled\\\",\\\"is-send-disabled\\\"],[52,[30,0,[\\\"disabled\\\"]],\\\"is-disabled\\\",\\\"is-enabled\\\"],[52,[30,0,[\\\"draft\\\",\\\"draftSaved\\\"]],\\\"is-draft-saved\\\",\\\"is-draft-unsaved\\\"]],null]],[4,[38,4],[[30,0,[\\\"didUpdateMessage\\\"]],[30,0,[\\\"draft\\\"]]],null],[4,[38,4],[[30,0,[\\\"didUpdateInReplyTo\\\"]],[30,0,[\\\"draft\\\",\\\"inReplyTo\\\"]]],null],[4,[38,5],[[30,0,[\\\"setup\\\"]]],null],[4,[38,6],[[30,0,[\\\"teardown\\\"]]],null],[4,[38,6],[[30,0,[\\\"cancelPersistDraft\\\"]]],null],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-composer__outer-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-composer__inner-container\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[39,7],null,[[\\\"@buttons\\\",\\\"@isDisabled\\\"],[[30,0,[\\\"dropdownButtons\\\"]],[30,0,[\\\"disabled\\\"]]]],null],[1,\\\"\\\\n\\\\n        \\\"],[11,0],[24,0,\\\"chat-composer__input-container\\\"],[4,[38,8],[\\\"click\\\",[30,0,[\\\"composer\\\",\\\"focus\\\"]]],null],[12],[1,\\\"\\\\n          \\\"],[8,[39,9],[[16,1,[30,0,[\\\"composerId\\\"]]],[16,2,[28,[37,10],[[30,0,[\\\"draft\\\",\\\"message\\\"]]],null]],[24,0,\\\"chat-composer__input\\\"],[16,\\\"disabled\\\",[30,0,[\\\"disabled\\\"]]],[24,\\\"autocorrect\\\",\\\"on\\\"],[24,\\\"autocapitalize\\\",\\\"sentences\\\"],[16,\\\"placeholder\\\",[30,0,[\\\"placeholder\\\"]]],[16,\\\"rows\\\",1],[16,\\\"data-chat-composer-context\\\",[30,0,[\\\"context\\\"]]],[24,4,\\\"text\\\"],[4,[38,5],[[30,0,[\\\"setupTextareaInteractor\\\"]]],null],[4,[38,8],[\\\"input\\\",[30,0,[\\\"onInput\\\"]]],null],[4,[38,8],[\\\"keydown\\\",[30,0,[\\\"onKeyDown\\\"]]],null],[4,[38,8],[\\\"focusin\\\",[30,0,[\\\"onTextareaFocusIn\\\"]]],null],[4,[38,8],[\\\"focusin\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],true],null]],null],[4,[38,8],[\\\"focusout\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],false],null]],null],[4,[38,5],[[30,0,[\\\"setupAutocomplete\\\"]]],null]],null,null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"inlineButtons\\\",\\\"length\\\"]],[[[42,[28,[37,13],[[28,[37,13],[[30,0,[\\\"inlineButtons\\\"]]],null]],null],null,[[[1,\\\"            \\\"],[8,[39,14],[[16,0,[29,[\\\"-\\\",[30,1,[\\\"id\\\"]]]]],[16,\\\"disabled\\\",[28,[37,15],[[30,0,[\\\"disabled\\\"]],[30,1,[\\\"disabled\\\"]]],null]],[16,\\\"tabindex\\\",[52,[30,1,[\\\"disabled\\\"]],-1,0]],[4,[38,8],[\\\"click\\\",[28,[37,11],[[30,0,[\\\"handleInlineButtonAction\\\"]],[30,1,[\\\"action\\\"]]],null]],[[\\\"bubbles\\\"],[false]]],[4,[38,8],[\\\"focus\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],true],null]],null],[4,[38,8],[\\\"blur\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],false],null]],null]],[[\\\"@icon\\\"],[[30,1,[\\\"icon\\\"]]]],null],[1,\\\"\\\\n\\\"]],[1]],null],[1,\\\"\\\\n          \\\"],[8,[39,16],null,null,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[8,[39,14],[[24,0,\\\"-send\\\"],[16,\\\"title\\\",[28,[37,2],[\\\"chat.composer.send\\\"],null]],[16,\\\"disabled\\\",[28,[37,15],[[30,0,[\\\"disabled\\\"]],[28,[37,17],[[30,0,[\\\"sendEnabled\\\"]]],null]],null]],[16,\\\"tabindex\\\",[52,[30,0,[\\\"sendEnabled\\\"]],0,-1]],[4,[38,8],[\\\"click\\\",[30,0,[\\\"onSend\\\"]]],null],[4,[38,8],[\\\"mousedown\\\",[30,0,[\\\"trapMouseDown\\\"]]],null],[4,[38,8],[\\\"focus\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],true],null]],null],[4,[38,8],[\\\"blur\\\",[28,[37,11],[[30,0,[\\\"computeIsFocused\\\"]],false],null]],null]],[[\\\"@icon\\\"],[\\\"paper-plane\\\"]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"canAttachUploads\\\"]],[[[1,\\\"    \\\"],[8,[39,18],null,[[\\\"@fileUploadElementId\\\",\\\"@onUploadChanged\\\",\\\"@existingUploads\\\",\\\"@uploadDropZone\\\",\\\"@composerInputEl\\\"],[[30,0,[\\\"fileUploadElementId\\\"]],[30,0,[\\\"onUploadChanged\\\"]],[30,0,[\\\"draft\\\",\\\"uploads\\\"]],[30,2],[30,0,[\\\"composer\\\",\\\"textarea\\\",\\\"element\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-replying-indicator-container\\\"],[12],[1,\\\"\\\\n    \\\"],[8,[39,19],null,[[\\\"@presenceChannelName\\\"],[[30,0,[\\\"presenceChannelName\\\"]]]],null],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,20],null,[[\\\"@context\\\",\\\"@didSelectEmoji\\\"],[[30,0,[\\\"context\\\"]],[30,0,[\\\"onSelectEmoji\\\"]]]],null],[1,\\\"\\\\n\\\"],[13]],[\\\"button\\\",\\\"@uploadDropZone\\\"],false,[\\\"if\\\",\\\"chat-composer-message-details\\\",\\\"i18n\\\",\\\"concat-class\\\",\\\"did-update\\\",\\\"did-insert\\\",\\\"will-destroy\\\",\\\"chat-composer-dropdown\\\",\\\"on\\\",\\\"d-textarea\\\",\\\"readonly\\\",\\\"fn\\\",\\\"each\\\",\\\"-track-array\\\",\\\"chat/composer/button\\\",\\\"or\\\",\\\"chat/composer/separator\\\",\\\"not\\\",\\\"chat-composer-uploads\\\",\\\"chat-replying-indicator\\\",\\\"chat-emoji-picker\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-composer.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatComposer = _exports.default = (_class = (_addMentionedUser = /*#__PURE__*/new WeakSet(), _applyUserAutocomplete = /*#__PURE__*/new WeakSet(), _applyCategoryHashtagAutocomplete = /*#__PURE__*/new WeakSet(), _applyEmojiAutocomplete = /*#__PURE__*/new WeakSet(), _isAutocompleteDisplayed = /*#__PURE__*/new WeakSet(), _deleteEmptyMessage = /*#__PURE__*/new WeakSet(), class ChatComposer extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _deleteEmptyMessage);\n      _classPrivateMethodInitSpec(this, _isAutocompleteDisplayed);\n      _classPrivateMethodInitSpec(this, _applyEmojiAutocomplete);\n      _classPrivateMethodInitSpec(this, _applyCategoryHashtagAutocomplete);\n      _classPrivateMethodInitSpec(this, _applyUserAutocomplete);\n      _classPrivateMethodInitSpec(this, _addMentionedUser);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor3, this);\n      _initializerDefineProperty(this, \"store\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chatComposerPresenceManager\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatComposerWarningsTracker\", _descriptor7, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatEmojiReactionStore\", _descriptor9, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor10, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor11, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor12, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor13, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor14, this);\n      _initializerDefineProperty(this, \"isFocused\", _descriptor15, this);\n      _initializerDefineProperty(this, \"inProgressUploadsCount\", _descriptor16, this);\n      _initializerDefineProperty(this, \"presenceChannelName\", _descriptor17, this);\n    }\n    get shouldRenderMessageDetails() {\n      return this.draft?.editing || this.context === \"channel\" && this.draft?.inReplyTo;\n    }\n    get inlineButtons() {\n      return (0, _chatComposerButtons.chatComposerButtons)(this, \"inline\", this.context);\n    }\n    get dropdownButtons() {\n      return (0, _chatComposerButtons.chatComposerButtons)(this, \"dropdown\", this.context);\n    }\n    get fileUploadElementId() {\n      return this.context + \"-file-uploader\";\n    }\n    get canAttachUploads() {\n      return this.siteSettings.chat_allow_uploads && (0, _utils.isPresent)(this.args.uploadDropZone);\n    }\n    persistDraft() {}\n    setupAutocomplete(textarea) {\n      const $textarea = (0, _jquery.default)(textarea);\n      _classPrivateMethodGet(this, _applyUserAutocomplete, _applyUserAutocomplete2).call(this, $textarea);\n      _classPrivateMethodGet(this, _applyEmojiAutocomplete, _applyEmojiAutocomplete2).call(this, $textarea);\n      _classPrivateMethodGet(this, _applyCategoryHashtagAutocomplete, _applyCategoryHashtagAutocomplete2).call(this, $textarea);\n    }\n    setupTextareaInteractor(textarea) {\n      this.composer.textarea = new _textareaInteractor.default((0, _application.getOwner)(this), textarea);\n      if (this.site.desktopView && this.args.autofocus) {\n        this.composer.focus({\n          ensureAtEnd: true,\n          refreshHeight: true\n        });\n      }\n    }\n    didUpdateMessage() {\n      this.cancelPersistDraft();\n      this.composer.textarea.value = this.draft.message;\n      this.persistDraft();\n      this.captureMentions({\n        skipDebounce: true\n      });\n    }\n    didUpdateInReplyTo() {\n      this.cancelPersistDraft();\n      this.persistDraft();\n    }\n    cancelPersistDraft() {\n      (0, _runloop.cancel)(this._persistHandler);\n    }\n    handleInlineButtonAction(buttonAction, event) {\n      event.stopPropagation();\n      buttonAction();\n    }\n    get hasContent() {\n      const minLength = this.siteSettings.chat_minimum_message_length || 1;\n      return this.draft?.message?.length >= minLength || this.canAttachUploads && this.hasUploads;\n    }\n    get hasUploads() {\n      return this.draft?.uploads?.length > 0;\n    }\n    get sendEnabled() {\n      return (this.hasContent || this.draft?.editing) && !this.pane.sending && !this.inProgressUploadsCount > 0;\n    }\n    setup() {\n      this.appEvents.on(\"chat:modify-selection\", this, \"modifySelection\");\n      this.appEvents.on(\"chat:open-insert-link-modal\", this, \"openInsertLinkModal\");\n    }\n    teardown() {\n      this.appEvents.off(\"chat:modify-selection\", this, \"modifySelection\");\n      this.appEvents.off(\"chat:open-insert-link-modal\", this, \"openInsertLinkModal\");\n      this.pane.sending = false;\n    }\n    insertDiscourseLocalDate() {\n      // JIT import because local-dates isn't necessarily enabled\n      const LocalDatesCreateModal = require(\"discourse/plugins/discourse-local-dates/discourse/components/modal/local-dates-create\").default;\n      this.modal.show(LocalDatesCreateModal, {\n        model: {\n          insertDate: markup => {\n            this.composer.textarea.addText(this.composer.textarea.getSelected(), markup);\n            this.composer.focus();\n          }\n        }\n      });\n    }\n    uploadClicked() {\n      document.querySelector(`#${this.fileUploadElementId}`).click();\n    }\n    computeIsFocused(isFocused) {\n      (0, _runloop.next)(() => {\n        this.isFocused = isFocused;\n      });\n    }\n    onInput(event) {\n      this.draft.draftSaved = false;\n      this.draft.message = event.target.value;\n      this.composer.textarea.refreshHeight();\n      this.reportReplyingPresence();\n      this.persistDraft();\n      this.captureMentions();\n    }\n    onUploadChanged(uploads, {\n      inProgressUploadsCount\n    }) {\n      this.draft.draftSaved = false;\n      this.inProgressUploadsCount = inProgressUploadsCount || 0;\n      if (typeof uploads !== \"undefined\" && inProgressUploadsCount !== \"undefined\" && inProgressUploadsCount === 0 && this.draft) {\n        this.draft.uploads = (0, _object2.cloneJSON)(uploads);\n      }\n      this.composer.textarea?.focus();\n      this.reportReplyingPresence();\n      this.persistDraft();\n    }\n    trapMouseDown(event) {\n      event?.preventDefault();\n    }\n    async onSend(event) {\n      if (!this.sendEnabled) {\n        return;\n      }\n      event?.preventDefault();\n      if (this.draft.editing && !this.hasUploads && this.draft.message.length === 0) {\n        _classPrivateMethodGet(this, _deleteEmptyMessage, _deleteEmptyMessage2).call(this);\n        return;\n      }\n      await this.args.onSendMessage(this.draft);\n      this.composer.textarea.refreshHeight();\n    }\n    reportReplyingPresence() {\n      if (!this.args.channel || !this.draft) {\n        return;\n      }\n      this.chatComposerPresenceManager.notifyState(this.presenceChannelName, !this.draft.editing && this.hasContent);\n    }\n    modifySelection(event, options = {\n      type: null,\n      context: null\n    }) {\n      if (options.context !== this.context) {\n        return;\n      }\n      const sel = this.composer.textarea.getSelected(\"\", {\n        lineVal: true\n      });\n      if (options.type === \"bold\") {\n        this.composer.textarea.applySurround(sel, \"**\", \"**\", \"bold_text\");\n      } else if (options.type === \"italic\") {\n        this.composer.textarea.applySurround(sel, \"_\", \"_\", \"italic_text\");\n      } else if (options.type === \"code\") {\n        this.composer.textarea.applySurround(sel, \"`\", \"`\", \"code_text\");\n      }\n    }\n    onTextareaFocusIn(textarea) {\n      if (!this.capabilities.isIOS) {\n        return;\n      }\n\n      // hack to prevent the whole viewport to move on focus input\n      // we need access to native node\n      textarea = this.composer.textarea.textarea;\n      textarea.style.transform = \"translateY(-99999px)\";\n      textarea.focus();\n      window.requestAnimationFrame(() => {\n        window.requestAnimationFrame(() => {\n          textarea.style.transform = \"\";\n        });\n      });\n    }\n    onKeyDown(event) {\n      if (this.site.mobileView || event.altKey || event.metaKey || _classPrivateMethodGet(this, _isAutocompleteDisplayed, _isAutocompleteDisplayed2).call(this)) {\n        return;\n      }\n      if (event.key === \"Escape\" && !event.shiftKey) {\n        return this.handleEscape(event);\n      }\n      if (event.key === \"Enter\") {\n        if (event.shiftKey) {\n          // Shift+Enter: insert newline\n          return;\n        }\n\n        // Ctrl+Enter, plain Enter: send\n        if (!event.ctrlKey) {\n          // if we are inside a code block just insert newline\n          const {\n            pre\n          } = this.composer.textarea.getSelected({\n            lineVal: true\n          });\n          if (this.composer.textarea.isInside(pre, /(^|\\n)```/g)) {\n            return;\n          }\n        }\n        this.onSend();\n        event.preventDefault();\n        return false;\n      }\n      if (event.key === \"ArrowUp\" && !this.hasContent && !this.draft.editing) {\n        if (event.shiftKey && this.lastMessage?.replyable) {\n          this.composer.replyTo(this.lastMessage);\n        } else {\n          const editableMessage = this.lastUserMessage(this.currentUser);\n          if (editableMessage?.editable) {\n            this.composer.edit(editableMessage);\n            this.args.channel.draft = editableMessage;\n          }\n        }\n      }\n    }\n    openInsertLinkModal(event, options = {\n      context: null\n    }) {\n      if (options.context !== this.context) {\n        return;\n      }\n      const selected = this.composer.textarea.getSelected(\"\", {\n        lineVal: true\n      });\n      const linkText = selected?.value;\n      this.modal.show(_insertHyperlink.default, {\n        model: {\n          linkText,\n          toolbarEvent: {\n            addText: text => this.composer.textarea.addText(selected, text)\n          }\n        }\n      });\n    }\n    onSelectEmoji(emoji) {\n      const code = `:${emoji}:`;\n      this.chatEmojiReactionStore.track(code);\n      this.composer.textarea.addText(this.composer.textarea.getSelected(), code);\n      if (this.site.desktopView) {\n        this.composer.focus();\n      } else {\n        this.chatEmojiPickerManager.close();\n      }\n    }\n    captureMentions(opts = {\n      skipDebounce: false\n    }) {\n      if (this.hasContent) {\n        this.chatComposerWarningsTracker.trackMentions(this.draft, opts.skipDebounce);\n      } else {\n        this.chatComposerWarningsTracker.reset();\n      }\n    }\n    showChannelSummaryModal() {\n      this.modal.show(_channelSummary.default, {\n        model: {\n          channelId: this.args.channel.id\n        }\n      });\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"store\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chatComposerPresenceManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatComposerWarningsTracker\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiReactionStore\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"isFocused\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"inProgressUploadsCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"presenceChannelName\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"persistDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"persistDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setupAutocomplete\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setupAutocomplete\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setupTextareaInteractor\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setupTextareaInteractor\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didUpdateMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didUpdateMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didUpdateInReplyTo\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didUpdateInReplyTo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cancelPersistDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"cancelPersistDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleInlineButtonAction\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleInlineButtonAction\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"teardown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"teardown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"insertDiscourseLocalDate\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"insertDiscourseLocalDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"uploadClicked\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"uploadClicked\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"computeIsFocused\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"computeIsFocused\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onInput\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onInput\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onUploadChanged\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onUploadChanged\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"trapMouseDown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"trapMouseDown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSend\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSend\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"modifySelection\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"modifySelection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTextareaFocusIn\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onTextareaFocusIn\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onKeyDown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onKeyDown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openInsertLinkModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openInsertLinkModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectEmoji\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectEmoji\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"captureMentions\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"captureMentions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showChannelSummaryModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"showChannelSummaryModal\"), _class.prototype)), _class);\n  function _addMentionedUser2(userData) {\n    const user = this.store.createRecord(\"user\", userData);\n    this.draft.mentionedUsers.set(user.id, user);\n  }\n  function _applyUserAutocomplete2($textarea) {\n    if (!this.siteSettings.enable_mentions) {\n      return;\n    }\n    $textarea.autocomplete({\n      template: (0, _rawTemplates.findRawTemplate)(\"user-selector-autocomplete\"),\n      key: \"@\",\n      width: \"100%\",\n      treatAsTextarea: true,\n      autoSelectFirstSuggestion: true,\n      transformComplete: obj => {\n        if (obj.isUser) {\n          _classPrivateMethodGet(this, _addMentionedUser, _addMentionedUser2).call(this, obj);\n        }\n        return obj.username || obj.name;\n      },\n      dataSource: term => {\n        (0, _userStatusOnAutocomplete.destroyUserStatuses)();\n        return (0, _userSearch.default)({\n          term,\n          includeGroups: true\n        }).then(result => {\n          if (result?.users?.length > 0) {\n            const presentUserNames = this.chat.presenceChannel.users?.mapBy(\"username\");\n            result.users.forEach(user => {\n              if (presentUserNames.includes(user.username)) {\n                user.cssClasses = \"is-online\";\n              }\n            });\n            (0, _userStatusOnAutocomplete.initUserStatusHtml)((0, _application.getOwner)(this), result.users);\n          }\n          return result;\n        });\n      },\n      onRender: options => {\n        (0, _userStatusOnAutocomplete.renderUserStatusHtml)(options);\n      },\n      afterComplete: (text, event) => {\n        event.preventDefault();\n        this.composer.textarea.value = text;\n        this.composer.focus();\n        this.captureMentions();\n      },\n      onClose: _userStatusOnAutocomplete.destroyUserStatuses\n    });\n  }\n  function _applyCategoryHashtagAutocomplete2($textarea) {\n    (0, _hashtagAutocomplete.setupHashtagAutocomplete)(this.site.hashtag_configurations[\"chat-composer\"], $textarea, this.siteSettings, {\n      treatAsTextarea: true,\n      afterComplete: (text, event) => {\n        event.preventDefault();\n        this.composer.textarea.value = text;\n        this.composer.focus();\n      }\n    });\n  }\n  function _applyEmojiAutocomplete2($textarea) {\n    if (!this.siteSettings.enable_emoji) {\n      return;\n    }\n    $textarea.autocomplete({\n      template: (0, _rawTemplates.findRawTemplate)(\"emoji-selector-autocomplete\"),\n      key: \":\",\n      afterComplete: (text, event) => {\n        event.preventDefault();\n        this.composer.textarea.value = text;\n        this.composer.focus();\n      },\n      treatAsTextarea: true,\n      onKeyUp: (text, cp) => {\n        const matches = /(?:^|[\\s.\\?,@\\/#!%&*;:\\[\\]{}=\\-_()])(:(?!:).?[\\w-]*:?(?!:)(?:t\\d?)?:?) ?$/gi.exec(text.substring(0, cp));\n        if (matches && matches[1]) {\n          return [matches[1]];\n        }\n      },\n      transformComplete: v => {\n        if (v.code) {\n          this.chatEmojiReactionStore.track(v.code);\n          return `${v.code}:`;\n        } else {\n          $textarea.autocomplete({\n            cancel: true\n          });\n          this.chatEmojiPickerManager.open({\n            context: this.context,\n            initialFilter: v.term\n          });\n          return \"\";\n        }\n      },\n      dataSource: term => {\n        return new _rsvp.Promise(resolve => {\n          const full = `:${term}`;\n          term = term.toLowerCase();\n\n          // We need to avoid quick emoji autocomplete cause it can interfere with quick\n          // typing, set minimal length to 2\n          let minLength = Math.max(this.siteSettings.emoji_autocomplete_min_chars, 2);\n          if (term.length < minLength) {\n            return resolve(_autocomplete.SKIP);\n          }\n\n          // bypass :-p and other common typed smileys\n          if (!term.match(/[^-\\{\\}\\[\\]\\(\\)\\*_\\<\\>\\\\\\/].*[^-\\{\\}\\[\\]\\(\\)\\*_\\<\\>\\\\\\/]/)) {\n            return resolve(_autocomplete.SKIP);\n          }\n          if (term === \"\") {\n            if (this.chatEmojiReactionStore.favorites.length) {\n              return resolve(this.chatEmojiReactionStore.favorites.slice(0, 5));\n            } else {\n              return resolve([\"slight_smile\", \"smile\", \"wink\", \"sunny\", \"blush\"]);\n            }\n          }\n\n          // note this will only work for emojis starting with :\n          // eg: :-)\n          const emojiTranslation = this.site.custom_emoji_translation || {};\n          const allTranslations = Object.assign({}, _data.translations, emojiTranslation);\n          if (allTranslations[full]) {\n            return resolve([allTranslations[full]]);\n          }\n          const emojiDenied = this.site.denied_emojis || [];\n          const match = term.match(/^:?(.*?):t([2-6])?$/);\n          if (match) {\n            const name = match[1];\n            const scale = match[2];\n            if ((0, _emoji.isSkinTonableEmoji)(name) && !emojiDenied.includes(name)) {\n              if (scale) {\n                return resolve([`${name}:t${scale}`]);\n              } else {\n                return resolve([2, 3, 4, 5, 6].map(x => `${name}:t${x}`));\n              }\n            }\n          }\n          const options = (0, _emoji.emojiSearch)(term, {\n            maxResults: 5,\n            diversity: this.chatEmojiReactionStore.diversity,\n            exclude: emojiDenied\n          });\n          return resolve(options);\n        }).then(list => {\n          if (list === _autocomplete.SKIP) {\n            return;\n          }\n          return list.map(code => ({\n            code,\n            src: (0, _text.emojiUrlFor)(code)\n          }));\n        }).then(list => {\n          if (list?.length) {\n            list.push({\n              label: _discourseI18n.default.t(\"composer.more_emoji\"),\n              term\n            });\n          }\n          return list;\n        });\n      }\n    });\n  }\n  function _isAutocompleteDisplayed2() {\n    return document.querySelector(\".autocomplete\");\n  }\n  function _deleteEmptyMessage2() {\n    new _chatMessageInteractor.default((0, _application.getOwner)(this), this.draft, this.context).delete();\n    this.resetDraft();\n  }\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatComposer);\n});","define(\"discourse/plugins/chat/discourse/components/chat-drawer\", [\"exports\", \"@ember/component\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"@ember/template\", \"discourse/lib/url\", \"discourse/lib/utilities\", \"discourse-common/lib/get-url\", \"discourse-common/utils/decorators\", \"@ember/template-factory\"], function (_exports, _component, _object, _runloop, _service, _template, _url, _utilities, _getUrl, _decorators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _obj;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{#if this.chatStateManager.isDrawerActive}}\n    <div\n      data-chat-channel-id={{this.chat.activeChannel.id}}\n      data-chat-thread-id={{this.chat.activeChannel.activeThread.id}}\n      class={{concat-class\n        \"chat-drawer\"\n        (if this.chatStateManager.isDrawerExpanded \"is-expanded\")\n      }}\n      {{chat/resizable-node \".chat-drawer-resizer\" this.didResize}}\n      style={{this.drawerStyle}}\n    >\n      <div class=\"chat-drawer-container\">\n        <div class=\"chat-drawer-resizer\"></div>\n        <this.chatDrawerRouter.component\n          @params={{this.chatDrawerRouter.params}}\n          @openURL={{this.openURL}}\n          @openInFullPage={{this.openInFullPage}}\n          @toggleExpand={{this.toggleExpand}}\n          @close={{this.close}}\n          @drawerActions={{this.drawerActions}}\n        />\n      </div>\n    </div>\n  {{/if}}\n  */\n  {\n    \"id\": \"Km2Q7jFJ\",\n    \"block\": \"[[[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerActive\\\"]],[[[1,\\\"  \\\"],[11,0],[16,\\\"data-chat-channel-id\\\",[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"id\\\"]]],[16,\\\"data-chat-thread-id\\\",[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"activeThread\\\",\\\"id\\\"]]],[16,0,[28,[37,1],[\\\"chat-drawer\\\",[52,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],\\\"is-expanded\\\"]],null]],[16,5,[30,0,[\\\"drawerStyle\\\"]]],[4,[38,2],[\\\".chat-drawer-resizer\\\",[30,0,[\\\"didResize\\\"]]],null],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-drawer-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-drawer-resizer\\\"],[12],[13],[1,\\\"\\\\n      \\\"],[8,[30,0,[\\\"chatDrawerRouter\\\",\\\"component\\\"]],null,[[\\\"@params\\\",\\\"@openURL\\\",\\\"@openInFullPage\\\",\\\"@toggleExpand\\\",\\\"@close\\\",\\\"@drawerActions\\\"],[[30,0,[\\\"chatDrawerRouter\\\",\\\"params\\\"]],[30,0,[\\\"openURL\\\"]],[30,0,[\\\"openInFullPage\\\"]],[30,0,[\\\"toggleExpand\\\"]],[30,0,[\\\"close\\\"]],[30,0,[\\\"drawerActions\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[],false,[\\\"if\\\",\\\"concat-class\\\",\\\"chat/resizable-node\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-drawer.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _component.default.extend((_dec = (0, _decorators.observes)(\"chatStateManager.isDrawerActive\"), (_obj = {\n    tagName: \"\",\n    chat: (0, _service.inject)(),\n    router: (0, _service.inject)(),\n    chatDrawerSize: (0, _service.inject)(),\n    chatChannelsManager: (0, _service.inject)(),\n    chatStateManager: (0, _service.inject)(),\n    chatDrawerRouter: (0, _service.inject)(),\n    loading: false,\n    sizeTimer: null,\n    rafTimer: null,\n    hasUnreadMessages: false,\n    drawerStyle: null,\n    didInsertElement() {\n      this._super(...arguments);\n      if (!this.chat.userCanChat) {\n        return;\n      }\n      this._checkSize();\n      this.appEvents.on(\"chat:open-url\", this, \"openURL\");\n      this.appEvents.on(\"chat:toggle-close\", this, \"close\");\n      this.appEvents.on(\"composer:closed\", this, \"_checkSize\");\n      this.appEvents.on(\"composer:opened\", this, \"_checkSize\");\n      this.appEvents.on(\"composer:resized\", this, \"_checkSize\");\n      this.appEvents.on(\"composer:div-resizing\", this, \"_dynamicCheckSize\");\n      window.addEventListener(\"resize\", this._checkSize);\n      this.appEvents.on(\"composer:resize-started\", this, \"_startDynamicCheckSize\");\n      this.appEvents.on(\"composer:resize-ended\", this, \"_clearDynamicCheckSize\");\n      this.computeDrawerStyle();\n    },\n    willDestroyElement() {\n      this._super(...arguments);\n      if (!this.chat.userCanChat) {\n        return;\n      }\n      window.removeEventListener(\"resize\", this._checkSize);\n      if (this.appEvents) {\n        this.appEvents.off(\"chat:open-url\", this, \"openURL\");\n        this.appEvents.off(\"chat:toggle-close\", this, \"close\");\n        this.appEvents.off(\"composer:closed\", this, \"_checkSize\");\n        this.appEvents.off(\"composer:opened\", this, \"_checkSize\");\n        this.appEvents.off(\"composer:resized\", this, \"_checkSize\");\n        this.appEvents.off(\"composer:div-resizing\", this, \"_dynamicCheckSize\");\n        this.appEvents.off(\"composer:resize-started\", this, \"_startDynamicCheckSize\");\n        this.appEvents.off(\"composer:resize-ended\", this, \"_clearDynamicCheckSize\");\n      }\n      if (this.sizeTimer) {\n        (0, _runloop.cancel)(this.sizeTimer);\n        this.sizeTimer = null;\n      }\n      if (this.rafTimer) {\n        window.cancelAnimationFrame(this.rafTimer);\n      }\n    },\n    _fireHiddenAppEvents() {\n      this.appEvents.trigger(\"chat:rerender-header\");\n    },\n    computeDrawerStyle() {\n      const {\n        width,\n        height\n      } = this.chatDrawerSize.size;\n      let style = `width: ${(0, _utilities.escapeExpression)((width || \"0\").toString())}px;`;\n      style += `height: ${(0, _utilities.escapeExpression)((height || \"0\").toString())}px;`;\n      this.set(\"drawerStyle\", (0, _template.htmlSafe)(style));\n    },\n    get drawerActions() {\n      return {\n        openInFullPage: this.openInFullPage,\n        close: this.close,\n        toggleExpand: this.toggleExpand\n      };\n    },\n    _dynamicCheckSize() {\n      if (!this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      if (this.rafTimer) {\n        return;\n      }\n      this.rafTimer = window.requestAnimationFrame(() => {\n        this.rafTimer = null;\n        this._performCheckSize();\n      });\n    },\n    _startDynamicCheckSize() {\n      if (!this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      document.querySelector(\".chat-drawer-outlet-container\").classList.add(\"clear-transitions\");\n    },\n    _clearDynamicCheckSize() {\n      if (!this.chatStateManager.isDrawerActive) {\n        return;\n      }\n      document.querySelector(\".chat-drawer-outlet-container\").classList.remove(\"clear-transitions\");\n      this._checkSize();\n    },\n    _checkSize() {\n      this.sizeTimer = (0, _runloop.throttle)(this, this._performCheckSize, 150);\n    },\n    _performCheckSize() {\n      if (this.isDestroying || this.isDestroyed) {\n        return;\n      }\n      const drawerContainer = document.querySelector(\".chat-drawer-outlet-container\");\n      if (!drawerContainer) {\n        return;\n      }\n      const composer = document.getElementById(\"reply-control\");\n      const composerIsClosed = composer.classList.contains(\"closed\");\n      const minRightMargin = 15;\n      drawerContainer.style.setProperty(\"--composer-right\", (composerIsClosed ? minRightMargin : Math.max(minRightMargin, composer.offsetLeft)) + \"px\");\n    },\n    openURL(url = null) {\n      this.chat.activeChannel = null;\n      this.chatDrawerRouter.stateFor(this._routeFromURL(url));\n      this.chatStateManager.didOpenDrawer(url);\n    },\n    _routeFromURL(url) {\n      let route = this.router.recognize((0, _getUrl.default)(url || \"/\"));\n\n      // ember might recognize the index subroute\n      if (route.localName === \"index\") {\n        route = route.parent;\n      }\n      return route;\n    },\n    async openInFullPage() {\n      this.chatStateManager.storeAppURL();\n      this.chatStateManager.prefersFullPage();\n      this.chat.activeChannel = null;\n      await new Promise(resolve => (0, _runloop.next)(resolve));\n      return _url.default.routeTo(this.chatStateManager.lastKnownChatURL);\n    },\n    toggleExpand() {\n      this.computeDrawerStyle();\n      this.chatStateManager.didToggleDrawer();\n      this.appEvents.trigger(\"chat:toggle-expand\", this.chatStateManager.isDrawerExpanded);\n    },\n    close() {\n      this.computeDrawerStyle();\n      this.chatStateManager.didCloseDrawer();\n      this.chat.activeChannel = null;\n    },\n    didResize(element, {\n      width,\n      height\n    }) {\n      this.chatDrawerSize.size = {\n        width,\n        height\n      };\n    }\n  }, (_applyDecoratedDescriptor(_obj, \"_fireHiddenAppEvents\", [_dec], Object.getOwnPropertyDescriptor(_obj, \"_fireHiddenAppEvents\"), _obj), _applyDecoratedDescriptor(_obj, \"_dynamicCheckSize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_obj, \"_dynamicCheckSize\"), _obj), _applyDecoratedDescriptor(_obj, \"_checkSize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_obj, \"_checkSize\"), _obj), _applyDecoratedDescriptor(_obj, \"openURL\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"openURL\"), _obj), _applyDecoratedDescriptor(_obj, \"openInFullPage\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"openInFullPage\"), _obj), _applyDecoratedDescriptor(_obj, \"toggleExpand\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"toggleExpand\"), _obj), _applyDecoratedDescriptor(_obj, \"close\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"close\"), _obj), _applyDecoratedDescriptor(_obj, \"didResize\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"didResize\"), _obj)), _obj))));\n});","define(\"discourse/plugins/chat/discourse/components/chat-emoji-avatar\", [\"exports\", \"discourse/helpers/replace-emoji\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _replaceEmoji, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatEmojiAvatar = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-emoji-avatar\">\n      <div class=\"chat-emoji-avatar-container\">\n        {{replaceEmoji @emoji}}\n      </div>\n    </div>\n  \n  */\n  {\n    \"id\": \"KhMYGrSP\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-emoji-avatar\\\"],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-emoji-avatar-container\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[28,[32,0],[[30,1]],null]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[\\\"@emoji\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-emoji-avatar.js\",\n    \"scope\": () => [_replaceEmoji.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatEmojiAvatar;\n});","define(\"discourse/plugins/chat/discourse/components/chat-emoji-picker\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"@ember/template\", \"discourse/lib/text\", \"discourse-common/config/environment\", \"discourse-common/lib/debounce\", \"discourse-common/utils/decorators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _object, _runloop, _service, _template, _text, _environment, _debounce, _decorators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.FITZPATRICK_MODIFIERS = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{! template-lint-disable no-invalid-interactive }}\n  {{! template-lint-disable no-nested-interactive }}\n  {{! template-lint-disable no-pointer-down-event-binding }}\n  \n  {{#if (eq this.chatEmojiPickerManager.picker.context @context)}}\n    <div\n      class={{concat-class\n        \"chat-emoji-picker\"\n        (if this.chatEmojiPickerManager.closing \"closing\")\n      }}\n      {{did-insert this.addClickOutsideEventListener}}\n      {{did-insert this.chatEmojiPickerManager.loadEmojis}}\n      {{did-insert (if @didInsert @didInsert (noop))}}\n      {{will-destroy (if @willDestroy @willDestroy (noop))}}\n      {{will-destroy this.removeClickOutsideEventListener}}\n      {{on \"keydown\" this.trapKeyDownEvents}}\n      ...attributes\n    >\n      <div class=\"chat-emoji-picker__filter-container\">\n        <DcFilterInput\n          {{did-insert (if this.site.desktopView this.focusFilter (noop))}}\n          {{did-insert\n            (fn\n              this.didInputFilter this.chatEmojiPickerManager.picker.initialFilter\n            )\n          }}\n          @value={{this.chatEmojiPickerManager.picker.initialFilter}}\n          @filterAction={{action this.didInputFilter value=\"target.value\"}}\n          @icons={{hash left=\"search\"}}\n          @containerClass=\"chat-emoji-picker__filter\"\n          autofocus={{true}}\n          placeholder={{i18n \"chat.emoji_picker.search_placeholder\"}}\n        >\n          <div\n            class=\"chat-emoji-picker__fitzpatrick-scale\"\n            role=\"toolbar\"\n            {{on \"keyup\" this.didNavigateFitzpatrickScale}}\n          >\n            {{#if this.isExpandedFitzpatrickScale}}\n              {{#each this.fitzpatrickModifiers as |fitzpatrick|}}\n  \n                {{#if\n                  (not-eq fitzpatrick.scale this.chatEmojiReactionStore.diversity)\n                }}\n                  <button\n                    type=\"button\"\n                    title={{concat \"t\" fitzpatrick.scale}}\n                    tabindex=\"-1\"\n                    class={{concat-class\n                      \"chat-emoji-picker__fitzpatrick-modifier-btn\"\n                      (concat \"t\" fitzpatrick.scale)\n                    }}\n                    {{on\n                      \"keyup\"\n                      (fn this.didRequestFitzpatrickScale fitzpatrick.scale)\n                    }}\n                    {{on\n                      \"click\"\n                      (fn this.didRequestFitzpatrickScale fitzpatrick.scale)\n                    }}\n                  >\n                    {{d-icon \"check\"}}\n                  </button>\n                {{/if}}\n              {{/each}}\n            {{/if}}\n  \n            <button\n              type=\"button\"\n              title={{concat \"t\" this.fitzpatrick.scale}}\n              class={{concat-class\n                \"chat-emoji-picker__fitzpatrick-modifier-btn current\"\n                (concat \"t\" this.chatEmojiReactionStore.diversity)\n              }}\n              {{on \"keyup\" this.didToggleFitzpatrickScale}}\n              {{on \"click\" this.didToggleFitzpatrickScale}}\n            ></button>\n          </div>\n        </DcFilterInput>\n      </div>\n  \n      {{#if this.chatEmojiPickerManager.sections.length}}\n        {{#if (eq this.filteredEmojis null)}}\n          <div class=\"chat-emoji-picker__sections-nav\">\n            <div\n              class=\"chat-emoji-picker__sections-nav__indicator\"\n              style={{this.navIndicatorStyle}}\n            ></div>\n  \n            {{#each-in this.groups as |section emojis|}}\n              <DButton\n                class={{concat-class\n                  \"btn-flat\"\n                  \"chat-emoji-picker__section-btn\"\n                  (if\n                    (eq this.chatEmojiPickerManager.lastVisibleSection section)\n                    \"active\"\n                  )\n                }}\n                tabindex=\"-1\"\n                style={{this.navBtnStyle}}\n                @action={{fn this.didRequestSection section}}\n                data-section={{section}}\n              >\n                {{#if (eq section \"favorites\")}}\n                  {{replace-emoji \":star:\"}}\n                {{else}}\n                  <img\n                    width=\"18\"\n                    height=\"18\"\n                    class=\"emoji\"\n                    src={{get emojis \"0.url\"}}\n                  />\n                {{/if}}\n              </DButton>\n            {{/each-in}}\n          </div>\n        {{/if}}\n  \n        <div\n          class=\"chat-emoji-picker__scrollable-content\"\n          {{chat/emoji-picker-scroll-listener}}\n        >\n          <div\n            class=\"chat-emoji-picker__sections\"\n            {{on \"click\" this.didSelectEmoji}}\n            {{on \"keydown\" this.onSectionsKeyDown}}\n            role=\"button\"\n          >\n            {{#if (not-eq this.filteredEmojis null)}}\n              <div class=\"chat-emoji-picker__section filtered\">\n                {{#each this.filteredEmojis as |emoji|}}\n                  <img\n                    width=\"32\"\n                    height=\"32\"\n                    class=\"emoji\"\n                    src={{tonable-emoji-url\n                      emoji\n                      this.chatEmojiReactionStore.diversity\n                    }}\n                    tabindex=\"0\"\n                    data-emoji={{emoji.name}}\n                    data-tonable={{if emoji.tonable \"true\"}}\n                    alt={{emoji.name}}\n                    title={{tonable-emoji-title\n                      emoji\n                      this.chatEmojiReactionStore.diversity\n                    }}\n                    loading=\"lazy\"\n                  />\n                {{else}}\n                  <p class=\"chat-emoji-picker__no-results\">\n                    {{i18n \"chat.emoji_picker.no_results\"}}\n                  </p>\n                {{/each}}\n              </div>\n            {{/if}}\n  \n            {{#each-in this.groups as |section emojis|}}\n              <div\n                class={{concat-class\n                  \"chat-emoji-picker__section\"\n                  (if (not-eq this.filteredEmojis null) \"hidden\")\n                }}\n                data-section={{section}}\n                role=\"region\"\n                aria-label={{i18n\n                  (concat \"chat.emoji_picker.\" section)\n                  translatedFallback=section\n                }}\n              >\n                <h2 class=\"chat-emoji-picker__section-title\">\n                  {{i18n\n                    (concat \"chat.emoji_picker.\" section)\n                    translatedFallback=section\n                  }}\n                </h2>\n                <div class=\"chat-emoji-picker__section-emojis\">\n                  {{! we always want the first emoji for tabbing}}\n                  {{#let (get emojis \"0\") as |emoji|}}\n                    <img\n                      width=\"32\"\n                      height=\"32\"\n                      class=\"emoji\"\n                      src={{tonable-emoji-url\n                        emoji\n                        this.chatEmojiReactionStore.diversity\n                      }}\n                      tabindex=\"0\"\n                      data-emoji={{emoji.name}}\n                      data-tonable={{if emoji.tonable \"true\"}}\n                      alt={{emoji.name}}\n                      title={{tonable-emoji-title\n                        emoji\n                        this.chatEmojiReactionStore.diversity\n                      }}\n                      loading=\"lazy\"\n                    />\n                  {{/let}}\n  \n                  {{#if\n                    (includes this.chatEmojiPickerManager.visibleSections section)\n                  }}\n                    {{#each emojis as |emoji index|}}\n                      {{! first emoji has already been rendered, we don't want to re render or would lose focus}}\n                      {{#if (gt index 0)}}\n                        <img\n                          width=\"32\"\n                          height=\"32\"\n                          class=\"emoji\"\n                          src={{tonable-emoji-url\n                            emoji\n                            this.chatEmojiReactionStore.diversity\n                          }}\n                          tabindex=\"-1\"\n                          data-emoji={{emoji.name}}\n                          data-tonable={{if emoji.tonable \"true\"}}\n                          alt={{emoji.name}}\n                          title={{tonable-emoji-title\n                            emoji\n                            this.chatEmojiReactionStore.diversity\n                          }}\n                          loading=\"lazy\"\n                        />\n                      {{/if}}\n                    {{/each}}\n                  {{/if}}\n                </div>\n              </div>\n            {{/each-in}}\n          </div>\n        </div>\n      {{else}}\n        <div class=\"spinner medium\"></div>\n      {{/if}}\n    </div>\n  \n    {{#if\n      (and\n        this.site.mobileView\n        (eq this.chatEmojiPickerManager.picker.context \"chat-channel-message\")\n      )\n    }}\n      <div class=\"chat-emoji-picker__backdrop\"></div>\n    {{/if}}\n  {{/if}}\n  */\n  {\n    \"id\": \"eJPIWM3x\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[37,1],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"picker\\\",\\\"context\\\"]],[30,1]],null],[[[1,\\\"  \\\"],[11,0],[16,0,[28,[37,2],[\\\"chat-emoji-picker\\\",[52,[30,0,[\\\"chatEmojiPickerManager\\\",\\\"closing\\\"]],\\\"closing\\\"]],null]],[17,2],[4,[38,3],[[30,0,[\\\"addClickOutsideEventListener\\\"]]],null],[4,[38,3],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"loadEmojis\\\"]]],null],[4,[38,3],[[52,[30,3],[30,3],[28,[37,4],null,null]]],null],[4,[38,5],[[52,[30,4],[30,4],[28,[37,4],null,null]]],null],[4,[38,5],[[30,0,[\\\"removeClickOutsideEventListener\\\"]]],null],[4,[38,6],[\\\"keydown\\\",[30,0,[\\\"trapKeyDownEvents\\\"]]],null],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-emoji-picker__filter-container\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[39,7],[[16,\\\"autofocus\\\",true],[16,\\\"placeholder\\\",[28,[37,8],[\\\"chat.emoji_picker.search_placeholder\\\"],null]],[4,[38,3],[[52,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[30,0,[\\\"focusFilter\\\"]],[28,[37,4],null,null]]],null],[4,[38,3],[[28,[37,11],[[30,0,[\\\"didInputFilter\\\"]],[30,0,[\\\"chatEmojiPickerManager\\\",\\\"picker\\\",\\\"initialFilter\\\"]]],null]],null]],[[\\\"@value\\\",\\\"@filterAction\\\",\\\"@icons\\\",\\\"@containerClass\\\"],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"picker\\\",\\\"initialFilter\\\"]],[28,[37,9],[[30,0],[30,0,[\\\"didInputFilter\\\"]]],[[\\\"value\\\"],[\\\"target.value\\\"]]],[28,[37,10],null,[[\\\"left\\\"],[\\\"search\\\"]]],\\\"chat-emoji-picker__filter\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-emoji-picker__fitzpatrick-scale\\\"],[24,\\\"role\\\",\\\"toolbar\\\"],[4,[38,6],[\\\"keyup\\\",[30,0,[\\\"didNavigateFitzpatrickScale\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"isExpandedFitzpatrickScale\\\"]],[[[42,[28,[37,13],[[28,[37,13],[[30,0,[\\\"fitzpatrickModifiers\\\"]]],null]],null],null,[[[1,\\\"\\\\n\\\"],[41,[28,[37,14],[[30,5,[\\\"scale\\\"]],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null],[[[1,\\\"                \\\"],[11,\\\"button\\\"],[16,\\\"title\\\",[28,[37,15],[\\\"t\\\",[30,5,[\\\"scale\\\"]]],null]],[24,\\\"tabindex\\\",\\\"-1\\\"],[16,0,[28,[37,2],[\\\"chat-emoji-picker__fitzpatrick-modifier-btn\\\",[28,[37,15],[\\\"t\\\",[30,5,[\\\"scale\\\"]]],null]],null]],[24,4,\\\"button\\\"],[4,[38,6],[\\\"keyup\\\",[28,[37,11],[[30,0,[\\\"didRequestFitzpatrickScale\\\"]],[30,5,[\\\"scale\\\"]]],null]],null],[4,[38,6],[\\\"click\\\",[28,[37,11],[[30,0,[\\\"didRequestFitzpatrickScale\\\"]],[30,5,[\\\"scale\\\"]]],null]],null],[12],[1,\\\"\\\\n                  \\\"],[1,[28,[35,16],[\\\"check\\\"],null]],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[5]],null]],[]],null],[1,\\\"\\\\n          \\\"],[11,\\\"button\\\"],[16,\\\"title\\\",[28,[37,15],[\\\"t\\\",[30,0,[\\\"fitzpatrick\\\",\\\"scale\\\"]]],null]],[16,0,[28,[37,2],[\\\"chat-emoji-picker__fitzpatrick-modifier-btn current\\\",[28,[37,15],[\\\"t\\\",[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],null]],[24,4,\\\"button\\\"],[4,[38,6],[\\\"keyup\\\",[30,0,[\\\"didToggleFitzpatrickScale\\\"]]],null],[4,[38,6],[\\\"click\\\",[30,0,[\\\"didToggleFitzpatrickScale\\\"]]],null],[12],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatEmojiPickerManager\\\",\\\"sections\\\",\\\"length\\\"]],[[[41,[28,[37,1],[[30,0,[\\\"filteredEmojis\\\"]],null],null],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-emoji-picker__sections-nav\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-emoji-picker__sections-nav__indicator\\\"],[15,5,[30,0,[\\\"navIndicatorStyle\\\"]]],[12],[13],[1,\\\"\\\\n\\\\n\\\"],[42,[28,[37,17],[[30,0,[\\\"groups\\\"]]],null],null,[[[1,\\\"            \\\"],[8,[39,18],[[16,0,[28,[37,2],[\\\"btn-flat\\\",\\\"chat-emoji-picker__section-btn\\\",[52,[28,[37,1],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"lastVisibleSection\\\"]],[30,7]],null],\\\"active\\\"]],null]],[24,\\\"tabindex\\\",\\\"-1\\\"],[16,5,[30,0,[\\\"navBtnStyle\\\"]]],[16,\\\"data-section\\\",[30,7]]],[[\\\"@action\\\"],[[28,[37,11],[[30,0,[\\\"didRequestSection\\\"]],[30,7]],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[28,[37,1],[[30,7],\\\"favorites\\\"],null],[[[1,\\\"                \\\"],[1,[28,[35,19],[\\\":star:\\\"],null]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[10,\\\"img\\\"],[14,\\\"width\\\",\\\"18\\\"],[14,\\\"height\\\",\\\"18\\\"],[14,0,\\\"emoji\\\"],[15,\\\"src\\\",[28,[37,20],[[30,6],\\\"0.url\\\"],null]],[12],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"            \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[6,7]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[11,0],[24,0,\\\"chat-emoji-picker__scrollable-content\\\"],[4,[38,21],null,null],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-emoji-picker__sections\\\"],[24,\\\"role\\\",\\\"button\\\"],[4,[38,6],[\\\"click\\\",[30,0,[\\\"didSelectEmoji\\\"]]],null],[4,[38,6],[\\\"keydown\\\",[30,0,[\\\"onSectionsKeyDown\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[28,[37,14],[[30,0,[\\\"filteredEmojis\\\"]],null],null],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-emoji-picker__section filtered\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[37,13],[[28,[37,13],[[30,0,[\\\"filteredEmojis\\\"]]],null]],null],null,[[[1,\\\"                \\\"],[10,\\\"img\\\"],[14,\\\"width\\\",\\\"32\\\"],[14,\\\"height\\\",\\\"32\\\"],[14,0,\\\"emoji\\\"],[15,\\\"src\\\",[28,[37,22],[[30,8],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"tabindex\\\",\\\"0\\\"],[15,\\\"data-emoji\\\",[30,8,[\\\"name\\\"]]],[15,\\\"data-tonable\\\",[52,[30,8,[\\\"tonable\\\"]],\\\"true\\\"]],[15,\\\"alt\\\",[30,8,[\\\"name\\\"]]],[15,\\\"title\\\",[28,[37,23],[[30,8],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"loading\\\",\\\"lazy\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[8]],[[[1,\\\"                \\\"],[10,2],[14,0,\\\"chat-emoji-picker__no-results\\\"],[12],[1,\\\"\\\\n                  \\\"],[1,[28,[35,8],[\\\"chat.emoji_picker.no_results\\\"],null]],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[42,[28,[37,17],[[30,0,[\\\"groups\\\"]]],null],null,[[[1,\\\"            \\\"],[10,0],[15,0,[28,[37,2],[\\\"chat-emoji-picker__section\\\",[52,[28,[37,14],[[30,0,[\\\"filteredEmojis\\\"]],null],null],\\\"hidden\\\"]],null]],[15,\\\"data-section\\\",[30,10]],[14,\\\"role\\\",\\\"region\\\"],[15,\\\"aria-label\\\",[28,[37,8],[[28,[37,15],[\\\"chat.emoji_picker.\\\",[30,10]],null]],[[\\\"translatedFallback\\\"],[[30,10]]]]],[12],[1,\\\"\\\\n              \\\"],[10,\\\"h2\\\"],[14,0,\\\"chat-emoji-picker__section-title\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[28,[35,8],[[28,[37,15],[\\\"chat.emoji_picker.\\\",[30,10]],null]],[[\\\"translatedFallback\\\"],[[30,10]]]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n              \\\"],[10,0],[14,0,\\\"chat-emoji-picker__section-emojis\\\"],[12],[1,\\\"\\\\n\\\"],[44,[[28,[37,20],[[30,9],\\\"0\\\"],null]],[[[1,\\\"                  \\\"],[10,\\\"img\\\"],[14,\\\"width\\\",\\\"32\\\"],[14,\\\"height\\\",\\\"32\\\"],[14,0,\\\"emoji\\\"],[15,\\\"src\\\",[28,[37,22],[[30,11],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"tabindex\\\",\\\"0\\\"],[15,\\\"data-emoji\\\",[30,11,[\\\"name\\\"]]],[15,\\\"data-tonable\\\",[52,[30,11,[\\\"tonable\\\"]],\\\"true\\\"]],[15,\\\"alt\\\",[30,11,[\\\"name\\\"]]],[15,\\\"title\\\",[28,[37,23],[[30,11],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"loading\\\",\\\"lazy\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[11]]],[1,\\\"\\\\n\\\"],[41,[28,[37,25],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"visibleSections\\\"]],[30,10]],null],[[[42,[28,[37,13],[[28,[37,13],[[30,9]],null]],null],null,[[[41,[28,[37,26],[[30,13],0],null],[[[1,\\\"                      \\\"],[10,\\\"img\\\"],[14,\\\"width\\\",\\\"32\\\"],[14,\\\"height\\\",\\\"32\\\"],[14,0,\\\"emoji\\\"],[15,\\\"src\\\",[28,[37,22],[[30,12],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"tabindex\\\",\\\"-1\\\"],[15,\\\"data-emoji\\\",[30,12,[\\\"name\\\"]]],[15,\\\"data-tonable\\\",[52,[30,12,[\\\"tonable\\\"]],\\\"true\\\"]],[15,\\\"alt\\\",[30,12,[\\\"name\\\"]]],[15,\\\"title\\\",[28,[37,23],[[30,12],[30,0,[\\\"chatEmojiReactionStore\\\",\\\"diversity\\\"]]],null]],[14,\\\"loading\\\",\\\"lazy\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]],null]],[12,13]],null]],[]],null],[1,\\\"              \\\"],[13],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[9,10]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"spinner medium\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[37,27],[[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[28,[37,1],[[30,0,[\\\"chatEmojiPickerManager\\\",\\\"picker\\\",\\\"context\\\"]],\\\"chat-channel-message\\\"],null]],null],[[[1,\\\"    \\\"],[10,0],[14,0,\\\"chat-emoji-picker__backdrop\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]],null]],[]],null]],[\\\"@context\\\",\\\"&attrs\\\",\\\"@didInsert\\\",\\\"@willDestroy\\\",\\\"fitzpatrick\\\",\\\"emojis\\\",\\\"section\\\",\\\"emoji\\\",\\\"emojis\\\",\\\"section\\\",\\\"emoji\\\",\\\"emoji\\\",\\\"index\\\"],false,[\\\"if\\\",\\\"eq\\\",\\\"concat-class\\\",\\\"did-insert\\\",\\\"noop\\\",\\\"will-destroy\\\",\\\"on\\\",\\\"dc-filter-input\\\",\\\"i18n\\\",\\\"action\\\",\\\"hash\\\",\\\"fn\\\",\\\"each\\\",\\\"-track-array\\\",\\\"not-eq\\\",\\\"concat\\\",\\\"d-icon\\\",\\\"-each-in\\\",\\\"d-button\\\",\\\"replace-emoji\\\",\\\"get\\\",\\\"chat/emoji-picker-scroll-listener\\\",\\\"tonable-emoji-url\\\",\\\"tonable-emoji-title\\\",\\\"let\\\",\\\"includes\\\",\\\"gt\\\",\\\"and\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-emoji-picker.hbs\",\n    \"isStrictMode\": false\n  });\n  const FITZPATRICK_MODIFIERS = _exports.FITZPATRICK_MODIFIERS = [{\n    scale: 1,\n    modifier: null\n  }, {\n    scale: 2,\n    modifier: \":t2\"\n  }, {\n    scale: 3,\n    modifier: \":t3\"\n  }, {\n    scale: 4,\n    modifier: \":t4\"\n  }, {\n    scale: 5,\n    modifier: \":t5\"\n  }, {\n    scale: 6,\n    modifier: \":t6\"\n  }];\n  let ChatEmojiPicker = _exports.default = (_class = class ChatEmojiPicker extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"emojiPickerScrollObserver\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatEmojiReactionStore\", _descriptor3, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor4, this);\n      _initializerDefineProperty(this, \"site\", _descriptor5, this);\n      _initializerDefineProperty(this, \"filteredEmojis\", _descriptor6, this);\n      _initializerDefineProperty(this, \"isExpandedFitzpatrickScale\", _descriptor7, this);\n      _defineProperty(this, \"fitzpatrickModifiers\", FITZPATRICK_MODIFIERS);\n    }\n    get groups() {\n      const emojis = this.chatEmojiPickerManager.emojis;\n      const favorites = {\n        favorites: this.chatEmojiReactionStore.favorites.filter(f => !this.site.denied_emojis?.includes(f)).map(name => {\n          return {\n            name,\n            group: \"favorites\",\n            url: (0, _text.emojiUrlFor)(name)\n          };\n        })\n      };\n      return {\n        ...favorites,\n        ...emojis\n      };\n    }\n    get flatEmojis() {\n      if (!this.chatEmojiPickerManager.emojis) {\n        return [];\n      }\n\n      // eslint-disable-next-line no-unused-vars\n      let {\n        favorites,\n        ...rest\n      } = this.chatEmojiPickerManager.emojis;\n      return Object.values(rest).flat();\n    }\n    get navIndicatorStyle() {\n      const section = this.chatEmojiPickerManager.lastVisibleSection;\n      const index = Object.keys(this.groups).indexOf(section);\n      return (0, _template.htmlSafe)(`width: ${100 / Object.keys(this.groups).length}%; transform: translateX(${index * 100}%);`);\n    }\n    get navBtnStyle() {\n      return (0, _template.htmlSafe)(`width: ${100 / Object.keys(this.groups).length}%;`);\n    }\n    trapKeyDownEvents(event) {\n      if (event.key === \"Escape\") {\n        this.chatEmojiPickerManager.close();\n      }\n      if (event.key === \"ArrowUp\") {\n        event.stopPropagation();\n      }\n      if (event.key === \"ArrowDown\" && event.target.classList.contains(\"dc-filter-input\")) {\n        event.stopPropagation();\n        event.preventDefault();\n        document.querySelector(`.chat-emoji-picker__scrollable-content .emoji[tabindex=\"0\"]`)?.focus();\n      }\n    }\n    didNavigateFitzpatrickScale(event) {\n      if (event.type !== \"keyup\") {\n        return;\n      }\n      const scaleNodes = event.target.closest(\".chat-emoji-picker__fitzpatrick-scale\")?.querySelectorAll(\".chat-emoji-picker__fitzpatrick-modifier-btn\") || [];\n      const scales = [...scaleNodes];\n      if (event.key === \"ArrowRight\") {\n        event.preventDefault();\n        if (event.target === scales[scales.length - 1]) {\n          scales[0].focus();\n        } else {\n          event.target.nextElementSibling?.focus();\n        }\n      }\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault();\n        if (event.target === scales[0]) {\n          scales[scales.length - 1].focus();\n        } else {\n          event.target.previousElementSibling?.focus();\n        }\n      }\n    }\n    didToggleFitzpatrickScale(event) {\n      if (event.type === \"keyup\") {\n        if (event.key === \"Escape\") {\n          event.preventDefault();\n          this.isExpandedFitzpatrickScale = false;\n          return;\n        }\n        if (event.key !== \"Enter\") {\n          return;\n        }\n      }\n      this.isExpandedFitzpatrickScale = !this.isExpandedFitzpatrickScale;\n    }\n    didRequestFitzpatrickScale(scale, event) {\n      if (event.type === \"keyup\") {\n        if (event.key === \"Escape\") {\n          event.preventDefault();\n          event.stopPropagation();\n          this.isExpandedFitzpatrickScale = false;\n          this._focusCurrentFitzpatrickScale();\n          return;\n        }\n        if (event.key !== \"Enter\") {\n          return;\n        }\n      }\n      event.preventDefault();\n      event.stopPropagation();\n      this.isExpandedFitzpatrickScale = false;\n      this.chatEmojiReactionStore.diversity = scale;\n      this._focusCurrentFitzpatrickScale();\n    }\n    _focusCurrentFitzpatrickScale() {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        document.querySelector(\".chat-emoji-picker__fitzpatrick-modifier-btn.current\")?.focus();\n      });\n    }\n    didInputFilter(value) {\n      if (!value?.length) {\n        this.filteredEmojis = null;\n        return;\n      }\n      (0, _debounce.default)(this, this.debouncedDidInputFilter, value, _environment.INPUT_DELAY);\n    }\n    focusFilter(target) {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        target?.focus();\n      });\n    }\n    debouncedDidInputFilter(filter = \"\") {\n      filter = filter.toLowerCase();\n      this.filteredEmojis = this.flatEmojis.filter(emoji => emoji.name.toLowerCase().includes(filter) || emoji.search_aliases?.any(alias => alias.toLowerCase().includes(filter)));\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        const scrollableContent = document.querySelector(\".chat-emoji-picker__scrollable-content\");\n        if (scrollableContent) {\n          scrollableContent.scrollTop = 0;\n        }\n      });\n    }\n    onSectionsKeyDown(event) {\n      if (event.key === \"Enter\") {\n        this.didSelectEmoji(event);\n      } else {\n        this.didNavigateSection(event);\n      }\n    }\n    didNavigateSection(event) {\n      const sectionsEmojis = section => [...section.querySelectorAll(\".emoji\")];\n      const focusSectionsLastEmoji = section => {\n        const emojis = sectionsEmojis(section);\n        return emojis[emojis.length - 1].focus();\n      };\n      const focusSectionsFirstEmoji = section => {\n        sectionsEmojis(section)[0].focus();\n      };\n      const currentSection = event.target.closest(\".chat-emoji-picker__section\");\n      const focusFilter = () => {\n        document.querySelector(\".dc-filter-input\")?.focus();\n      };\n      const allEmojis = () => [...document.querySelectorAll(\".chat-emoji-picker__section:not(.hidden) .emoji\")];\n      if (event.key === \"ArrowRight\") {\n        event.preventDefault();\n        const nextEmoji = event.target.nextElementSibling;\n        if (nextEmoji) {\n          nextEmoji.focus();\n        } else {\n          const nextSection = currentSection.nextElementSibling;\n          if (nextSection) {\n            focusSectionsFirstEmoji(nextSection);\n          }\n        }\n      }\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault();\n        const prevEmoji = event.target.previousElementSibling;\n        if (prevEmoji) {\n          prevEmoji.focus();\n        } else {\n          const prevSection = currentSection.previousElementSibling;\n          if (prevSection) {\n            focusSectionsLastEmoji(prevSection);\n          } else {\n            focusFilter();\n          }\n        }\n      }\n      if (event.key === \"ArrowDown\") {\n        event.preventDefault();\n        event.stopPropagation();\n        const nextEmoji = allEmojis().filter(c => c.offsetTop > event.target.offsetTop).findBy(\"offsetLeft\", event.target.offsetLeft);\n        if (nextEmoji) {\n          nextEmoji.focus();\n        } else {\n          // for perf reason all emojis might not be loaded at this point\n          // but the first one will always be\n          const nextSection = currentSection.nextElementSibling;\n          if (nextSection) {\n            focusSectionsFirstEmoji(nextSection);\n          }\n        }\n      }\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        event.stopPropagation();\n        const prevEmoji = allEmojis().reverse().filter(c => c.offsetTop < event.target.offsetTop).findBy(\"offsetLeft\", event.target.offsetLeft);\n        if (prevEmoji) {\n          prevEmoji.focus();\n        } else {\n          focusFilter();\n        }\n      }\n    }\n    didSelectEmoji(event) {\n      if (!event.target.classList.contains(\"emoji\")) {\n        return;\n      }\n      if (event.type === \"click\" || event.key === \"Enter\") {\n        event.preventDefault();\n        event.stopPropagation();\n        let emoji = event.target.dataset.emoji;\n        const tonable = event.target.dataset.tonable;\n        const diversity = this.chatEmojiReactionStore.diversity;\n        if (tonable && diversity > 1) {\n          emoji = `${emoji}:t${diversity}`;\n        }\n        this.args.didSelectEmoji?.(emoji);\n      }\n    }\n    didRequestSection(section) {\n      const scrollableContent = document.querySelector(\".chat-emoji-picker__scrollable-content\");\n      this.filteredEmojis = null;\n\n      // we disable scroll listener during requesting section\n      // to avoid it from detecting another section during scroll to requested section\n      this.emojiPickerScrollObserver.enabled = false;\n      this.chatEmojiPickerManager.addVisibleSections([section]);\n      this.chatEmojiPickerManager.lastVisibleSection = section;\n\n      // iOS hack to avoid blank div when requesting section during momentum\n      if (scrollableContent && this.capabilities.isIOS) {\n        document.querySelector(\".chat-emoji-picker__scrollable-content\").style.overflow = \"hidden\";\n      }\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        const firstEmoji = document.querySelector(`.chat-emoji-picker__section[data-section=\"${section}\"] .emoji:nth-child(1)`);\n        const targetEmoji = [...document.querySelectorAll(`.chat-emoji-picker__section[data-section=\"${section}\"] .emoji`)].find(emoji => emoji.offsetTop > firstEmoji.offsetTop) || firstEmoji;\n        targetEmoji.focus();\n        (0, _runloop.later)(() => {\n          // iOS hack to avoid blank div when requesting section during momentum\n          if (scrollableContent && this.capabilities.isIOS) {\n            document.querySelector(\".chat-emoji-picker__scrollable-content\").style.overflow = \"scroll\";\n          }\n          this.emojiPickerScrollObserver.enabled = true;\n        }, 200);\n      });\n    }\n    addClickOutsideEventListener() {\n      document.addEventListener(\"click\", this.didClickOutside);\n    }\n    removeClickOutsideEventListener() {\n      document.removeEventListener(\"click\", this.didClickOutside);\n    }\n    didClickOutside(event) {\n      if (!event.target.closest(\".chat-emoji-picker\")) {\n        this.chatEmojiPickerManager.close();\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"emojiPickerScrollObserver\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiReactionStore\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"filteredEmojis\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"isExpandedFitzpatrickScale\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"trapKeyDownEvents\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"trapKeyDownEvents\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didNavigateFitzpatrickScale\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didNavigateFitzpatrickScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didToggleFitzpatrickScale\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didToggleFitzpatrickScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didRequestFitzpatrickScale\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didRequestFitzpatrickScale\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didInputFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didInputFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"focusFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"focusFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSectionsKeyDown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSectionsKeyDown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didNavigateSection\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didNavigateSection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didSelectEmoji\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didSelectEmoji\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didRequestSection\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didRequestSection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addClickOutsideEventListener\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"addClickOutsideEventListener\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeClickOutsideEventListener\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"removeClickOutsideEventListener\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didClickOutside\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"didClickOutside\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatEmojiPicker);\n});","define(\"discourse/plugins/chat/discourse/components/chat-header\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/routing\", \"@ember/service\", \"discourse-common/helpers/d-icon\", \"discourse-common/lib/get-url\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _routing, _service, _dIcon, _getUrl, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2, _updatePreviousURL;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatHeader = _exports.default = (_class = (_updatePreviousURL = /*#__PURE__*/new WeakSet(), (_class2 = class ChatHeader extends _component.default {\n    constructor() {\n      super(...arguments);\n      _classPrivateMethodInitSpec(this, _updatePreviousURL);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n      _initializerDefineProperty(this, \"previousURL\", _descriptor4, this);\n      _defineProperty(this, \"title\", _discourseI18n.default.t(\"chat.back_to_forum\"));\n      _defineProperty(this, \"heading\", _discourseI18n.default.t(\"chat.heading\"));\n      this.router.on(\"routeDidChange\", this, _classPrivateMethodGet(this, _updatePreviousURL, _updatePreviousURL2));\n    }\n    get shouldRender() {\n      return this.siteSettings.chat_enabled && this.site.mobileView && this.isChatOpen;\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      this.router.off(\"routeDidChange\", this, _classPrivateMethodGet(this, _updatePreviousURL, _updatePreviousURL2));\n    }\n    get isChatOpen() {\n      return this.router.currentURL.startsWith(\"/chat\");\n    }\n    get forumLink() {\n      return (0, _getUrl.default)(this.previousURL ?? this.router.rootURL);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <div class=\"c-header\">\n          <a\n            href={{this.forumLink}}\n            class=\"btn-flat back-to-forum\"\n            title={{this.title}}\n          >\n            {{icon \"arrow-left\"}}\n            {{this.title}}\n          </a>\n  \n          <LinkTo @route=\"chat.index\" class=\"c-heading\">{{this.heading}}</LinkTo>\n        </div>\n      {{else}}\n        {{yield}}\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"prasS2Ah\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"c-header\\\"],[12],[1,\\\"\\\\n        \\\"],[10,3],[15,6,[30,0,[\\\"forumLink\\\"]]],[14,0,\\\"btn-flat back-to-forum\\\"],[15,\\\"title\\\",[30,0,[\\\"title\\\"]]],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,0],[\\\"arrow-left\\\"],null]],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"title\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,1],[[24,0,\\\"c-heading\\\"]],[[\\\"@route\\\"],[\\\"chat.index\\\"]],[[\\\"default\\\"],[[[[1,[30,0,[\\\"heading\\\"]]]],[]]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[18,1,null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"]],[\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-header.js\",\n    \"scope\": () => [_dIcon.default, _routing.LinkTo],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"previousURL\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _updatePreviousURL2() {\n    if (!this.isChatOpen) {\n      this.previousURL = this.router.currentURL;\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-mention-warnings\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"@ember/template\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/get-url\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _template, _dIcon, _i18n, _getUrl, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMentionWarnings = _exports.default = (_class = (_class2 = class ChatMentionWarnings extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatComposerWarningsTracker\", _descriptor3, this);\n    }\n    get unreachableGroupMentions() {\n      return this.chatComposerWarningsTracker.unreachableGroupMentions;\n    }\n    get overMembersLimitGroupMentions() {\n      return this.chatComposerWarningsTracker.overMembersLimitGroupMentions;\n    }\n    get hasTooManyMentions() {\n      return this.chatComposerWarningsTracker.tooManyMentions;\n    }\n    get channelWideMentionDisallowed() {\n      return this.chatComposerWarningsTracker.channelWideMentionDisallowed;\n    }\n    get mentionsCount() {\n      return this.chatComposerWarningsTracker.mentionsCount;\n    }\n    get unreachableGroupMentionsCount() {\n      return this.unreachableGroupMentions.length;\n    }\n    get overMembersLimitMentionsCount() {\n      return this.overMembersLimitGroupMentions.length;\n    }\n    get hasUnreachableGroupMentions() {\n      return this.unreachableGroupMentionsCount > 0;\n    }\n    get hasOverMembersLimitGroupMentions() {\n      return this.overMembersLimitMentionsCount > 0;\n    }\n    get warningsCount() {\n      return this.unreachableGroupMentionsCount + this.overMembersLimitMentionsCount;\n    }\n    get show() {\n      return this.hasTooManyMentions || this.channelWideMentionDisallowed || this.hasUnreachableGroupMentions || this.hasOverMembersLimitGroupMentions;\n    }\n    get listStyleClass() {\n      if (this.hasTooManyMentions) {\n        return \"chat-mention-warnings-list__simple\";\n      }\n      if (this.warningsCount > 1) {\n        return \"chat-mention-warnings-list__multiple\";\n      } else {\n        return \"chat-mention-warnings-list__simple\";\n      }\n    }\n    get warningHeaderText() {\n      if (this.mentionsCount <= this.warningsCount || this.hasTooManyMentions) {\n        return _discourseI18n.default.t(\"chat.mention_warning.groups.header.all\");\n      } else {\n        return _discourseI18n.default.t(\"chat.mention_warning.groups.header.some\");\n      }\n    }\n    get tooManyMentionsBody() {\n      if (!this.hasTooManyMentions) {\n        return;\n      }\n      if (this.currentUser.admin) {\n        return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.mention_warning.too_many_mentions_admin\", {\n          count: this.siteSettings.max_mentions_per_chat_message,\n          siteSettingUrl: (0, _getUrl.default)(\"/admin/site_settings/category/plugins?filter=max_mentions_per_chat_message\")\n        }));\n      } else {\n        return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.mention_warning.too_many_mentions\", {\n          count: this.siteSettings.max_mentions_per_chat_message\n        }));\n      }\n    }\n    get unreachableBody() {\n      if (!this.hasUnreachableGroupMentions) {\n        return;\n      }\n      switch (this.unreachableGroupMentionsCount) {\n        case 1:\n          return _discourseI18n.default.t(\"chat.mention_warning.groups.unreachable_1\", {\n            group: this.unreachableGroupMentions[0]\n          });\n        case 2:\n          return _discourseI18n.default.t(\"chat.mention_warning.groups.unreachable_2\", {\n            group1: this.unreachableGroupMentions[0],\n            group2: this.unreachableGroupMentions[1]\n          });\n        default:\n          return _discourseI18n.default.t(\"chat.mention_warning.groups.unreachable_multiple\", {\n            group: this.unreachableGroupMentions[0],\n            count: this.unreachableGroupMentionsCount - 1\n          });\n      }\n    }\n    get overMembersLimitBody() {\n      if (!this.hasOverMembersLimitGroupMentions) {\n        return;\n      }\n      return (0, _template.htmlSafe)(_discourseI18n.default.messageFormat(\"chat.mention_warning.groups.too_many_members_MF\", {\n        groupCount: this.overMembersLimitMentionsCount,\n        isAdmin: this.currentUser.admin,\n        siteSettingUrl: (0, _getUrl.default)(\"/admin/site_settings/category/plugins?filter=max_users_notified_per_group_mention\"),\n        notificationLimit: this.siteSettings.max_users_notified_per_group_mention,\n        group1: this.overMembersLimitGroupMentions[0],\n        group2: this.overMembersLimitGroupMentions[1]\n      }));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.show}}\n        <div class=\"chat-mention-warnings\">\n          <div class=\"chat-mention-warning__icon\">\n            {{dIcon \"exclamation-triangle\"}}\n          </div>\n          <div class=\"chat-mention-warning__text\">\n            <div class=\"chat-mention-warning__header\">\n              {{this.warningHeaderText}}\n            </div>\n            <ul class={{this.listStyleClass}}>\n              {{#if this.hasTooManyMentions}}\n                <li>{{this.tooManyMentionsBody}}</li>\n              {{else}}\n                {{#if this.channelWideMentionDisallowed}}\n                  <li>{{i18n\n                      \"chat.mention_warning.channel_wide_mentions_disallowed\"\n                    }}</li>\n                {{/if}}\n                {{#if this.hasUnreachableGroupMentions}}\n                  <li>{{this.unreachableBody}}</li>\n                {{/if}}\n                {{#if this.hasOverMembersLimitGroupMentions}}\n                  <li>{{this.overMembersLimitBody}}</li>\n                {{/if}}\n              {{/if}}\n            </ul>\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"SOmtPjIN\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"show\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-mention-warnings\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-mention-warning__icon\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,0],[\\\"exclamation-triangle\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-mention-warning__text\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-mention-warning__header\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,0,[\\\"warningHeaderText\\\"]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n          \\\"],[10,\\\"ul\\\"],[15,0,[30,0,[\\\"listStyleClass\\\"]]],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"hasTooManyMentions\\\"]],[[[1,\\\"              \\\"],[10,\\\"li\\\"],[12],[1,[30,0,[\\\"tooManyMentionsBody\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,0,[\\\"channelWideMentionDisallowed\\\"]],[[[1,\\\"                \\\"],[10,\\\"li\\\"],[12],[1,[28,[32,1],[\\\"chat.mention_warning.channel_wide_mentions_disallowed\\\"],null]],[13],[1,\\\"\\\\n\\\"]],[]],null],[41,[30,0,[\\\"hasUnreachableGroupMentions\\\"]],[[[1,\\\"                \\\"],[10,\\\"li\\\"],[12],[1,[30,0,[\\\"unreachableBody\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null],[41,[30,0,[\\\"hasOverMembersLimitGroupMentions\\\"]],[[[1,\\\"                \\\"],[10,\\\"li\\\"],[12],[1,[30,0,[\\\"overMembersLimitBody\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null]],[]]],[1,\\\"          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-mention-warnings.js\",\n    \"scope\": () => [_dIcon.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatComposerWarningsTracker\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-actions-desktop\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/runloop\", \"@ember/service\", \"@popperjs/core\", \"discourse/components/bookmark-icon\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"select-kit/components/dropdown-select-box\", \"truth-helpers/helpers/and\", \"discourse/plugins/chat/discourse/components/chat-message-reaction\", \"discourse/plugins/chat/discourse/lib/chat-message-container\", \"discourse/plugins/chat/discourse/lib/chat-message-interactor\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _application, _helper, _modifier, _object, _didInsert, _didUpdate, _willDestroy, _runloop, _service, _core, _bookmarkIcon, _dButton, _concatClass, _dropdownSelectBox, _and, _chatMessageReaction, _chatMessageContainer, _chatMessageInteractor, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const MSG_ACTIONS_VERTICAL_PADDING = -10;\n  const FULL = \"full\";\n  const REDUCED = \"reduced\";\n  const REDUCED_WIDTH_THRESHOLD = 500;\n  let ChatMessageActionsDesktop = _exports.default = (_class = (_class2 = class ChatMessageActionsDesktop extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"site\", _descriptor3, this);\n      _initializerDefineProperty(this, \"size\", _descriptor4, this);\n      _defineProperty(this, \"popper\", null);\n    }\n    get message() {\n      return this.chat.activeMessage.model;\n    }\n    get context() {\n      return this.chat.activeMessage.context;\n    }\n    get messageInteractor() {\n      return new _chatMessageInteractor.default((0, _application.getOwner)(this), this.message, this.context);\n    }\n    get shouldRenderFavoriteReactions() {\n      return this.size === FULL;\n    }\n    onWheel() {\n      // prevents menu to stop scroll on the list of messages\n      this.chat.activeMessage = null;\n    }\n    setup(element1) {\n      this.popper?.destroy();\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        const messageContainer1 = (0, _chatMessageContainer.default)(this.message.id, this.context);\n        if (!messageContainer1) {\n          return;\n        }\n        const viewport1 = messageContainer1.closest(\".popper-viewport\");\n        this.size = viewport1.clientWidth < REDUCED_WIDTH_THRESHOLD ? REDUCED : FULL;\n        if (!messageContainer1) {\n          return;\n        }\n        this.popper = (0, _core.createPopper)(messageContainer1, element1, {\n          placement: \"top-end\",\n          strategy: \"fixed\",\n          modifiers: [{\n            name: \"flip\",\n            enabled: true,\n            options: {\n              boundary: viewport1,\n              fallbackPlacements: [\"bottom-end\"]\n            }\n          }, {\n            name: \"hide\",\n            enabled: true\n          }, {\n            name: \"eventListeners\",\n            options: {\n              scroll: false\n            }\n          }, {\n            name: \"offset\",\n            options: {\n              offset: [-2, MSG_ACTIONS_VERTICAL_PADDING]\n            }\n          }]\n        });\n      });\n    }\n    teardown() {\n      this.popper?.destroy();\n      this.popper = null;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if (and this.site.desktopView this.chat.activeMessage.model.persisted)}}\n        <div\n          {{didInsert this.setup}}\n          {{didUpdate this.setup this.chat.activeMessage.model.id}}\n          {{on \"wheel\" this.onWheel passive=true}}\n          {{willDestroy this.teardown}}\n          class={{concatClass\n            \"chat-message-actions-container\"\n            (concat \"is-size-\" this.size)\n          }}\n          data-id={{this.message.id}}\n        >\n          <div\n            class={{concatClass\n              \"chat-message-actions\"\n              (unless\n                this.messageInteractor.secondaryActions.length\n                \"has-no-secondary-actions\"\n              )\n            }}\n          >\n            {{#if this.shouldRenderFavoriteReactions}}\n              {{#each\n                this.messageInteractor.emojiReactions key=\"emoji\"\n                as |reaction|\n              }}\n                <ChatMessageReaction\n                  @reaction={{reaction}}\n                  @onReaction={{this.messageInteractor.react}}\n                  @message={{this.message}}\n                  @showCount={{false}}\n                  @disableTooltip={{true}}\n                />\n              {{/each}}\n            {{/if}}\n  \n            {{#if this.messageInteractor.canInteractWithMessage}}\n              <DButton\n                @action={{this.messageInteractor.openEmojiPicker}}\n                @icon=\"discourse-emojis\"\n                @title=\"chat.react\"\n                @forwardEvent={{true}}\n                class=\"btn-flat react-btn\"\n              />\n            {{/if}}\n  \n            {{#if this.messageInteractor.canBookmark}}\n              <DButton\n                @action={{this.messageInteractor.toggleBookmark}}\n                class=\"btn-flat bookmark-btn\"\n              >\n                <BookmarkIcon @bookmark={{this.message.bookmark}} />\n              </DButton>\n            {{/if}}\n  \n            {{#if this.messageInteractor.canReply}}\n              <DButton\n                @action={{this.messageInteractor.reply}}\n                @icon=\"reply\"\n                @title=\"chat.reply\"\n                class=\"btn-flat reply-btn\"\n              />\n            {{/if}}\n  \n            {{#if\n              (and\n                this.messageInteractor.message\n                this.messageInteractor.secondaryActions.length\n              )\n            }}\n              <DropdownSelectBox\n                @options={{hash\n                  icon=\"ellipsis-v\"\n                  placement=\"left\"\n                  customStyle=\"true\"\n                  btnCustomClasses=\"btn-flat\"\n                }}\n                @content={{this.messageInteractor.secondaryActions}}\n                @onChange={{this.messageInteractor.handleSecondaryActions}}\n                class=\"more-buttons secondary-actions\"\n              />\n            {{/if}}\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"J9vk+hV8\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[30,0,[\\\"chat\\\",\\\"activeMessage\\\",\\\"model\\\",\\\"persisted\\\"]]],null],[[[1,\\\"      \\\"],[11,0],[16,0,[28,[32,1],[\\\"chat-message-actions-container\\\",[28,[32,2],[\\\"is-size-\\\",[30,0,[\\\"size\\\"]]],null]],null]],[16,\\\"data-id\\\",[30,0,[\\\"message\\\",\\\"id\\\"]]],[4,[32,3],[[30,0,[\\\"setup\\\"]]],null],[4,[32,4],[[30,0,[\\\"setup\\\"]],[30,0,[\\\"chat\\\",\\\"activeMessage\\\",\\\"model\\\",\\\"id\\\"]]],null],[4,[32,5],[\\\"wheel\\\",[30,0,[\\\"onWheel\\\"]]],[[\\\"passive\\\"],[true]]],[4,[32,6],[[30,0,[\\\"teardown\\\"]]],null],[12],[1,\\\"\\\\n        \\\"],[10,0],[15,0,[28,[32,1],[\\\"chat-message-actions\\\",[52,[51,[30,0,[\\\"messageInteractor\\\",\\\"secondaryActions\\\",\\\"length\\\"]]],\\\"has-no-secondary-actions\\\"]],null]],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRenderFavoriteReactions\\\"]],[[[42,[28,[31,3],[[28,[31,3],[[30,0,[\\\"messageInteractor\\\",\\\"emojiReactions\\\"]]],null]],null],\\\"emoji\\\",[[[1,\\\"              \\\"],[8,[32,7],null,[[\\\"@reaction\\\",\\\"@onReaction\\\",\\\"@message\\\",\\\"@showCount\\\",\\\"@disableTooltip\\\"],[[30,1],[30,0,[\\\"messageInteractor\\\",\\\"react\\\"]],[30,0,[\\\"message\\\"]],false,true]],null],[1,\\\"\\\\n\\\"]],[1]],null]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canInteractWithMessage\\\"]],[[[1,\\\"            \\\"],[8,[32,8],[[24,0,\\\"btn-flat react-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\",\\\"@forwardEvent\\\"],[[30,0,[\\\"messageInteractor\\\",\\\"openEmojiPicker\\\"]],\\\"discourse-emojis\\\",\\\"chat.react\\\",true]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canBookmark\\\"]],[[[1,\\\"            \\\"],[8,[32,8],[[24,0,\\\"btn-flat bookmark-btn\\\"]],[[\\\"@action\\\"],[[30,0,[\\\"messageInteractor\\\",\\\"toggleBookmark\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[8,[32,9],null,[[\\\"@bookmark\\\"],[[30,0,[\\\"message\\\",\\\"bookmark\\\"]]]],null],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canReply\\\"]],[[[1,\\\"            \\\"],[8,[32,8],[[24,0,\\\"btn-flat reply-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\"],[[30,0,[\\\"messageInteractor\\\",\\\"reply\\\"]],\\\"reply\\\",\\\"chat.reply\\\"]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,0,[\\\"messageInteractor\\\",\\\"message\\\"]],[30,0,[\\\"messageInteractor\\\",\\\"secondaryActions\\\",\\\"length\\\"]]],null],[[[1,\\\"            \\\"],[8,[32,10],[[24,0,\\\"more-buttons secondary-actions\\\"]],[[\\\"@options\\\",\\\"@content\\\",\\\"@onChange\\\"],[[28,[32,11],null,[[\\\"icon\\\",\\\"placement\\\",\\\"customStyle\\\",\\\"btnCustomClasses\\\"],[\\\"ellipsis-v\\\",\\\"left\\\",\\\"true\\\",\\\"btn-flat\\\"]]],[30,0,[\\\"messageInteractor\\\",\\\"secondaryActions\\\"]],[30,0,[\\\"messageInteractor\\\",\\\"handleSecondaryActions\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"reaction\\\"],false,[\\\"if\\\",\\\"unless\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-actions-desktop.js\",\n    \"scope\": () => [_and.default, _concatClass.default, _helper.concat, _didInsert.default, _didUpdate.default, _modifier.on, _willDestroy.default, _chatMessageReaction.default, _dButton.default, _bookmarkIcon.default, _dropdownSelectBox.default, _helper.hash],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"size\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return FULL;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"onWheel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onWheel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"teardown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"teardown\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-actions-mobile\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/service\", \"discourse/components/bookmark-icon\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse-common/lib/later\", \"truth-helpers/helpers/and\", \"truth-helpers/helpers/or\", \"discourse/plugins/chat/discourse/components/chat-message-reaction\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"discourse/plugins/chat/discourse/lib/chat-message-interactor\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _application, _helper, _modifier, _object, _didInsert, _service, _bookmarkIcon, _dButton, _concatClass, _later, _and, _or, _chatMessageReaction, _chatUserAvatar, _chatMessageInteractor, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class2, _onCloseMenu, _addFadeIn, _removeFadeIn;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageActionsMobile = _exports.default = (_class = (_onCloseMenu = /*#__PURE__*/new WeakSet(), _addFadeIn = /*#__PURE__*/new WeakSet(), _removeFadeIn = /*#__PURE__*/new WeakSet(), (_class2 = class ChatMessageActionsMobile extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _removeFadeIn);\n      _classPrivateMethodInitSpec(this, _addFadeIn);\n      _classPrivateMethodInitSpec(this, _onCloseMenu);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor3, this);\n      _initializerDefineProperty(this, \"hasExpandedReply\", _descriptor4, this);\n      _initializerDefineProperty(this, \"showFadeIn\", _descriptor5, this);\n    }\n    get message() {\n      return this.chat.activeMessage.model;\n    }\n    get context() {\n      return this.chat.activeMessage.context;\n    }\n    get messageInteractor() {\n      return new _chatMessageInteractor.default((0, _application.getOwner)(this), this.message, this.context);\n    }\n    fadeAndVibrate() {\n      (0, _later.default)(_classPrivateMethodGet(this, _addFadeIn, _addFadeIn2).bind(this));\n      if (this.capabilities.userHasBeenActive && this.capabilities.canVibrate) {\n        navigator.vibrate(5);\n      }\n    }\n    expandReply(event1) {\n      event1.stopPropagation();\n      this.hasExpandedReply = true;\n    }\n    collapseMenu(event1) {\n      event1.preventDefault();\n      _classPrivateMethodGet(this, _onCloseMenu, _onCloseMenu2).call(this);\n    }\n    actAndCloseMenu(fnId1) {\n      this.messageInteractor[fnId1]();\n      _classPrivateMethodGet(this, _onCloseMenu, _onCloseMenu2).call(this);\n    }\n    openEmojiPicker(_1, event1) {\n      this.messageInteractor.openEmojiPicker(_1, event1);\n      _classPrivateMethodGet(this, _onCloseMenu, _onCloseMenu2).call(this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if (and this.site.mobileView this.chat.activeMessage.model.persisted)}}\n        <div\n          class={{concatClass\n            \"chat-message-actions-backdrop\"\n            (if this.showFadeIn \"fade-in\")\n          }}\n          {{didInsert this.fadeAndVibrate}}\n        >\n          <div\n            role=\"button\"\n            class=\"collapse-area\"\n            {{on \"touchstart\" this.collapseMenu passive=false bubbles=false}}\n          >\n          </div>\n  \n          <div class=\"chat-message-actions\">\n            <div class=\"selected-message-container\">\n              <div class=\"selected-message\">\n                <ChatUserAvatar @user={{this.message.user}} />\n                <span\n                  {{on \"touchstart\" this.expandReply passive=true}}\n                  role=\"button\"\n                  class={{concatClass\n                    \"selected-message-reply\"\n                    (if this.hasExpandedReply \"is-expanded\")\n                  }}\n                >\n                  {{this.message.message}}\n                </span>\n              </div>\n            </div>\n  \n            <ul class=\"secondary-actions\">\n              {{#each this.messageInteractor.secondaryActions as |button|}}\n                <li class=\"chat-message-action-item\" data-id={{button.id}}>\n                  <DButton\n                    @translatedLabel={{button.name}}\n                    @icon={{button.icon}}\n                    @action={{fn this.actAndCloseMenu button.id}}\n                    class=\"chat-message-action\"\n                  />\n                </li>\n              {{/each}}\n            </ul>\n  \n            {{#if\n              (or this.messageInteractor.canReact this.messageInteractor.canReply)\n            }}\n              <div class=\"main-actions\">\n                {{#if this.messageInteractor.canReact}}\n                  {{#each this.messageInteractor.emojiReactions as |reaction|}}\n                    <ChatMessageReaction\n                      @reaction={{reaction}}\n                      @onReaction={{this.messageInteractor.react}}\n                      @message={{this.message}}\n                      @showCount={{false}}\n                    />\n                  {{/each}}\n  \n                  <DButton\n                    @action={{this.openEmojiPicker}}\n                    @icon=\"discourse-emojis\"\n                    @title=\"chat.react\"\n                    @forwardEvent={{true}}\n                    data-id=\"react\"\n                    class=\"btn-flat react-btn\"\n                  />\n                {{/if}}\n  \n                {{#if this.messageInteractor.canBookmark}}\n                  <DButton\n                    @action={{fn this.actAndCloseMenu \"toggleBookmark\"}}\n                    data-id=\"bookmark\"\n                    class=\"btn-flat bookmark-btn\"\n                  >\n                    <BookmarkIcon @bookmark={{this.message.bookmark}} />\n                  </DButton>\n                {{/if}}\n  \n                {{#if this.messageInteractor.canReply}}\n                  <DButton\n                    @action={{fn this.actAndCloseMenu \"reply\"}}\n                    @icon=\"reply\"\n                    @title=\"chat.reply\"\n                    data-id=\"reply\"\n                    class=\"chat-message-action reply-btn btn-flat\"\n                  />\n                {{/if}}\n              </div>\n            {{/if}}\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"f/B4wzmA\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[30,0,[\\\"chat\\\",\\\"activeMessage\\\",\\\"model\\\",\\\"persisted\\\"]]],null],[[[1,\\\"      \\\"],[11,0],[16,0,[28,[32,1],[\\\"chat-message-actions-backdrop\\\",[52,[30,0,[\\\"showFadeIn\\\"]],\\\"fade-in\\\"]],null]],[4,[32,2],[[30,0,[\\\"fadeAndVibrate\\\"]]],null],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,\\\"role\\\",\\\"button\\\"],[24,0,\\\"collapse-area\\\"],[4,[32,3],[\\\"touchstart\\\",[30,0,[\\\"collapseMenu\\\"]]],[[\\\"passive\\\",\\\"bubbles\\\"],[false,false]]],[12],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-actions\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"selected-message-container\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"selected-message\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,4],null,[[\\\"@user\\\"],[[30,0,[\\\"message\\\",\\\"user\\\"]]]],null],[1,\\\"\\\\n              \\\"],[11,1],[24,\\\"role\\\",\\\"button\\\"],[16,0,[28,[32,1],[\\\"selected-message-reply\\\",[52,[30,0,[\\\"hasExpandedReply\\\"]],\\\"is-expanded\\\"]],null]],[4,[32,3],[\\\"touchstart\\\",[30,0,[\\\"expandReply\\\"]]],[[\\\"passive\\\"],[true]]],[12],[1,\\\"\\\\n                \\\"],[1,[30,0,[\\\"message\\\",\\\"message\\\"]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[10,\\\"ul\\\"],[14,0,\\\"secondary-actions\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"messageInteractor\\\",\\\"secondaryActions\\\"]]],null]],null],null,[[[1,\\\"              \\\"],[10,\\\"li\\\"],[14,0,\\\"chat-message-action-item\\\"],[15,\\\"data-id\\\",[30,1,[\\\"id\\\"]]],[12],[1,\\\"\\\\n                \\\"],[8,[32,5],[[24,0,\\\"chat-message-action\\\"]],[[\\\"@translatedLabel\\\",\\\"@icon\\\",\\\"@action\\\"],[[30,1,[\\\"name\\\"]],[30,1,[\\\"icon\\\"]],[28,[32,6],[[30,0,[\\\"actAndCloseMenu\\\"]],[30,1,[\\\"id\\\"]]],null]]],null],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[1]],null],[1,\\\"          \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,7],[[30,0,[\\\"messageInteractor\\\",\\\"canReact\\\"]],[30,0,[\\\"messageInteractor\\\",\\\"canReply\\\"]]],null],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"main-actions\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canReact\\\"]],[[[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"messageInteractor\\\",\\\"emojiReactions\\\"]]],null]],null],null,[[[1,\\\"                  \\\"],[8,[32,8],null,[[\\\"@reaction\\\",\\\"@onReaction\\\",\\\"@message\\\",\\\"@showCount\\\"],[[30,2],[30,0,[\\\"messageInteractor\\\",\\\"react\\\"]],[30,0,[\\\"message\\\"]],false]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"\\\\n                \\\"],[8,[32,5],[[24,\\\"data-id\\\",\\\"react\\\"],[24,0,\\\"btn-flat react-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\",\\\"@forwardEvent\\\"],[[30,0,[\\\"openEmojiPicker\\\"]],\\\"discourse-emojis\\\",\\\"chat.react\\\",true]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canBookmark\\\"]],[[[1,\\\"                \\\"],[8,[32,5],[[24,\\\"data-id\\\",\\\"bookmark\\\"],[24,0,\\\"btn-flat bookmark-btn\\\"]],[[\\\"@action\\\"],[[28,[32,6],[[30,0,[\\\"actAndCloseMenu\\\"]],\\\"toggleBookmark\\\"],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,9],null,[[\\\"@bookmark\\\"],[[30,0,[\\\"message\\\",\\\"bookmark\\\"]]]],null],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"messageInteractor\\\",\\\"canReply\\\"]],[[[1,\\\"                \\\"],[8,[32,5],[[24,\\\"data-id\\\",\\\"reply\\\"],[24,0,\\\"chat-message-action reply-btn btn-flat\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\"],[[28,[32,6],[[30,0,[\\\"actAndCloseMenu\\\"]],\\\"reply\\\"],null],\\\"reply\\\",\\\"chat.reply\\\"]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"button\\\",\\\"reaction\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-actions-mobile.js\",\n    \"scope\": () => [_and.default, _concatClass.default, _didInsert.default, _modifier.on, _chatUserAvatar.default, _dButton.default, _helper.fn, _or.default, _chatMessageReaction.default, _bookmarkIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"hasExpandedReply\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"showFadeIn\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"fadeAndVibrate\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fadeAndVibrate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"expandReply\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"expandReply\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"collapseMenu\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"collapseMenu\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"actAndCloseMenu\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"actAndCloseMenu\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openEmojiPicker\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openEmojiPicker\"), _class.prototype)), _class);\n  function _onCloseMenu2() {\n    _classPrivateMethodGet(this, _removeFadeIn, _removeFadeIn2).call(this);\n    // we don't want to remove the component right away as it's animating\n    // 200 is equal to the duration of the css animation\n    (0, _later.default)(() => {\n      if (this.isDestroying || this.isDestroyed) {\n        return;\n      }\n      // by ensuring we are not hovering any message anymore\n      // we also ensure the menu is fully removed\n      this.chat.activeMessage = null;\n    }, 200);\n  }\n  function _addFadeIn2() {\n    this.showFadeIn = true;\n  }\n  function _removeFadeIn2() {\n    this.showFadeIn = false;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-collapser\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/service\", \"@ember/template\", \"discourse/lib/utilities\", \"discourse-common/lib/dom-from-string\", \"discourse-i18n\", \"@ember/template-factory\"], function (_exports, _component, _component2, _service, _template, _utilities, _domFromString, _discourseI18n, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  _exports.isCollapsible = isCollapsible;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"chat-message-collapser\">\n    {{#if this.hasUploads}}\n      {{html-safe @cooked}}\n  \n      <Collapser @header={{this.uploadsHeader}} @onToggle={{@onToggleCollapse}}>\n        <div class=\"chat-uploads\">\n          {{#each @uploads as |upload|}}\n            <ChatUpload @upload={{upload}} />\n          {{/each}}\n        </div>\n      </Collapser>\n    {{else}}\n      {{#each this.cookedBodies as |cooked|}}\n        {{#if cooked.needsCollapser}}\n          <Collapser @header={{cooked.header}} @onToggle={{@onToggleCollapse}}>\n            {{#if cooked.videoAttributes}}\n              <div class=\"chat-message-collapser-lazy-video\">\n                <LazyVideo @videoAttributes={{cooked.videoAttributes}} />\n              </div>\n            {{else}}\n              {{cooked.body}}\n            {{/if}}\n          </Collapser>\n        {{else}}\n          {{cooked.body}}\n        {{/if}}\n      {{/each}}\n    {{/if}}\n  </div>\n  */\n  {\n    \"id\": \"0kb4UYGW\",\n    \"block\": \"[[[10,0],[14,0,\\\"chat-message-collapser\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"hasUploads\\\"]],[[[1,\\\"    \\\"],[1,[28,[35,1],[[30,1]],null]],[1,\\\"\\\\n\\\\n    \\\"],[8,[39,2],null,[[\\\"@header\\\",\\\"@onToggle\\\"],[[30,0,[\\\"uploadsHeader\\\"]],[30,2]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-uploads\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[37,4],[[28,[37,4],[[30,3]],null]],null],null,[[[1,\\\"          \\\"],[8,[39,5],null,[[\\\"@upload\\\"],[[30,4]]],null],[1,\\\"\\\\n\\\"]],[4]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[42,[28,[37,4],[[28,[37,4],[[30,0,[\\\"cookedBodies\\\"]]],null]],null],null,[[[41,[30,5,[\\\"needsCollapser\\\"]],[[[1,\\\"        \\\"],[8,[39,2],null,[[\\\"@header\\\",\\\"@onToggle\\\"],[[30,5,[\\\"header\\\"]],[30,2]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,5,[\\\"videoAttributes\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-message-collapser-lazy-video\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[39,6],null,[[\\\"@videoAttributes\\\"],[[30,5,[\\\"videoAttributes\\\"]]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"            \\\"],[1,[30,5,[\\\"body\\\"]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"        \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[1,[30,5,[\\\"body\\\"]]],[1,\\\"\\\\n\\\"]],[]]]],[5]],null]],[]]],[13]],[\\\"@cooked\\\",\\\"@onToggleCollapse\\\",\\\"@uploads\\\",\\\"upload\\\",\\\"cooked\\\"],false,[\\\"if\\\",\\\"html-safe\\\",\\\"collapser\\\",\\\"each\\\",\\\"-track-array\\\",\\\"chat-upload\\\",\\\"lazy-video\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-message-collapser.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatMessageCollapser = _exports.default = (_class = class ChatMessageCollapser extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n    }\n    get hasUploads() {\n      return hasUploads(this.args.uploads);\n    }\n    get uploadsHeader() {\n      let name = \"\";\n      if (this.args.uploads.length === 1) {\n        name = this.args.uploads[0].original_filename;\n      } else {\n        name = _discourseI18n.default.t(\"chat.uploaded_files\", {\n          count: this.args.uploads.length\n        });\n      }\n      return (0, _template.htmlSafe)(`<span class=\"chat-message-collapser-link-small\">${(0, _utilities.escapeExpression)(name)}</span>`);\n    }\n    get cookedBodies() {\n      const elements = Array.prototype.slice.call((0, _domFromString.default)(this.args.cooked));\n      if (hasLazyVideo(elements)) {\n        return this.lazyVideoCooked(elements);\n      }\n      if (hasImageOnebox(elements)) {\n        return this.imageOneboxCooked(elements);\n      }\n      if (hasImage(elements)) {\n        return this.imageCooked(elements);\n      }\n      if (hasGallery(elements)) {\n        return this.galleryCooked(elements);\n      }\n      return [];\n    }\n    lazyVideoCooked(elements) {\n      return elements.reduce((acc, e) => {\n        if (this.siteSettings.lazy_videos_enabled && lazyVideoPredicate(e)) {\n          const getVideoAttributes = requirejs(\"discourse/plugins/discourse-lazy-videos/lib/lazy-video-attributes\").default;\n          const videoAttributes = getVideoAttributes(e);\n          if (this.siteSettings[`lazy_${videoAttributes.providerName}_enabled`]) {\n            const link = (0, _utilities.escapeExpression)(videoAttributes.url);\n            const title = videoAttributes.title;\n            const header = (0, _template.htmlSafe)(`<a target=\"_blank\" class=\"chat-message-collapser-link\" rel=\"noopener noreferrer\" href=\"${link}\">${title}</a>`);\n            acc.push({\n              header,\n              body: e,\n              videoAttributes,\n              needsCollapser: true\n            });\n          } else {\n            acc.push({\n              body: e,\n              needsCollapser: false\n            });\n          }\n        } else {\n          acc.push({\n            body: e,\n            needsCollapser: false\n          });\n        }\n        return acc;\n      }, []);\n    }\n    imageOneboxCooked(elements) {\n      return elements.reduce((acc, e) => {\n        if (imageOneboxPredicate(e)) {\n          let link = animatedImagePredicate(e) ? e.firstChild.src : e.firstElementChild.href;\n          link = (0, _utilities.escapeExpression)(link);\n          const header = (0, _template.htmlSafe)(`<a target=\"_blank\" class=\"chat-message-collapser-link-small\" rel=\"noopener noreferrer\" href=\"${link}\">${link}</a>`);\n          acc.push({\n            header,\n            body: e,\n            needsCollapser: true\n          });\n        } else {\n          acc.push({\n            body: e,\n            needsCollapser: false\n          });\n        }\n        return acc;\n      }, []);\n    }\n    imageCooked(elements) {\n      return elements.reduce((acc, e) => {\n        if (imagePredicate(e)) {\n          const link = (0, _utilities.escapeExpression)(e.firstElementChild.src);\n          const alt = (0, _utilities.escapeExpression)(e.firstElementChild.alt);\n          const header = (0, _template.htmlSafe)(`<a target=\"_blank\" class=\"chat-message-collapser-link-small\" rel=\"noopener noreferrer\" href=\"${link}\">${alt || link}</a>`);\n          acc.push({\n            header,\n            body: e,\n            needsCollapser: true\n          });\n        } else {\n          acc.push({\n            body: e,\n            needsCollapser: false\n          });\n        }\n        return acc;\n      }, []);\n    }\n    galleryCooked(elements) {\n      return elements.reduce((acc, e) => {\n        if (galleryPredicate(e)) {\n          const link = (0, _utilities.escapeExpression)(e.firstElementChild.href);\n          const title = (0, _utilities.escapeExpression)(e.firstElementChild.firstElementChild.textContent);\n          e.firstElementChild.removeChild(e.firstElementChild.firstElementChild);\n          const header = (0, _template.htmlSafe)(`<a target=\"_blank\" class=\"chat-message-collapser-link-small\" rel=\"noopener noreferrer\" href=\"${link}\">${title}</a>`);\n          acc.push({\n            header,\n            body: e,\n            needsCollapser: true\n          });\n        } else {\n          acc.push({\n            body: e,\n            needsCollapser: false\n          });\n        }\n        return acc;\n      }, []);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function lazyVideoPredicate(e) {\n    return e.classList.contains(\"lazy-video-container\");\n  }\n  function hasLazyVideo(elements) {\n    return elements.some(e => lazyVideoPredicate(e));\n  }\n  function animatedImagePredicate(e) {\n    return e.firstChild && e.firstChild.nodeName === \"IMG\" && e.firstChild.classList.contains(\"animated\") && e.firstChild.classList.contains(\"onebox\");\n  }\n  function externalImageOnebox(e) {\n    return e.firstElementChild && e.firstElementChild.nodeName === \"A\" && e.firstElementChild.classList.contains(\"onebox\") && e.firstElementChild.firstElementChild && e.firstElementChild.firstElementChild.nodeName === \"IMG\";\n  }\n  function imageOneboxPredicate(e) {\n    return animatedImagePredicate(e) || externalImageOnebox(e);\n  }\n  function hasImageOnebox(elements) {\n    return elements.some(e => imageOneboxPredicate(e));\n  }\n  function hasUploads(uploads) {\n    return uploads?.length > 0;\n  }\n  function imagePredicate(e) {\n    return e.nodeName === \"P\" && e.firstElementChild && e.firstElementChild.nodeName === \"IMG\" && !e.firstElementChild.classList.contains(\"emoji\");\n  }\n  function hasImage(elements) {\n    return elements.some(e => imagePredicate(e));\n  }\n  function galleryPredicate(e) {\n    return e.firstElementChild && e.firstElementChild.nodeName === \"A\" && e.firstElementChild.firstElementChild && e.firstElementChild.firstElementChild.classList.contains(\"outer-box\");\n  }\n  function hasGallery(elements) {\n    return elements.some(e => galleryPredicate(e));\n  }\n  function isCollapsible(cooked, uploads) {\n    const elements = Array.prototype.slice.call((0, _domFromString.default)(cooked));\n    return hasLazyVideo(elements) || hasImageOnebox(elements) || hasUploads(uploads) || hasImage(elements) || hasGallery(elements);\n  }\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatMessageCollapser);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-in-reply-to-indicator\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/service\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/html-safe\", \"discourse/plugins/chat/discourse/components/chat-emoji-avatar\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _service, _replaceEmoji, _dIcon, _htmlSafe, _chatEmojiAvatar, _chatUserAvatar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageInReplyToIndicator = _exports.default = (_class = (_class2 = class ChatMessageInReplyToIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    get route() {\n      if (this.hasThread) {\n        return \"chat.channel.thread\";\n      } else {\n        return \"chat.channel.near-message\";\n      }\n    }\n    get model() {\n      if (this.hasThread) {\n        return [...this.args.message.channel.routeModels, this.args.message.thread.id];\n      } else {\n        return [...this.args.message.channel.routeModels, this.args.message.inReplyTo.id];\n      }\n    }\n    get hasThread() {\n      return this.args.message?.channel?.threadingEnabled && this.args.message?.thread?.id;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @message.inReplyTo}}\n        <LinkTo\n          @route={{this.route}}\n          @models={{this.model}}\n          class=\"chat-reply is-direct-reply\"\n        >\n          {{dIcon \"share\" title=\"chat.in_reply_to\"}}\n  \n          {{#if @message.inReplyTo.chatWebhookEvent.emoji}}\n            <ChatEmojiAvatar\n              @emoji={{@message.inReplyTo.chatWebhookEvent.emoji}}\n            />\n          {{else}}\n            <ChatUserAvatar @user={{@message.inReplyTo.user}} />\n          {{/if}}\n  \n          <span class=\"chat-reply__excerpt\">\n            {{replaceEmoji (htmlSafe @message.inReplyTo.excerpt)}}\n          </span>\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"vgamxX3+\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"inReplyTo\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"chat-reply is-direct-reply\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[[30,0,[\\\"route\\\"]],[30,0,[\\\"model\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,1],[\\\"share\\\"],[[\\\"title\\\"],[\\\"chat.in_reply_to\\\"]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"inReplyTo\\\",\\\"chatWebhookEvent\\\",\\\"emoji\\\"]],[[[1,\\\"          \\\"],[8,[32,2],null,[[\\\"@emoji\\\"],[[30,1,[\\\"inReplyTo\\\",\\\"chatWebhookEvent\\\",\\\"emoji\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[8,[32,3],null,[[\\\"@user\\\"],[[30,1,[\\\"inReplyTo\\\",\\\"user\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-reply__excerpt\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,4],[[28,[32,5],[[30,1,[\\\"inReplyTo\\\",\\\"excerpt\\\"]]],null]],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-in-reply-to-indicator.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default, _chatEmojiAvatar.default, _chatUserAvatar.default, _replaceEmoji.default, _htmlSafe.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-reaction\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/modifier\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"ember-modifier\", \"discourse/helpers/concat-class\", \"discourse/lib/text\", \"truth-helpers/helpers/and\", \"discourse/plugins/chat/discourse/lib/get-reaction-text\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _modifier, _object, _service, _template, _emberModifier, _concatClass, _text, _and, _getReactionText, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageReaction = _exports.default = (_class = (_class2 = class ChatMessageReaction extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n      _initializerDefineProperty(this, \"tooltip\", _descriptor3, this);\n      _initializerDefineProperty(this, \"site\", _descriptor4, this);\n      _initializerDefineProperty(this, \"isActive\", _descriptor5, this);\n      _defineProperty(this, \"registerTooltip\", (0, _emberModifier.modifier)(element1 => {\n        if (this.disableTooltip || !this.popoverContent?.length) {\n          return;\n        }\n        const instance1 = this.tooltip.register(element1, {\n          content: (0, _template.htmlSafe)(this.popoverContent),\n          identifier: \"chat-message-reaction-tooltip\",\n          animated: false,\n          placement: \"top\",\n          fallbackPlacements: [\"bottom\"],\n          triggers: this.site.mobileView ? [\"hold\"] : [\"hover\"]\n        });\n        return () => {\n          instance1?.destroy();\n        };\n      }));\n    }\n    get disableTooltip() {\n      return this.args.disableTooltip ?? false;\n    }\n    get showCount() {\n      return this.args.showCount ?? true;\n    }\n    get emojiString() {\n      return `:${this.args.reaction.emoji}:`;\n    }\n    get emojiUrl() {\n      return (0, _text.emojiUrlFor)(this.args.reaction.emoji);\n    }\n    handleClick(event1) {\n      event1.stopPropagation();\n      this.args.onReaction?.(this.args.reaction.emoji, this.args.reaction.reacted ? \"remove\" : \"add\");\n      this.tooltip.close();\n    }\n    get popoverContent() {\n      if (!this.args.reaction.count || !this.args.reaction.users?.length) {\n        return;\n      }\n      return (0, _text.emojiUnescape)((0, _getReactionText.getReactionText)(this.args.reaction, this.currentUser));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if (and @reaction this.emojiUrl)}}\n        <button\n          type=\"button\"\n          tabindex=\"0\"\n          class={{concatClass\n            \"chat-message-reaction\"\n            (if @reaction.reacted \"reacted\")\n            (if this.isActive \"-active\")\n          }}\n          data-emoji-name={{@reaction.emoji}}\n          title={{this.emojiString}}\n          {{on \"click\" this.handleClick passive=true}}\n          {{this.registerTooltip}}\n        >\n          <img\n            loading=\"lazy\"\n            class=\"emoji\"\n            width=\"20\"\n            height=\"20\"\n            alt={{this.emojiString}}\n            src={{this.emojiUrl}}\n          />\n  \n          {{#if (and this.showCount @reaction.count)}}\n            <span class=\"count\">{{@reaction.count}}</span>\n          {{/if}}\n        </button>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"DyOJuZ8i\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,1],[30,0,[\\\"emojiUrl\\\"]]],null],[[[1,\\\"      \\\"],[11,\\\"button\\\"],[24,\\\"tabindex\\\",\\\"0\\\"],[16,0,[28,[32,1],[\\\"chat-message-reaction\\\",[52,[30,1,[\\\"reacted\\\"]],\\\"reacted\\\"],[52,[30,0,[\\\"isActive\\\"]],\\\"-active\\\"]],null]],[16,\\\"data-emoji-name\\\",[30,1,[\\\"emoji\\\"]]],[16,\\\"title\\\",[30,0,[\\\"emojiString\\\"]]],[24,4,\\\"button\\\"],[4,[32,2],[\\\"click\\\",[30,0,[\\\"handleClick\\\"]]],[[\\\"passive\\\"],[true]]],[4,[30,0,[\\\"registerTooltip\\\"]],null,null],[12],[1,\\\"\\\\n        \\\"],[10,\\\"img\\\"],[14,\\\"loading\\\",\\\"lazy\\\"],[14,0,\\\"emoji\\\"],[14,\\\"width\\\",\\\"20\\\"],[14,\\\"height\\\",\\\"20\\\"],[15,\\\"alt\\\",[30,0,[\\\"emojiString\\\"]]],[15,\\\"src\\\",[30,0,[\\\"emojiUrl\\\"]]],[12],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,0],[[30,0,[\\\"showCount\\\"]],[30,1,[\\\"count\\\"]]],null],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"count\\\"],[12],[1,[30,1,[\\\"count\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@reaction\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-reaction.js\",\n    \"scope\": () => [_and.default, _concatClass.default, _modifier.on],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"tooltip\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"handleClick\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleClick\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"popoverContent\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"popoverContent\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-separator-date\", [\"exports\", \"@glimmer/component\", \"@ember/modifier\", \"@ember/object\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/modifiers/chat/track-message-separator-date\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _modifier, _object, _concatClass, _i18n, _trackMessageSeparatorDate, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let ChatMessageSeparatorDate = _exports.default = (_class = (_class2 = class ChatMessageSeparatorDate extends _component.default {\n    onDateClick() {\n      return this.args.fetchMessagesByDate?.(this.args.message.firstMessageOfTheDayAt);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @message.formattedFirstMessageDate}}\n        <div\n          class={{concatClass\n            \"chat-message-separator-date\"\n            (if @message.newest \"with-last-visit\")\n          }}\n          role=\"button\"\n          {{on \"click\" this.onDateClick passive=true}}\n        >\n          <div\n            class=\"chat-message-separator__text-container\"\n            {{trackMessageSeparatorDate}}\n          >\n            <span class=\"chat-message-separator__text\">\n              {{@message.formattedFirstMessageDate}}\n  \n              {{#if @message.newest}}\n                <span class=\"chat-message-separator__last-visit\">\n                  <span\n                    class=\"chat-message-separator__last-visit-separator\"\n                  >-</span>\n                  {{i18n \"chat.last_visit\"}}\n                </span>\n              {{/if}}\n            </span>\n          </div>\n        </div>\n  \n        <div class=\"chat-message-separator__line-container\">\n          <div class=\"chat-message-separator__line\"></div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"GTpyJJv8\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"formattedFirstMessageDate\\\"]],[[[1,\\\"      \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-message-separator-date\\\",[52,[30,1,[\\\"newest\\\"]],\\\"with-last-visit\\\"]],null]],[24,\\\"role\\\",\\\"button\\\"],[4,[32,1],[\\\"click\\\",[30,0,[\\\"onDateClick\\\"]]],[[\\\"passive\\\"],[true]]],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-message-separator__text-container\\\"],[4,[32,2],null,null],[12],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-message-separator__text\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,1,[\\\"formattedFirstMessageDate\\\"]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"newest\\\"]],[[[1,\\\"              \\\"],[10,1],[14,0,\\\"chat-message-separator__last-visit\\\"],[12],[1,\\\"\\\\n                \\\"],[10,1],[14,0,\\\"chat-message-separator__last-visit-separator\\\"],[12],[1,\\\"-\\\"],[13],[1,\\\"\\\\n                \\\"],[1,[28,[32,3],[\\\"chat.last_visit\\\"],null]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-separator__line-container\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-separator__line\\\"],[12],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-separator-date.js\",\n    \"scope\": () => [_concatClass.default, _modifier.on, _trackMessageSeparatorDate.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_applyDecoratedDescriptor(_class.prototype, \"onDateClick\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onDateClick\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-separator-new\", [\"exports\", \"discourse-common/helpers/i18n\", \"truth-helpers/helpers/and\", \"truth-helpers/helpers/not\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _i18n, _and, _not, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatMessageSeparatorNew = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    {{#if (and @message.newest (not @message.formattedFirstMessageDate))}}\n      <div class=\"chat-message-separator-new\">\n        <div class=\"chat-message-separator__text-container\">\n          <span class=\"chat-message-separator__text\">\n            {{i18n \"chat.last_visit\"}}\n          </span>\n        </div>\n  \n        <div class=\"chat-message-separator__line-container\">\n          <div class=\"chat-message-separator__line\"></div>\n        </div>\n      </div>\n    {{/if}}\n  \n  */\n  {\n    \"id\": \"TwTALrFk\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,1,[\\\"newest\\\"]],[28,[32,1],[[30,1,[\\\"formattedFirstMessageDate\\\"]]],null]],null],[[[1,\\\"    \\\"],[10,0],[14,0,\\\"chat-message-separator-new\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-separator__text-container\\\"],[12],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-message-separator__text\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,2],[\\\"chat.last_visit\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-separator__line-container\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-separator__line\\\"],[12],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-separator-new.js\",\n    \"scope\": () => [_and.default, _not.default, _i18n.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatMessageSeparatorNew;\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-text\", [\"exports\", \"@glimmer/component\", \"discourse-common/helpers/html-safe\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/components/chat-message-collapser\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _htmlSafe, _i18n, _chatMessageCollapser, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatMessageText extends _component.default {\n    get isEdited() {\n      return this.args.edited ?? false;\n    }\n    get isCollapsible() {\n      return (0, _chatMessageCollapser.isCollapsible)(this.args.cooked, this.args.uploads);\n    }\n  }\n  _exports.default = ChatMessageText;\n  _class = ChatMessageText;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-text\">\n        {{#if this.isCollapsible}}\n          <ChatMessageCollapser\n            @cooked={{@cooked}}\n            @uploads={{@uploads}}\n            @onToggleCollapse={{@onToggleCollapse}}\n          />\n        {{else}}\n          {{htmlSafe @cooked}}\n        {{/if}}\n  \n        {{#if this.isEdited}}\n          <span class=\"chat-message-edited\">({{i18n \"chat.edited\"}})</span>\n        {{/if}}\n  \n        {{yield}}\n      </div>\n    \n  */\n  {\n    \"id\": \"ROTAl0ka\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-text\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"isCollapsible\\\"]],[[[1,\\\"        \\\"],[8,[32,0],null,[[\\\"@cooked\\\",\\\"@uploads\\\",\\\"@onToggleCollapse\\\"],[[30,1],[30,2],[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[1,[28,[32,1],[[30,1]],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"isEdited\\\"]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-message-edited\\\"],[12],[1,\\\"(\\\"],[1,[28,[32,2],[\\\"chat.edited\\\"],null]],[1,\\\")\\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[18,4,null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@cooked\\\",\\\"@uploads\\\",\\\"@onToggleCollapse\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-text.js\",\n    \"scope\": () => [_chatMessageCollapser.default, _htmlSafe.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message-thread-indicator\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/helpers/format-date\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/html-safe\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/get-url\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/components/chat-thread-participants\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _didInsert, _willDestroy, _service, _concatClass, _formatDate, _replaceEmoji, _htmlSafe, _i18n, _getUrl, _decorators, _chatThreadParticipants, _chatUserAvatar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageThreadIndicator = _exports.default = (_class = (_class2 = class ChatMessageThreadIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"router\", _descriptor4, this);\n      _initializerDefineProperty(this, \"site\", _descriptor5, this);\n      _initializerDefineProperty(this, \"isActive\", _descriptor6, this);\n    }\n    get interactiveUser() {\n      return this.args.interactiveUser ?? true;\n    }\n    setup(element1) {\n      this.element = element1;\n      if (this.capabilities.touch) {\n        this.element.addEventListener(\"touchstart\", this.onTouchStart, {\n          passive: true\n        });\n        this.element.addEventListener(\"touchmove\", this.cancelTouch, {\n          passive: true\n        });\n        this.element.addEventListener(\"touchend\", this.onTouchEnd);\n        this.element.addEventListener(\"touchCancel\", this.cancelTouch);\n      }\n      this.element.addEventListener(\"mousedown\", this.openThread, {\n        passive: true\n      });\n      this.element.addEventListener(\"keydown\", this.openThread, {\n        passive: true\n      });\n    }\n    teardown() {\n      if (this.capabilities.touch) {\n        this.element.removeEventListener(\"touchstart\", this.onTouchStart, {\n          passive: true\n        });\n        this.element.removeEventListener(\"touchmove\", this.cancelTouch, {\n          passive: true\n        });\n        this.element.removeEventListener(\"touchend\", this.onTouchEnd);\n        this.element.removeEventListener(\"touchCancel\", this.cancelTouch);\n      }\n      this.element.removeEventListener(\"mousedown\", this.openThread, {\n        passive: true\n      });\n      this.element.removeEventListener(\"keydown\", this.openThread, {\n        passive: true\n      });\n    }\n    onTouchStart(event1) {\n      this.isActive = true;\n      event1.stopPropagation();\n      this.touching = true;\n    }\n    onTouchEnd() {\n      this.isActive = false;\n      if (this.touching) {\n        this.openThread();\n      }\n    }\n    cancelTouch() {\n      this.isActive = false;\n      this.touching = false;\n    }\n    openThread(event1) {\n      if (event1?.type === \"keydown\" && event1?.key !== \"Enter\") {\n        return;\n      }\n      // handle middle mouse\n      if (event1?.type === \"mousedown\" && (event1?.which === 2 || event1?.shiftKey)) {\n        window.open((0, _getUrl.default)(this.router.urlFor(\"chat.channel.thread\", ...this.args.message.thread.routeModels)), \"_blank\");\n        return;\n      }\n      this.chat.activeMessage = null;\n      this.router.transitionTo(\"chat.channel.thread\", ...this.args.message.thread.routeModels);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-message-thread-indicator\"\n          (if this.isActive \"-active\")\n        }}\n        {{didInsert this.setup}}\n        {{willDestroy this.teardown}}\n        role=\"button\"\n        title={{i18n \"chat.threads.open\"}}\n        tabindex=\"0\"\n        ...attributes\n      >\n  \n        <div class=\"chat-message-thread-indicator__last-reply-avatar\">\n          <ChatUserAvatar\n            @user={{@message.thread.preview.lastReplyUser}}\n            @avatarSize=\"small\"\n            @interactive={{this.interactiveUser}}\n          />\n        </div>\n  \n        <div class=\"chat-message-thread-indicator__last-reply-info\">\n          <span class=\"chat-message-thread-indicator__last-reply-username\">\n            {{@message.thread.preview.lastReplyUser.username}}\n          </span>\n          <span class=\"chat-message-thread-indicator__last-reply-timestamp\">\n            {{formatDate\n              @message.thread.preview.lastReplyCreatedAt\n              leaveAgo=\"true\"\n            }}\n          </span>\n        </div>\n        <div class=\"chat-message-thread-indicator__replies-count\">\n          {{i18n \"chat.thread.replies\" count=@message.thread.preview.replyCount}}\n        </div>\n        <ChatThreadParticipants @thread={{@message.thread}} />\n        <div class=\"chat-message-thread-indicator__last-reply-excerpt\">\n          {{replaceEmoji (htmlSafe @message.thread.preview.lastReplyExcerpt)}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"b0SPB+Uj\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-message-thread-indicator\\\",[52,[30,0,[\\\"isActive\\\"]],\\\"-active\\\"]],null]],[24,\\\"role\\\",\\\"button\\\"],[16,\\\"title\\\",[28,[32,1],[\\\"chat.threads.open\\\"],null]],[24,\\\"tabindex\\\",\\\"0\\\"],[17,1],[4,[32,2],[[30,0,[\\\"setup\\\"]]],null],[4,[32,3],[[30,0,[\\\"teardown\\\"]]],null],[12],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-thread-indicator__last-reply-avatar\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,4],null,[[\\\"@user\\\",\\\"@avatarSize\\\",\\\"@interactive\\\"],[[30,2,[\\\"thread\\\",\\\"preview\\\",\\\"lastReplyUser\\\"]],\\\"small\\\",[30,0,[\\\"interactiveUser\\\"]]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-thread-indicator__last-reply-info\\\"],[12],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-message-thread-indicator__last-reply-username\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,2,[\\\"thread\\\",\\\"preview\\\",\\\"lastReplyUser\\\",\\\"username\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-message-thread-indicator__last-reply-timestamp\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,5],[[30,2,[\\\"thread\\\",\\\"preview\\\",\\\"lastReplyCreatedAt\\\"]]],[[\\\"leaveAgo\\\"],[\\\"true\\\"]]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-thread-indicator__replies-count\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,1],[\\\"chat.thread.replies\\\"],[[\\\"count\\\"],[[30,2,[\\\"thread\\\",\\\"preview\\\",\\\"replyCount\\\"]]]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[32,6],null,[[\\\"@thread\\\"],[[30,2,[\\\"thread\\\"]]]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-thread-indicator__last-reply-excerpt\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,7],[[28,[32,8],[[30,2,[\\\"thread\\\",\\\"preview\\\",\\\"lastReplyExcerpt\\\"]]],null]],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&attrs\\\",\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message-thread-indicator.js\",\n    \"scope\": () => [_concatClass.default, _i18n.default, _didInsert.default, _willDestroy.default, _chatUserAvatar.default, _formatDate.default, _chatThreadParticipants.default, _replaceEmoji.default, _htmlSafe.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"setup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"teardown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"teardown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTouchStart\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onTouchStart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onTouchEnd\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onTouchEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cancelTouch\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"cancelTouch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openThread\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"openThread\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-message\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/component\", \"@ember/modifier\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/runloop\", \"@ember/service\", \"ember-modifier\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse/lib/optional-service\", \"discourse/lib/update-user-status-on-mention\", \"discourse-common/lib/debounce\", \"discourse-common/lib/later\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"truth-helpers/helpers/eq\", \"truth-helpers/helpers/not\", \"discourse/plugins/chat/discourse/components/chat/message/avatar\", \"discourse/plugins/chat/discourse/components/chat/message/error\", \"discourse/plugins/chat/discourse/components/chat/message/info\", \"discourse/plugins/chat/discourse/components/chat/message/left-gutter\", \"discourse/plugins/chat/discourse/components/chat-message-in-reply-to-indicator\", \"discourse/plugins/chat/discourse/components/chat-message-reaction\", \"discourse/plugins/chat/discourse/components/chat-message-separator-date\", \"discourse/plugins/chat/discourse/components/chat-message-separator-new\", \"discourse/plugins/chat/discourse/components/chat-message-text\", \"discourse/plugins/chat/discourse/components/chat-message-thread-indicator\", \"discourse/plugins/chat/discourse/lib/chat-message-interactor\", \"discourse/plugins/chat/discourse/lib/zoom-check\", \"discourse/plugins/chat/discourse/modifiers/chat/on-long-press\", \"@ember/template-factory\"], function (_exports, _component, _tracking, _application, _component2, _modifier, _object, _didInsert, _didUpdate, _willDestroy, _runloop, _service, _emberModifier, _dButton, _concatClass, _optionalService, _updateUserStatusOnMention, _debounce, _later, _decorators, _discourseI18n, _eq, _not, _avatar, _error, _info, _leftGutter, _chatMessageInReplyToIndicator, _chatMessageReaction, _chatMessageSeparatorDate, _chatMessageSeparatorNew, _chatMessageText, _chatMessageThreadIndicator, _chatMessageInteractor, _zoomCheck, _onLongPress, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.MESSAGE_CONTEXT_THREAD = _exports.MENTION_KEYWORDS = void 0;\n  _exports.addChatMessageDecorator = addChatMessageDecorator;\n  _exports.default = void 0;\n  _exports.resetChatMessageDecorators = resetChatMessageDecorators;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _class2, _teardownMentionedUsers;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let _chatMessageDecorators = [];\n  function addChatMessageDecorator(decorator1) {\n    _chatMessageDecorators.push(decorator1);\n  }\n  function resetChatMessageDecorators() {\n    _chatMessageDecorators = [];\n  }\n  const MENTION_KEYWORDS = _exports.MENTION_KEYWORDS = [\"here\", \"all\"];\n  const MESSAGE_CONTEXT_THREAD = _exports.MESSAGE_CONTEXT_THREAD = \"thread\";\n  let ChatMessage = _exports.default = (_class = (_teardownMentionedUsers = /*#__PURE__*/new WeakSet(), (_class2 = class ChatMessage extends _component.default {\n    constructor() {\n      super(...arguments);\n      _classPrivateMethodInitSpec(this, _teardownMentionedUsers);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor4, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor7, this);\n      _initializerDefineProperty(this, \"chatEmojiReactionStore\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor9, this);\n      _initializerDefineProperty(this, \"chatChannelPane\", _descriptor10, this);\n      _initializerDefineProperty(this, \"chatThreadPane\", _descriptor11, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor12, this);\n      _initializerDefineProperty(this, \"router\", _descriptor13, this);\n      _initializerDefineProperty(this, \"toasts\", _descriptor14, this);\n      _initializerDefineProperty(this, \"isActive\", _descriptor15, this);\n      _initializerDefineProperty(this, \"adminTools\", _descriptor16, this);\n      _defineProperty(this, \"toggleCheckIfPossible\", (0, _emberModifier.modifier)(element1 => {\n        let addedListener1 = false;\n        const handler1 = () => {\n          if (!this.pane.selectingMessages) {\n            return;\n          }\n          if (event.shiftKey) {\n            this.messageInteractor.bulkSelect(!this.args.message.selected);\n            return;\n          }\n          this.messageInteractor.select(!this.args.message.selected);\n        };\n        if (this.pane.selectingMessages) {\n          element1.addEventListener(\"click\", handler1, {\n            passive: true\n          });\n          addedListener1 = true;\n        }\n        return () => {\n          if (addedListener1) {\n            element1.removeEventListener(\"click\", handler1);\n          }\n        };\n      }));\n      this.initMentionedUsers();\n    }\n    get pane() {\n      return this.args.context === MESSAGE_CONTEXT_THREAD ? this.chatThreadPane : this.chatChannelPane;\n    }\n    get messageInteractor() {\n      return new _chatMessageInteractor.default((0, _application.getOwner)(this), this.args.message, this.args.context);\n    }\n    get deletedAndCollapsed() {\n      return this.args.message?.deletedAt && this.collapsed;\n    }\n    get hiddenAndCollapsed() {\n      return this.args.message?.hidden && this.collapsed;\n    }\n    get collapsed() {\n      return !this.args.message?.expanded;\n    }\n    get deletedMessageLabel() {\n      let count1 = 1;\n      const recursiveCount1 = message1 => {\n        const previousMessage1 = message1.previousMessage;\n        if (previousMessage1?.deletedAt) {\n          count1++;\n          recursiveCount1(previousMessage1);\n        }\n      };\n      recursiveCount1(this.args.message);\n      return _discourseI18n.default.t(\"chat.deleted\", {\n        count: count1\n      });\n    }\n    get shouldRender() {\n      return this.args.message.expanded || !this.args.message.deletedAt || this.args.message.deletedAt && !this.args.message.nextMessage?.deletedAt;\n    }\n    get shouldRenderOpenEmojiPickerButton() {\n      return this.chat.userCanInteractWithChat && this.site.desktopView;\n    }\n    get secondaryActionsIsExpanded() {\n      return document.querySelector(\".more-buttons.secondary-actions.is-expanded\");\n    }\n    expand() {\n      const recursiveExpand1 = message1 => {\n        const previousMessage1 = message1.previousMessage;\n        if (previousMessage1?.deletedAt) {\n          previousMessage1.expanded = true;\n          recursiveExpand1(previousMessage1);\n        }\n      };\n      this.args.message.expanded = true;\n      this.refreshStatusOnMentions();\n      recursiveExpand1(this.args.message);\n    }\n    toggleChecked(event1) {\n      event1.stopPropagation();\n      if (event1.shiftKey) {\n        this.messageInteractor.bulkSelect(event1.target.checked);\n        return;\n      }\n      this.messageInteractor.select(event1.target.checked);\n    }\n    willDestroyMessage() {\n      (0, _runloop.cancel)(this._invitationSentTimer);\n      (0, _runloop.cancel)(this._disableMessageActionsHandler);\n      (0, _runloop.cancel)(this._makeMessageActiveHandler);\n      (0, _runloop.cancel)(this._debounceDecorateCookedMessageHandler);\n      _classPrivateMethodGet(this, _teardownMentionedUsers, _teardownMentionedUsers2).call(this);\n      this.chat.activeMessage = null;\n    }\n    refreshStatusOnMentions() {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        this.args.message.mentionedUsers.forEach(user1 => {\n          const href1 = `/u/${user1.username.toLowerCase()}`;\n          const mentions1 = this.messageContainer.querySelectorAll(`a.mention[href=\"${href1}\"]`);\n          mentions1.forEach(mention1 => {\n            (0, _updateUserStatusOnMention.updateUserStatusOnMention)((0, _application.getOwner)(this), mention1, user1.status);\n          });\n        });\n      });\n    }\n    didInsertMessage(element1) {\n      this.messageContainer = element1;\n      this.debounceDecorateCookedMessage();\n      this.refreshStatusOnMentions();\n    }\n    didUpdateMessageId() {\n      this.debounceDecorateCookedMessage();\n    }\n    didUpdateMessageVersion() {\n      this.debounceDecorateCookedMessage();\n      this.refreshStatusOnMentions();\n      this.initMentionedUsers();\n    }\n    debounceDecorateCookedMessage() {\n      this._debounceDecorateCookedMessageHandler = (0, _debounce.default)(this, this.decorateCookedMessage, this.args.message, 100);\n    }\n    decorateCookedMessage(message1) {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        _chatMessageDecorators.forEach(decorator1 => {\n          decorator1.call(this, this.messageContainer, message1.channel);\n        });\n      });\n    }\n    initMentionedUsers() {\n      this.args.message.mentionedUsers.forEach(user1 => {\n        if (user1.isTrackingStatus()) {\n          return;\n        }\n        user1.trackStatus();\n        user1.on(\"status-changed\", this, \"refreshStatusOnMentions\");\n      });\n    }\n    get show() {\n      return !this.args.message?.deletedAt || this.currentUser.id === this.args.message?.user?.id || this.currentUser.staff || this.args.message?.channel?.canModerate;\n    }\n    onMouseEnter() {\n      if (this.site.mobileView) {\n        return;\n      }\n      if (this.chat.activeMessage?.model?.id === this.args.message.id) {\n        return;\n      }\n      if (!this.secondaryActionsIsExpanded) {\n        this._onMouseEnterMessageDebouncedHandler = (0, _debounce.default)(this, this._debouncedOnHoverMessage, 250);\n      }\n    }\n    onMouseMove() {\n      if (this.site.mobileView) {\n        return;\n      }\n      if (this.chat.activeMessage?.model?.id === this.args.message.id) {\n        return;\n      }\n      if (!this.secondaryActionsIsExpanded) {\n        this._setActiveMessage();\n      }\n    }\n    onMouseLeave(event1) {\n      (0, _runloop.cancel)(this._onMouseEnterMessageDebouncedHandler);\n      if (this.site.mobileView) {\n        return;\n      }\n      if ((event1.toElement || event1.relatedTarget)?.closest(\".chat-message-actions-container\")) {\n        return;\n      }\n      if (!this.secondaryActionsIsExpanded) {\n        this.chat.activeMessage = null;\n      }\n    }\n    _debouncedOnHoverMessage() {\n      this._setActiveMessage();\n    }\n    _setActiveMessage() {\n      if (this.args.disableMouseEvents) {\n        return;\n      }\n      (0, _runloop.cancel)(this._onMouseEnterMessageDebouncedHandler);\n      if (!this.chat.userCanInteractWithChat) {\n        return;\n      }\n      if (!this.args.message.expanded) {\n        return;\n      }\n      this.chat.activeMessage = {\n        model: this.args.message,\n        context: this.args.context\n      };\n    }\n    onLongPressStart(element1, event1) {\n      if (!this.args.message.expanded || !this.args.message.persisted) {\n        return;\n      }\n      if (event1.target.tagName === \"IMG\") {\n        return;\n      }\n      // prevents message to show as active when starting scroll\n      // at this moment scroll has no momentum and the row can\n      // capture the touch event instead of a scroll\n      this._makeMessageActiveHandler = (0, _later.default)(() => {\n        this.isActive = true;\n      }, 125);\n    }\n    onLongPressCancel() {\n      (0, _runloop.cancel)(this._makeMessageActiveHandler);\n      this.isActive = false;\n      // this a tricky bit of code which is needed to prevent the long press\n      // from triggering a click on the message actions panel when releasing finger press\n      // we can't prevent default as we need to keep the event passive for performance reasons\n      // this class will prevent any click from being triggered until removed\n      // this number has been chosen from testing but might need to be increased\n      this._disableMessageActionsHandler = (0, _later.default)(() => {\n        document.documentElement.classList.remove(\"disable-message-actions-touch\");\n      }, 200);\n    }\n    onLongPressEnd(element1, event1) {\n      if (event1.target.tagName === \"IMG\") {\n        return;\n      }\n      (0, _runloop.cancel)(this._makeMessageActiveHandler);\n      this.isActive = false;\n      if ((0, _zoomCheck.default)()) {\n        // if zoomed don't handle long press\n        return;\n      }\n      document.documentElement.classList.add(\"disable-message-actions-touch\");\n      document.activeElement.blur();\n      document.querySelector(\".chat-composer__input\")?.blur();\n      this._setActiveMessage();\n    }\n    get hasActiveState() {\n      return this.isActive || this.chat.activeMessage?.model?.id === this.args.message.id;\n    }\n    get hasReply() {\n      return this.args.message.inReplyTo && !this.hideReplyToInfo;\n    }\n    get hideUserInfo() {\n      const message1 = this.args.message;\n      const previousMessage1 = message1.previousMessage;\n      if (!previousMessage1) {\n        return false;\n      }\n      // this is a micro optimization to avoid layout changes when we load more messages\n      if (message1.firstOfResults) {\n        return false;\n      }\n      if (message1.chatWebhookEvent) {\n        return false;\n      }\n      if (previousMessage1.deletedAt) {\n        return false;\n      }\n      if (Math.abs(new Date(message1.createdAt) - new Date(previousMessage1.createdAt)) > 300000) {\n        return false;\n      }\n      if (message1.inReplyTo) {\n        if (message1.inReplyTo?.id === previousMessage1.id) {\n          return message1.user?.id === previousMessage1.user?.id;\n        } else {\n          return false;\n        }\n      }\n      return message1.user?.id === previousMessage1.user?.id;\n    }\n    get hideReplyToInfo() {\n      return this.args.context === MESSAGE_CONTEXT_THREAD || this.args.message?.inReplyTo?.id === this.args.message?.previousMessage?.id || this.threadingEnabled;\n    }\n    get threadingEnabled() {\n      return this.args.message?.channel?.threadingEnabled && !!this.args.message?.thread;\n    }\n    get showThreadIndicator() {\n      return this.args.context !== MESSAGE_CONTEXT_THREAD && this.threadingEnabled && this.args.message?.thread && this.args.message?.thread.preview.replyCount > 0;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{! template-lint-disable no-invalid-interactive }}\n      {{#if this.shouldRender}}\n        {{#if (eq @context \"channel\")}}\n          <ChatMessageSeparatorDate\n            @fetchMessagesByDate={{@fetchMessagesByDate}}\n            @message={{@message}}\n          />\n          <ChatMessageSeparatorNew @message={{@message}} />\n        {{/if}}\n  \n        <div\n          class={{concatClass\n            \"chat-message-container\"\n            (if this.pane.selectingMessages \"-selectable\")\n            (if @message.highlighted \"-highlighted\")\n            (if (eq @message.user.id this.currentUser.id) \"is-by-current-user\")\n            (if @message.staged \"-staged\" \"-persisted\")\n            (if @message.processed \"-processed\" \"-not-processed\")\n            (if this.hasActiveState \"-active\")\n            (if @message.bookmark \"-bookmarked\")\n            (if @message.deletedAt \"-deleted\")\n            (if @message.selected \"-selected\")\n            (if @message.error \"-errored\")\n            (if this.showThreadIndicator \"has-thread-indicator\")\n            (if this.hideUserInfo \"-user-info-hidden\")\n            (if this.hasReply \"has-reply\")\n          }}\n          data-id={{@message.id}}\n          data-thread-id={{@message.thread.id}}\n          {{didInsert this.didInsertMessage}}\n          {{didUpdate this.didUpdateMessageId @message.id}}\n          {{didUpdate this.didUpdateMessageVersion @message.version}}\n          {{willDestroy this.willDestroyMessage}}\n          {{on \"mouseenter\" this.onMouseEnter passive=true}}\n          {{on \"mouseleave\" this.onMouseLeave passive=true}}\n          {{on \"mousemove\" this.onMouseMove passive=true}}\n          {{this.toggleCheckIfPossible}}\n          {{ChatOnLongPress\n            this.onLongPressStart\n            this.onLongPressEnd\n            this.onLongPressCancel\n          }}\n          ...attributes\n        >\n          {{#if this.show}}\n            {{#if this.pane.selectingMessages}}\n              <Input\n                @type=\"checkbox\"\n                class=\"chat-message-selector\"\n                @checked={{@message.selected}}\n                {{on \"click\" this.toggleChecked}}\n              />\n            {{/if}}\n  \n            {{#if this.deletedAndCollapsed}}\n              <div class=\"chat-message-text -deleted\">\n                <DButton\n                  @action={{this.expand}}\n                  @translatedLabel={{this.deletedMessageLabel}}\n                  class=\"btn-flat chat-message-expand\"\n                />\n              </div>\n            {{else if this.hiddenAndCollapsed}}\n              <div class=\"chat-message-text -hidden\">\n                <DButton\n                  @action={{this.expand}}\n                  @label=\"chat.hidden\"\n                  class=\"btn-flat chat-message-expand\"\n                />\n              </div>\n            {{else}}\n              <div class=\"chat-message\">\n                {{#unless this.hideReplyToInfo}}\n                  <ChatMessageInReplyToIndicator @message={{@message}} />\n                {{/unless}}\n  \n                {{#if this.hideUserInfo}}\n                  <ChatMessageLeftGutter @message={{@message}} />\n                {{else}}\n                  <ChatMessageAvatar @message={{@message}} />\n                {{/if}}\n  \n                <div class=\"chat-message-content\">\n                  <ChatMessageInfo\n                    @message={{@message}}\n                    @show={{not this.hideUserInfo}}\n                  />\n  \n                  <ChatMessageText\n                    @cooked={{@message.cooked}}\n                    @uploads={{@message.uploads}}\n                    @edited={{@message.edited}}\n                  >\n                    {{#if @message.reactions.length}}\n                      <div class=\"chat-message-reaction-list\">\n                        {{#each @message.reactions as |reaction|}}\n                          <ChatMessageReaction\n                            @reaction={{reaction}}\n                            @onReaction={{this.messageInteractor.react}}\n                            @message={{@message}}\n                            @showTooltip={{true}}\n                          />\n                        {{/each}}\n  \n                        {{#if this.shouldRenderOpenEmojiPickerButton}}\n                          <DButton\n                            @action={{this.messageInteractor.openEmojiPicker}}\n                            @icon=\"discourse-emojis\"\n                            @title=\"chat.react\"\n                            @forwardEvent={{true}}\n                            class=\"chat-message-react-btn\"\n                          />\n                        {{/if}}\n                      </div>\n                    {{/if}}\n                  </ChatMessageText>\n  \n                  <ChatMessageError\n                    @message={{@message}}\n                    @onRetry={{@resendStagedMessage}}\n                  />\n                </div>\n  \n                {{#if this.showThreadIndicator}}\n                  <ChatMessageThreadIndicator @message={{@message}} />\n                {{/if}}\n              </div>\n            {{/if}}\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"0cU26ola\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[41,[28,[32,0],[[30,1],\\\"channel\\\"],null],[[[1,\\\"        \\\"],[8,[32,1],null,[[\\\"@fetchMessagesByDate\\\",\\\"@message\\\"],[[30,2],[30,3]]],null],[1,\\\"\\\\n        \\\"],[8,[32,2],null,[[\\\"@message\\\"],[[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[11,0],[16,0,[28,[32,3],[\\\"chat-message-container\\\",[52,[30,0,[\\\"pane\\\",\\\"selectingMessages\\\"]],\\\"-selectable\\\"],[52,[30,3,[\\\"highlighted\\\"]],\\\"-highlighted\\\"],[52,[28,[32,0],[[30,3,[\\\"user\\\",\\\"id\\\"]],[30,0,[\\\"currentUser\\\",\\\"id\\\"]]],null],\\\"is-by-current-user\\\"],[52,[30,3,[\\\"staged\\\"]],\\\"-staged\\\",\\\"-persisted\\\"],[52,[30,3,[\\\"processed\\\"]],\\\"-processed\\\",\\\"-not-processed\\\"],[52,[30,0,[\\\"hasActiveState\\\"]],\\\"-active\\\"],[52,[30,3,[\\\"bookmark\\\"]],\\\"-bookmarked\\\"],[52,[30,3,[\\\"deletedAt\\\"]],\\\"-deleted\\\"],[52,[30,3,[\\\"selected\\\"]],\\\"-selected\\\"],[52,[30,3,[\\\"error\\\"]],\\\"-errored\\\"],[52,[30,0,[\\\"showThreadIndicator\\\"]],\\\"has-thread-indicator\\\"],[52,[30,0,[\\\"hideUserInfo\\\"]],\\\"-user-info-hidden\\\"],[52,[30,0,[\\\"hasReply\\\"]],\\\"has-reply\\\"]],null]],[16,\\\"data-id\\\",[30,3,[\\\"id\\\"]]],[16,\\\"data-thread-id\\\",[30,3,[\\\"thread\\\",\\\"id\\\"]]],[17,4],[4,[32,4],[[30,0,[\\\"didInsertMessage\\\"]]],null],[4,[32,5],[[30,0,[\\\"didUpdateMessageId\\\"]],[30,3,[\\\"id\\\"]]],null],[4,[32,5],[[30,0,[\\\"didUpdateMessageVersion\\\"]],[30,3,[\\\"version\\\"]]],null],[4,[32,6],[[30,0,[\\\"willDestroyMessage\\\"]]],null],[4,[32,7],[\\\"mouseenter\\\",[30,0,[\\\"onMouseEnter\\\"]]],[[\\\"passive\\\"],[true]]],[4,[32,7],[\\\"mouseleave\\\",[30,0,[\\\"onMouseLeave\\\"]]],[[\\\"passive\\\"],[true]]],[4,[32,7],[\\\"mousemove\\\",[30,0,[\\\"onMouseMove\\\"]]],[[\\\"passive\\\"],[true]]],[4,[30,0,[\\\"toggleCheckIfPossible\\\"]],null,null],[4,[32,8],[[30,0,[\\\"onLongPressStart\\\"]],[30,0,[\\\"onLongPressEnd\\\"]],[30,0,[\\\"onLongPressCancel\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"show\\\"]],[[[41,[30,0,[\\\"pane\\\",\\\"selectingMessages\\\"]],[[[1,\\\"            \\\"],[8,[32,9],[[24,0,\\\"chat-message-selector\\\"],[4,[32,7],[\\\"click\\\",[30,0,[\\\"toggleChecked\\\"]]],null]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,3,[\\\"selected\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"deletedAndCollapsed\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-message-text -deleted\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,10],[[24,0,\\\"btn-flat chat-message-expand\\\"]],[[\\\"@action\\\",\\\"@translatedLabel\\\"],[[30,0,[\\\"expand\\\"]],[30,0,[\\\"deletedMessageLabel\\\"]]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,0,[\\\"hiddenAndCollapsed\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-message-text -hidden\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,10],[[24,0,\\\"btn-flat chat-message-expand\\\"]],[[\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"expand\\\"]],\\\"chat.hidden\\\"]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"chat-message\\\"],[12],[1,\\\"\\\\n\\\"],[41,[51,[30,0,[\\\"hideReplyToInfo\\\"]]],[[[1,\\\"                \\\"],[8,[32,11],null,[[\\\"@message\\\"],[[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"hideUserInfo\\\"]],[[[1,\\\"                \\\"],[8,[32,12],null,[[\\\"@message\\\"],[[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[8,[32,13],null,[[\\\"@message\\\"],[[30,3]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n              \\\"],[10,0],[14,0,\\\"chat-message-content\\\"],[12],[1,\\\"\\\\n                \\\"],[8,[32,14],null,[[\\\"@message\\\",\\\"@show\\\"],[[30,3],[28,[32,15],[[30,0,[\\\"hideUserInfo\\\"]]],null]]],null],[1,\\\"\\\\n\\\\n                \\\"],[8,[32,16],null,[[\\\"@cooked\\\",\\\"@uploads\\\",\\\"@edited\\\"],[[30,3,[\\\"cooked\\\"]],[30,3,[\\\"uploads\\\"]],[30,3,[\\\"edited\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"reactions\\\",\\\"length\\\"]],[[[1,\\\"                    \\\"],[10,0],[14,0,\\\"chat-message-reaction-list\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,3],[[28,[31,3],[[30,3,[\\\"reactions\\\"]]],null]],null],null,[[[1,\\\"                        \\\"],[8,[32,17],null,[[\\\"@reaction\\\",\\\"@onReaction\\\",\\\"@message\\\",\\\"@showTooltip\\\"],[[30,5],[30,0,[\\\"messageInteractor\\\",\\\"react\\\"]],[30,3],true]],null],[1,\\\"\\\\n\\\"]],[5]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRenderOpenEmojiPickerButton\\\"]],[[[1,\\\"                        \\\"],[8,[32,10],[[24,0,\\\"chat-message-react-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\",\\\"@forwardEvent\\\"],[[30,0,[\\\"messageInteractor\\\",\\\"openEmojiPicker\\\"]],\\\"discourse-emojis\\\",\\\"chat.react\\\",true]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"                    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"                \\\"]],[]]]]],[1,\\\"\\\\n\\\\n                \\\"],[8,[32,18],null,[[\\\"@message\\\",\\\"@onRetry\\\"],[[30,3],[30,6]]],null],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"showThreadIndicator\\\"]],[[[1,\\\"                \\\"],[8,[32,19],null,[[\\\"@message\\\"],[[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"],[13],[1,\\\"\\\\n          \\\"]],[]]]],[]]]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@context\\\",\\\"@fetchMessagesByDate\\\",\\\"@message\\\",\\\"&attrs\\\",\\\"reaction\\\",\\\"@resendStagedMessage\\\"],false,[\\\"if\\\",\\\"unless\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-message.js\",\n    \"scope\": () => [_eq.default, _chatMessageSeparatorDate.default, _chatMessageSeparatorNew.default, _concatClass.default, _didInsert.default, _didUpdate.default, _willDestroy.default, _modifier.on, _onLongPress.default, _component2.Input, _dButton.default, _chatMessageInReplyToIndicator.default, _leftGutter.default, _avatar.default, _info.default, _not.default, _chatMessageText.default, _chatMessageReaction.default, _error.default, _chatMessageThreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiReactionStore\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"adminTools\", [_optionalService.default], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"expand\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"expand\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleChecked\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleChecked\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"willDestroyMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"willDestroyMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"refreshStatusOnMentions\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"refreshStatusOnMentions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didInsertMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didInsertMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didUpdateMessageId\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didUpdateMessageId\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didUpdateMessageVersion\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didUpdateMessageVersion\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"decorateCookedMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"decorateCookedMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"initMentionedUsers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"initMentionedUsers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseEnter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseMove\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseMove\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMouseLeave\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onMouseLeave\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_debouncedOnHoverMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_debouncedOnHoverMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLongPressStart\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onLongPressStart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLongPressCancel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onLongPressCancel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLongPressEnd\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onLongPressEnd\"), _class.prototype)), _class);\n  function _teardownMentionedUsers2() {\n    this.args.message.mentionedUsers.forEach(user1 => {\n      user1.stopTrackingStatus();\n      user1.off(\"status-changed\", this, \"refreshStatusOnMentions\");\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-notice\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/plugins/chat/discourse/components/chat/notices/mention_without_membership\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _mention_without_membership, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const COMPONENT_DICT = {\n    mention_without_membership: _mention_without_membership.default\n  };\n  let ChatNotices = _exports.default = (_dec = (0, _service.inject)(\"chat-channel-notices-manager\"), (_class = (_class2 = class ChatNotices extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"noticesManager\", _descriptor, this);\n    }\n    clearNotice() {\n      this.noticesManager.clearNotice(this.args.notice);\n    }\n    get component() {\n      return COMPONENT_DICT[this.args.notice.type];\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-notices__notice\">\n  \n        {{#if @notice.textContent}}\n          <p class=\"chat-notices__notice__content\">\n            {{@notice.textContent}}\n          </p>\n        {{else}}\n          <this.component\n            @channel={{@channel}}\n            @notice={{@notice}}\n            @clearNotice={{this.clearNotice}}\n          />\n        {{/if}}\n  \n        <DButton\n          @icon=\"times\"\n          @action={{this.clearNotice}}\n          class=\"btn-flat chat-notices__notice__clear\"\n        />\n      </div>\n    \n  */\n  {\n    \"id\": \"41ZrfDlf\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-notices__notice\\\"],[12],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"textContent\\\"]],[[[1,\\\"        \\\"],[10,2],[14,0,\\\"chat-notices__notice__content\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,1,[\\\"textContent\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[8,[30,0,[\\\"component\\\"]],null,[[\\\"@channel\\\",\\\"@notice\\\",\\\"@clearNotice\\\"],[[30,2],[30,1],[30,0,[\\\"clearNotice\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n      \\\"],[8,[32,0],[[24,0,\\\"btn-flat chat-notices__notice__clear\\\"]],[[\\\"@icon\\\",\\\"@action\\\"],[\\\"times\\\",[30,0,[\\\"clearNotice\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@notice\\\",\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-notice.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"noticesManager\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"clearNotice\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"clearNotice\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat-notices\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat-notice\", \"discourse/plugins/chat/discourse/components/chat-retention-reminder\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _chatNotice, _chatRetentionReminder, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNotices = _exports.default = (_dec = (0, _service.inject)(\"chat-channel-notices-manager\"), (_class = (_class2 = class ChatNotices extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"noticesManager\", _descriptor, this);\n    }\n    get noticesForChannel() {\n      return this.noticesManager.notices.filter(notice1 => notice1.channelId === this.args.channel.id);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-notices\">\n        <ChatRetentionReminder @channel={{@channel}} />\n  \n        {{#each this.noticesForChannel as |notice|}}\n          <ChatNotice @notice={{notice}} @channel={{@channel}} />\n        {{/each}}\n      </div>\n    \n  */\n  {\n    \"id\": \"7fwhHL4t\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-notices\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,0,[\\\"noticesForChannel\\\"]]],null]],null],null,[[[1,\\\"        \\\"],[8,[32,1],null,[[\\\"@notice\\\",\\\"@channel\\\"],[[30,2],[30,1]]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\",\\\"notice\\\"],false,[\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-notices.js\",\n    \"scope\": () => [_chatRetentionReminder.default, _chatNotice.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"noticesManager\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat-replying-indicator\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/service\", \"@ember/utils\", \"discourse/helpers/concat-class\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _didInsert, _didUpdate, _willDestroy, _service, _utils, _concatClass, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatReplyingIndicator = _exports.default = (_class = (_class2 = class ChatReplyingIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"presence\", _descriptor2, this);\n      _initializerDefineProperty(this, \"presenceChannel\", _descriptor3, this);\n    }\n    async updateSubscription() {\n      await this.unsubscribe();\n      await this.subscribe();\n    }\n    async subscribe() {\n      this.presenceChannel = this.presence.getChannel(this.args.presenceChannelName);\n      await this.presenceChannel.subscribe();\n    }\n    async unsubscribe() {\n      if (this.presenceChannel?.subscribed) {\n        await this.presenceChannel.unsubscribe();\n      }\n    }\n    get users() {\n      return this.presenceChannel?.get(\"users\")?.filter(u1 => u1.id !== this.currentUser.id) || [];\n    }\n    get usernames() {\n      return this.users.mapBy(\"username\");\n    }\n    get text() {\n      if (this.usernames.length === 1) {\n        return _discourseI18n.default.t(\"chat.replying_indicator.single_user\", {\n          username: this.usernames[0]\n        });\n      }\n      if (this.usernames.length < 4) {\n        const lastUsername1 = this.usernames[this.usernames.length - 1];\n        const commaSeparatedUsernames1 = this.usernames.slice(0, this.usernames.length - 1).join(_discourseI18n.default.t(\"word_connector.comma\"));\n        return _discourseI18n.default.t(\"chat.replying_indicator.multiple_users\", {\n          commaSeparatedUsernames: commaSeparatedUsernames1,\n          lastUsername: lastUsername1\n        });\n      }\n      const commaSeparatedUsernames1 = this.usernames.slice(0, 2).join(_discourseI18n.default.t(\"word_connector.comma\"));\n      return _discourseI18n.default.t(\"chat.replying_indicator.many_users\", {\n        commaSeparatedUsernames: commaSeparatedUsernames1,\n        count: this.usernames.length - 2\n      });\n    }\n    get shouldRender() {\n      return (0, _utils.isPresent)(this.usernames);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @presenceChannelName}}\n        <div\n          class={{concatClass\n            \"chat-replying-indicator\"\n            (if this.presenceChannel.subscribed \"is-subscribed\")\n          }}\n          {{didInsert this.subscribe}}\n          {{didUpdate this.updateSubscription @presenceChannelName}}\n          {{willDestroy this.unsubscribe}}\n        >\n          {{#if this.shouldRender}}\n            <span class=\"chat-replying-indicator__text\">{{this.text}}</span>\n            <span class=\"chat-replying-indicator__wave\">\n              <span class=\"chat-replying-indicator__dot\">.</span>\n              <span class=\"chat-replying-indicator__dot\">.</span>\n              <span class=\"chat-replying-indicator__dot\">.</span>\n            </span>\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"sEFDJy6P\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-replying-indicator\\\",[52,[30,0,[\\\"presenceChannel\\\",\\\"subscribed\\\"]],\\\"is-subscribed\\\"]],null]],[4,[32,1],[[30,0,[\\\"subscribe\\\"]]],null],[4,[32,2],[[30,0,[\\\"updateSubscription\\\"]],[30,1]],null],[4,[32,3],[[30,0,[\\\"unsubscribe\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-replying-indicator__text\\\"],[12],[1,[30,0,[\\\"text\\\"]]],[13],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-replying-indicator__wave\\\"],[12],[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-replying-indicator__dot\\\"],[12],[1,\\\".\\\"],[13],[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-replying-indicator__dot\\\"],[12],[1,\\\".\\\"],[13],[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-replying-indicator__dot\\\"],[12],[1,\\\".\\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@presenceChannelName\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-replying-indicator.js\",\n    \"scope\": () => [_concatClass.default, _didInsert.default, _didUpdate.default, _willDestroy.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"presence\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"presenceChannel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"updateSubscription\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateSubscription\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"subscribe\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"subscribe\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"unsubscribe\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"unsubscribe\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-retention-reminder-text\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2, _countForChannelType;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRetentionReminderText = _exports.default = (_class = (_countForChannelType = /*#__PURE__*/new WeakMap(), (_class2 = class ChatRetentionReminderText extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateFieldInitSpec(this, _countForChannelType, {\n        get: _get_countForChannelType,\n        set: void 0\n      });\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n    }\n    get type() {\n      return this.args.type ?? \"long\";\n    }\n    get text() {\n      if (this.args.channel.isDirectMessageChannel) {\n        if (_classPrivateFieldGet(this, _countForChannelType) > 0) {\n          return _discourseI18n.default.t(`chat.retention_reminders.${this.type}`, {\n            count: this.siteSettings.chat_dm_retention_days\n          });\n        } else {\n          return _discourseI18n.default.t(`chat.retention_reminders.indefinitely_${this.type}`);\n        }\n      } else {\n        if (_classPrivateFieldGet(this, _countForChannelType) > 0) {\n          return _discourseI18n.default.t(`chat.retention_reminders.${this.type}`, {\n            count: this.siteSettings.chat_channel_retention_days\n          });\n        } else {\n          return _discourseI18n.default.t(`chat.retention_reminders.indefinitely_${this.type}`);\n        }\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <span class=\"chat-retention-reminder-text\">\n        {{this.text}}\n      </span>\n    \n  */\n  {\n    \"id\": \"NqjXhW5H\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,1],[14,0,\\\"chat-retention-reminder-text\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[30,0,[\\\"text\\\"]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-retention-reminder-text.js\",\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _get_countForChannelType() {\n    return this.args.channel.isDirectMessageChannel ? this.siteSettings.chat_dm_retention_days : this.siteSettings.chat_channel_retention_days;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-retention-reminder\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse/plugins/chat/discourse/components/chat-retention-reminder-text\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _ajax, _ajaxError, _chatRetentionReminderText, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRetentionReminder = _exports.default = (_class = (_class2 = class ChatRetentionReminder extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n    }\n    get show() {\n      return this.args.channel?.isDirectMessageChannel && this.currentUser?.get(\"needs_dm_retention_reminder\") || this.args.channel?.isCategoryChannel && this.currentUser?.get(\"needs_channel_retention_reminder\");\n    }\n    async dismiss() {\n      try {\n        await (0, _ajax.ajax)(\"/chat/dismiss-retention-reminder\", {\n          method: \"POST\",\n          data: {\n            chatable_type: this.args.channel.chatableType\n          }\n        });\n        const field1 = this.args.channel.isDirectMessageChannel ? \"needs_dm_retention_reminder\" : \"needs_channel_retention_reminder\";\n        this.currentUser.set(field1, false);\n      } catch (e1) {\n        (0, _ajaxError.popupAjaxError)(e1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.show}}\n        <div class=\"chat-retention-reminder\">\n          <ChatRetentionReminderText @channel={{@channel}} />\n          <DButton\n            @action={{this.dismiss}}\n            @icon=\"times\"\n            class=\"btn no-text btn-icon btn-flat no-text dismiss-btn\"\n          />\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"YDt8w5/c\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"show\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-retention-reminder\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n        \\\"],[8,[32,1],[[24,0,\\\"btn no-text btn-icon btn-flat no-text dismiss-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\"],[[30,0,[\\\"dismiss\\\"]],\\\"times\\\"]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-retention-reminder.js\",\n    \"scope\": () => [_chatRetentionReminderText.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"dismiss\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"dismiss\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-side-panel-resizer\", [\"exports\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatSidePanelResizer = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-side-panel-resizer\"></div>\n  \n  */\n  {\n    \"id\": \"brtCnjNY\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-side-panel-resizer\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-side-panel-resizer.js\",\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatSidePanelResizer;\n});","define(\"discourse/plugins/chat/discourse/components/chat-side-panel\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/service\", \"@ember/template\", \"truth-helpers/helpers/and\", \"discourse/plugins/chat/discourse/modifiers/chat/resizable-node\", \"discourse/plugins/chat/discourse/components/chat-side-panel-resizer\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _object, _didInsert, _service, _template, _and, _resizableNode, _chatSidePanelResizer, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2, _maxWidth;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const MIN_CHAT_CHANNEL_WIDTH = 250;\n  let ChatSidePanel = _exports.default = (_class = (_maxWidth = /*#__PURE__*/new WeakSet(), (_class2 = class ChatSidePanel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _maxWidth);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatSidePanelSize\", _descriptor2, this);\n      _initializerDefineProperty(this, \"site\", _descriptor3, this);\n      _initializerDefineProperty(this, \"widthStyle\", _descriptor4, this);\n    }\n    setupSize() {\n      this.widthStyle = (0, _template.htmlSafe)(`width:${this.chatSidePanelSize.width}px`);\n    }\n    didResize(element1, size1) {\n      if (this.isDestroying || this.isDestroyed) {\n        return;\n      }\n      const parentWidth1 = element1.parentElement.getBoundingClientRect().width;\n      const mainPanelWidth1 = parentWidth1 - size1.width;\n      if (mainPanelWidth1 >= MIN_CHAT_CHANNEL_WIDTH) {\n        this.chatSidePanelSize.width = size1.width;\n        element1.style.width = size1.width + \"px\";\n        this.widthStyle = (0, _template.htmlSafe)(`width:${size1.width}px`);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.chatStateManager.isSidePanelExpanded}}\n        <div\n          class=\"chat-side-panel\"\n          {{didInsert this.setupSize}}\n          {{resizableNode\n            \".chat-side-panel-resizer\"\n            this.didResize\n            (hash\n              position=false vertical=false mutate=false resetOnWindowResize=true\n            )\n          }}\n          style={{if\n            (and this.site.desktopView this.chatStateManager.isFullPageActive)\n            this.widthStyle\n          }}\n        >\n          {{yield}}\n  \n          {{#if this.site.desktopView}}\n            <ChatSidePanelResizer />\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"xFuspm1W\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isSidePanelExpanded\\\"]],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-side-panel\\\"],[16,5,[52,[28,[32,0],[[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[30,0,[\\\"chatStateManager\\\",\\\"isFullPageActive\\\"]]],null],[30,0,[\\\"widthStyle\\\"]]]],[4,[32,1],[[30,0,[\\\"setupSize\\\"]]],null],[4,[32,2],[\\\".chat-side-panel-resizer\\\",[30,0,[\\\"didResize\\\"]],[28,[32,3],null,[[\\\"position\\\",\\\"vertical\\\",\\\"mutate\\\",\\\"resetOnWindowResize\\\"],[false,false,false,true]]]],null],[12],[1,\\\"\\\\n        \\\"],[18,1,null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[[[1,\\\"          \\\"],[8,[32,4],null,null,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-side-panel.js\",\n    \"scope\": () => [_and.default, _didInsert.default, _resizableNode.default, _helper.hash, _chatSidePanelResizer.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatSidePanelSize\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"widthStyle\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"setupSize\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setupSize\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didResize\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didResize\"), _class.prototype)), _class);\n  function _maxWidth2(element1) {\n    const parentWidth1 = element1.parentElement.getBoundingClientRect().width;\n    return parentWidth1 - MIN_CHAT_CHANNEL_WIDTH;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-skeleton\", [\"exports\", \"@glimmer/component\", \"@ember/template\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _template, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _randomIntFromInterval = /*#__PURE__*/new WeakSet();\n  class ChatSkeleton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _randomIntFromInterval);\n    }\n    get placeholders() {\n      return Array.from({\n        length: 15\n      }, () => {\n        return {\n          image: _classPrivateMethodGet(this, _randomIntFromInterval, _randomIntFromInterval2).call(this, 1, 10) === 5,\n          rows: Array.from({\n            length: _classPrivateMethodGet(this, _randomIntFromInterval, _randomIntFromInterval2).call(this, 1, 5)\n          }, () => {\n            return (0, _template.htmlSafe)(`width: ${_classPrivateMethodGet(this, _randomIntFromInterval, _randomIntFromInterval2).call(this, 20, 95)}%`);\n          }),\n          reactions: Array.from({\n            length: _classPrivateMethodGet(this, _randomIntFromInterval, _randomIntFromInterval2).call(this, 0, 3)\n          })\n        };\n      });\n    }\n  }\n  _exports.default = ChatSkeleton;\n  _class = ChatSkeleton;\n  function _randomIntFromInterval2(min1, max1) {\n    return Math.floor(Math.random() * (max1 - min1 + 1) + min1);\n  }\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-skeleton -animation\">\n        {{#each this.placeholders as |placeholder|}}\n          <div class=\"chat-skeleton__body\">\n            <div class=\"chat-skeleton__message\">\n              <div class=\"chat-skeleton__message-avatar\"></div>\n              <div class=\"chat-skeleton__message-poster\"></div>\n              <div class=\"chat-skeleton__message-content\">\n                {{#if placeholder.image}}\n                  <div class=\"chat-skeleton__message-img\"></div>\n                {{/if}}\n  \n                <div class=\"chat-skeleton__message-text\">\n                  {{#each placeholder.rows as |row|}}\n                    <div class=\"chat-skeleton__message-msg\" style={{row}}></div>\n                  {{/each}}\n                </div>\n  \n                {{#if placeholder.reactions}}\n                  <div class=\"chat-skeleton__message-reactions\">\n                    {{#each placeholder.reactions}}\n                      <div class=\"chat-skeleton__message-reaction\"></div>\n                    {{/each}}\n                  </div>\n                {{/if}}\n              </div>\n            </div>\n          </div>\n        {{/each}}\n      </div>\n    \n  */\n  {\n    \"id\": \"T00BLXuP\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-skeleton -animation\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,0,[\\\"placeholders\\\"]]],null]],null],null,[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-skeleton__body\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-skeleton__message\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-skeleton__message-avatar\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-skeleton__message-poster\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-skeleton__message-content\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"image\\\"]],[[[1,\\\"                \\\"],[10,0],[14,0,\\\"chat-skeleton__message-img\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n              \\\"],[10,0],[14,0,\\\"chat-skeleton__message-text\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,1,[\\\"rows\\\"]]],null]],null],null,[[[1,\\\"                  \\\"],[10,0],[14,0,\\\"chat-skeleton__message-msg\\\"],[15,5,[30,2]],[12],[13],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"              \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"reactions\\\"]],[[[1,\\\"                \\\"],[10,0],[14,0,\\\"chat-skeleton__message-reactions\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,1,[\\\"reactions\\\"]]],null]],null],null,[[[1,\\\"                    \\\"],[10,0],[14,0,\\\"chat-skeleton__message-reaction\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"                \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[1]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"placeholder\\\",\\\"row\\\"],false,[\\\"each\\\",\\\"-track-array\\\",\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-skeleton.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-thread-list\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/service\", \"ember-modifier\", \"discourse/components/conditional-loading-spinner\", \"discourse/lib/is-element-in-viewport\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"truth-helpers/helpers/eq\", \"discourse/plugins/chat/discourse/components/chat/thread-list/item\", \"discourse/plugins/chat/discourse/modifiers/chat/track-message\", \"ember-this-fallback/deprecations-helper\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _service, _emberModifier, _conditionalLoadingSpinner, _isElementInViewport, _decorators, _discourseI18n, _eq, _item, _trackMessage, _deprecationsHelper, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadList = _exports.default = (_class = (_class2 = class ChatThreadList extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"messageBus\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor4, this);\n      _defineProperty(this, \"noThreadsLabel\", _discourseI18n.default.t(\"chat.threads.none\"));\n      _defineProperty(this, \"subscribe\", (0, _emberModifier.modifier)((element1, [channel1]) => {\n        this.messageBus.subscribe(`/chat/${channel1.id}`, this.onMessageBus, channel1.channelMessageBusLastId);\n        return () => {\n          // TODO (joffrey) In drawer we won't have channel anymore at this point\n          if (!channel1) {\n            return;\n          }\n          this.messageBus.unsubscribe(`/chat/${channel1.id}`, this.onMessageBus);\n        };\n      }));\n      _defineProperty(this, \"fill\", (0, _emberModifier.modifier)(element1 => {\n        this.resizeObserver = new ResizeObserver(() => {\n          if ((0, _isElementInViewport.default)(element1)) {\n            this.loadThreads();\n          }\n        });\n        this.resizeObserver.observe(element1);\n        return () => {\n          this.resizeObserver.disconnect();\n        };\n      }));\n      _defineProperty(this, \"loadMore\", (0, _emberModifier.modifier)(element1 => {\n        this.intersectionObserver = new IntersectionObserver(this.loadThreads);\n        this.intersectionObserver.observe(element1);\n        return () => {\n          this.intersectionObserver.disconnect();\n        };\n      }));\n    }\n    get threadsCollection() {\n      return this.chatApi.threads(this.args.channel.id, this.handleLoadedThreads);\n    }\n    loadThreads() {\n      this.threadsCollection.load({\n        limit: 10\n      });\n    }\n    get threadsManager() {\n      return this.args.channel.threadsManager;\n    }\n    // NOTE: This replicates sort logic from the server. We need this because\n    // the thread unread count + last reply date + time update when new messages\n    // are sent to the thread, and we want the list to react in realtime to this.\n    get sortedThreads() {\n      return this.threadsManager.threads.filter(thread1 => !thread1.originalMessage.deletedAt).sort((threadA1, threadB1) => {\n        // If both are unread we just want to sort by last reply date + time descending.\n        if (threadA1.tracking.unreadCount && threadB1.tracking.unreadCount) {\n          if (threadA1.preview.lastReplyCreatedAt > threadB1.preview.lastReplyCreatedAt) {\n            return -1;\n          } else {\n            return 1;\n          }\n        }\n        // If one is unread and the other is not, we want to sort the unread one first.\n        if (threadA1.tracking.unreadCount) {\n          return -1;\n        }\n        if (threadB1.tracking.unreadCount) {\n          return 1;\n        }\n        // If both are read, we want to sort by last reply date + time descending.\n        if (threadA1.preview.lastReplyCreatedAt > threadB1.preview.lastReplyCreatedAt) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n    }\n    get lastThread() {\n      return this.sortedThreads[this.sortedThreads.length - 1];\n    }\n    get shouldRender() {\n      return !!this.args.channel;\n    }\n    onMessageBus(busData1) {\n      switch (busData1.type) {\n        case \"delete\":\n          this.handleDeleteMessage(busData1);\n          break;\n        case \"restore\":\n          this.handleRestoreMessage(busData1);\n          break;\n      }\n    }\n    handleDeleteMessage(data1) {\n      const deletedOriginalMessageThread1 = this.threadsManager.threads.findBy(\"originalMessage.id\", data1.deleted_id);\n      if (!deletedOriginalMessageThread1) {\n        return;\n      }\n      deletedOriginalMessageThread1.originalMessage.deletedAt = new Date();\n    }\n    handleRestoreMessage(data1) {\n      const restoredOriginalMessageThread1 = this.threadsManager.threads.findBy(\"originalMessage.id\", data1.chat_message.id);\n      if (!restoredOriginalMessageThread1) {\n        return;\n      }\n      restoredOriginalMessageThread1.originalMessage.deletedAt = null;\n    }\n    handleLoadedThreads(result1) {\n      return result1.threads.map(thread1 => {\n        const threadModel1 = this.threadsManager.add(this.args.channel, thread1, {\n          replace: true\n        });\n        this.chatTrackingStateManager.setupChannelThreadState(this.args.channel, result1.tracking);\n        return threadModel1;\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <div class=\"chat-thread-list\" {{this.subscribe @channel}}>\n          <div class=\"chat-thread-list__items\" {{this.fill}}>\n  \n            {{#each this.sortedThreads key=\"id\" as |thread|}}\n              <ChatThreadListItem\n                @thread={{thread}}\n                {{(if\n                  (eq thread this.lastThread)\n                  (modifier ChatTrackMessage this.load)\n                )}}\n              />\n            {{else}}\n              {{#if this.threadsCollection.fetchedOnce}}\n                <div class=\"chat-thread-list__no-threads\">\n                  {{this.noThreadsLabel}}\n                </div>\n              {{/if}}\n            {{/each}}\n  \n            <ConditionalLoadingSpinner\n              @condition={{this.threadsCollection.loading}}\n            />\n  \n            <div {{this.loadMore}}>\n              <br />\n            </div>\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"1aEs5xvs\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-thread-list\\\"],[4,[30,0,[\\\"subscribe\\\"]],[[30,1]],null],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-thread-list__items\\\"],[4,[30,0,[\\\"fill\\\"]],null,null],[12],[1,\\\"\\\\n\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"sortedThreads\\\"]]],null]],null],\\\"id\\\",[[[1,\\\"            \\\"],[8,[32,0],[[4,[52,[28,[32,1],[[30,2],[30,0,[\\\"lastThread\\\"]]],null],[50,[30,0,[\\\"ChatTrackMessage\\\"]],2,[[30,0,[\\\"load\\\"]]],null]],null,null]],[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n\\\"]],[2]],[[[41,[30,0,[\\\"threadsCollection\\\",\\\"fetchedOnce\\\"]],[[[1,\\\"              \\\"],[10,0],[14,0,\\\"chat-thread-list__no-threads\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[30,0,[\\\"noThreadsLabel\\\"]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[]]],[1,\\\"\\\\n          \\\"],[8,[32,2],null,[[\\\"@condition\\\"],[[30,0,[\\\"threadsCollection\\\",\\\"loading\\\"]]]],null],[1,\\\"\\\\n\\\\n          \\\"],[11,0],[4,[30,0,[\\\"loadMore\\\"]],null,null],[12],[1,\\\"\\\\n            \\\"],[10,\\\"br\\\"],[12],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"],[1,[28,[32,3],[\\\"[[\\\\\\\"The `ChatTrackMessage` property path was used in the `/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-thread-list.js` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.ChatTrackMessage}}\\\\\\\",false,{\\\\\\\"id\\\\\\\":\\\\\\\"ember-this-fallback.this-property-fallback\\\\\\\",\\\\\\\"until\\\\\\\":\\\\\\\"n/a\\\\\\\",\\\\\\\"for\\\\\\\":\\\\\\\"ember-this-fallback\\\\\\\",\\\\\\\"url\\\\\\\":\\\\\\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\\\\\\",\\\\\\\"since\\\\\\\":{\\\\\\\"available\\\\\\\":\\\\\\\"0.2.0\\\\\\\"}}]]\\\"],null]]],[\\\"@channel\\\",\\\"thread\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\",\\\"modifier\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-thread-list.js\",\n    \"scope\": () => [_item.default, _eq.default, _conditionalLoadingSpinner.default, _deprecationsHelper.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"messageBus\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"threadsCollection\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"threadsCollection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"loadThreads\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"loadThreads\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"sortedThreads\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"sortedThreads\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMessageBus\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onMessageBus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleLoadedThreads\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleLoadedThreads\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-thread-participants\", [\"exports\", \"@glimmer/component\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _discourseI18n, _chatUserAvatar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatThreadParticipants extends _component.default {\n    get showParticipants() {\n      if (!this.args.thread) {\n        return;\n      }\n      if (this.includeOriginalMessageUser) {\n        return this.participantsUsers.length > 1;\n      }\n      return this.participantsUsers.length > 0;\n    }\n    get includeOriginalMessageUser() {\n      return this.args.includeOriginalMessageUser ?? true;\n    }\n    get participantsUsers() {\n      const users1 = this.args.thread.preview.participantUsers;\n      if (this.includeOriginalMessageUser) {\n        if (users1.length > 3) {\n          return users1.slice(0, 2).concat(users1[users1.length - 1]);\n        } else {\n          return users1;\n        }\n      }\n      return users1.filter(user1 => {\n        return user1.id !== this.args.thread.originalMessage.user.id;\n      });\n    }\n    get otherCountLabel() {\n      return _discourseI18n.default.t(\"chat.thread.participants_other_count\", {\n        count: this.args.thread.preview.otherParticipantCount\n      });\n    }\n  }\n  _exports.default = ChatThreadParticipants;\n  _class = ChatThreadParticipants;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showParticipants}}\n        <div class=\"chat-thread-participants\" ...attributes>\n          <div class=\"chat-thread-participants__avatar-group\">\n            {{#each this.participantsUsers as |user|}}\n              <ChatUserAvatar\n                @user={{user}}\n                @avatarSize=\"tiny\"\n                @showPresence={{false}}\n                @interactive={{false}}\n              />\n            {{/each}}\n          </div>\n          {{#if @thread.preview.otherParticipantCount}}\n            <div class=\"chat-thread-participants__other-count\">\n              {{this.otherCountLabel}}\n            </div>\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"2IKXzvFb\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showParticipants\\\"]],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-thread-participants\\\"],[17,1],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-thread-participants__avatar-group\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"participantsUsers\\\"]]],null]],null],null,[[[1,\\\"            \\\"],[8,[32,0],null,[[\\\"@user\\\",\\\"@avatarSize\\\",\\\"@showPresence\\\",\\\"@interactive\\\"],[[30,2],\\\"tiny\\\",false,false]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"preview\\\",\\\"otherParticipantCount\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-thread-participants__other-count\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,0,[\\\"otherCountLabel\\\"]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"&attrs\\\",\\\"user\\\",\\\"@thread\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-thread-participants.js\",\n    \"scope\": () => [_chatUserAvatar.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-thread-tracking-dropdown\", [\"exports\", \"select-kit/components/notifications-button\", \"discourse/plugins/chat/discourse/lib/chat-notification-levels\"], function (_exports, _notificationsButton, _chatNotificationLevels) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = _notificationsButton.default.extend({\n    pluginApiIdentifiers: [\"thread-notifications-button\"],\n    classNames: [\"thread-notifications-button\"],\n    content: _chatNotificationLevels.threadNotificationButtonLevels,\n    selectKitOptions: {\n      i18nPrefix: \"chat.thread.notifications\",\n      showFullTitle: false,\n      btnCustomClasses: \"btn-flat\"\n    }\n  });\n});","define(\"discourse/plugins/chat/discourse/components/chat-thread\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/runloop\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse/lib/desktop-notifications\", \"discourse/lib/notification-levels\", \"discourse-common/lib/debounce\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/lib/chat-channel-thread-subscription-manager\", \"discourse/plugins/chat/discourse/lib/chat-constants\", \"discourse/plugins/chat/discourse/lib/chat-ios-hacks\", \"discourse/plugins/chat/discourse/lib/chat-messages-loader\", \"discourse/plugins/chat/discourse/lib/scroll-helpers\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/user-chat-thread-membership\", \"discourse/plugins/chat/discourse/modifiers/chat/on-resize\", \"discourse/plugins/chat/discourse/modifiers/chat/scrollable-list\", \"discourse/plugins/chat/discourse/components/chat/composer/thread\", \"discourse/plugins/chat/discourse/components/chat/scroll-to-bottom-arrow\", \"discourse/plugins/chat/discourse/components/chat/selection-manager\", \"discourse/plugins/chat/discourse/components/chat-message\", \"discourse/plugins/chat/discourse/components/chat-skeleton\", \"discourse/plugins/chat/discourse/components/chat-upload-drop-zone\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _application, _helper, _object, _didInsert, _willDestroy, _runloop, _service, _concatClass, _ajaxError, _desktopNotifications, _notificationLevels, _debounce, _decorators, _chatChannelThreadSubscriptionManager, _chatConstants, _chatIosHacks, _chatMessagesLoader, _scrollHelpers, _chatMessage, _userChatThreadMembership, _onResize, _scrollableList, _thread, _scrollToBottomArrow, _selectionManager, _chatMessage2, _chatSkeleton, _chatUploadDropZone, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _class2, _sendNewMessage, _sendEditMessage, _onSendError, _flushIgnoreNextScroll;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThread = _exports.default = (_class = (_sendNewMessage = /*#__PURE__*/new WeakSet(), _sendEditMessage = /*#__PURE__*/new WeakSet(), _onSendError = /*#__PURE__*/new WeakSet(), _flushIgnoreNextScroll = /*#__PURE__*/new WeakSet(), (_class2 = class ChatThread extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _flushIgnoreNextScroll);\n      _classPrivateMethodInitSpec(this, _onSendError);\n      _classPrivateMethodInitSpec(this, _sendEditMessage);\n      _classPrivateMethodInitSpec(this, _sendNewMessage);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chatComposerPresenceManager\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chatHistory\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor7, this);\n      _initializerDefineProperty(this, \"chatThreadComposer\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatThreadPane\", _descriptor9, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor10, this);\n      _initializerDefineProperty(this, \"router\", _descriptor11, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor12, this);\n      _initializerDefineProperty(this, \"isAtBottom\", _descriptor13, this);\n      _initializerDefineProperty(this, \"isScrolling\", _descriptor14, this);\n      _initializerDefineProperty(this, \"needsArrow\", _descriptor15, this);\n      _initializerDefineProperty(this, \"uploadDropZone\", _descriptor16, this);\n      _defineProperty(this, \"scrollable\", null);\n    }\n    resetIdle() {\n      (0, _desktopNotifications.resetIdle)();\n    }\n    get messagesLoader() {\n      return new _chatMessagesLoader.default((0, _application.getOwner)(this), this.args.thread);\n    }\n    get messagesManager() {\n      return this.args.thread.messagesManager;\n    }\n    handleKeydown(event1) {\n      if (event1.key === \"Escape\") {\n        return this.router.transitionTo(\"chat.channel\", ...this.args.thread.channel.routeModels);\n      }\n    }\n    setup(element1) {\n      this.uploadDropZone = element1;\n      this.messagesManager.clear();\n      this.args.thread.draft = this.chatDraftsManager.get(this.args.thread.channel?.id, this.args.thread.id) || _chatMessage.default.createDraftMessage(this.args.thread.channel, {\n        user: this.currentUser,\n        thread: this.args.thread\n      });\n      this.chatThreadComposer.focus();\n      this.loadMessages();\n    }\n    teardown() {\n      this.subscriptionManager.teardown();\n      (0, _runloop.cancel)(this._debouncedFillPaneAttemptHandler);\n      (0, _runloop.cancel)(this._debounceUpdateLastReadMessageHandler);\n    }\n    onScroll(state1) {\n      (0, _runloop.next)(() => {\n        if (_classPrivateMethodGet(this, _flushIgnoreNextScroll, _flushIgnoreNextScroll2).call(this)) {\n          return;\n        }\n        (0, _chatIosHacks.bodyScrollFix)();\n        this.needsArrow = this.messagesLoader.fetchedOnce && this.messagesLoader.canLoadMoreFuture || state1.distanceToBottom.pixels > 250 && !state1.atBottom;\n        this.isScrolling = true;\n        this.debounceUpdateLastReadMessage();\n        if (state1.atTop || !this.capabilities.isIOS && state1.up && state1.distanceToTop.percentage < 40) {\n          this.fetchMoreMessages({\n            direction: _chatConstants.PAST\n          });\n        } else if (state1.atBottom) {\n          this.fetchMoreMessages({\n            direction: _chatConstants.FUTURE\n          });\n        }\n      });\n    }\n    onScrollEnd(state1) {\n      this.needsArrow = this.messagesLoader.fetchedOnce && this.messagesLoader.canLoadMoreFuture || state1.distanceToBottom.pixels > 250 && !state1.atBottom;\n      this.isScrolling = false;\n      this.resetIdle();\n      this.atBottom = state1.atBottom;\n      if (state1.atBottom) {\n        this.fetchMoreMessages({\n          direction: _chatConstants.FUTURE\n        });\n      }\n    }\n    debounceUpdateLastReadMessage() {\n      this._debounceUpdateLastReadMessageHandler = (0, _debounce.default)(this, this.updateLastReadMessage, _chatConstants.READ_INTERVAL_MS);\n    }\n    updateLastReadMessage() {\n      // HACK: We don't have proper scroll visibility over\n      // what message we are looking at, don't have the lastReadMessageId\n      // for the thread, and this updateLastReadMessage function is only\n      // called when scrolling all the way to the bottom.\n      this.markThreadAsRead();\n    }\n    setScrollable(element1) {\n      this.scrollable = element1;\n    }\n    loadMessages() {\n      this.fetchMessages();\n      this.subscriptionManager = new _chatChannelThreadSubscriptionManager.default(this, this.args.thread, {\n        onNewMessage: this.onNewMessage\n      });\n    }\n    didResizePane() {\n      this._ignoreNextScroll = true;\n      this.debounceFillPaneAttempt();\n      this.debounceUpdateLastReadMessage();\n    }\n    async fetchMessages(findArgs1 = {}) {\n      if (this.messagesLoader.loading) {\n        return;\n      }\n      this.messagesManager.clear();\n      findArgs1.targetMessageId ??= this.args.targetMessageId || this.args.thread.currentUserMembership?.lastReadMessageId;\n      if (!findArgs1.targetMessageId) {\n        findArgs1.direction = _chatConstants.FUTURE;\n      }\n      const result1 = await this.messagesLoader.load(findArgs1);\n      if (!result1) {\n        return;\n      }\n      const [messages1, meta1] = this.processMessages(this.args.thread, result1);\n      (0, _chatIosHacks.stackingContextFix)(this.scrollable, () => {\n        this.messagesManager.addMessages(messages1);\n      });\n      this.args.thread.details = meta1;\n      if (this.args.targetMessageId) {\n        this.scrollToMessageId(this.args.targetMessageId, {\n          highlight: true\n        });\n      } else if (this.args.thread.currentUserMembership?.lastReadMessageId) {\n        this.scrollToMessageId(this.args.thread.currentUserMembership?.lastReadMessageId);\n      } else {\n        this.scrollToTop();\n      }\n      this.debounceFillPaneAttempt();\n    }\n    async fetchMoreMessages({\n      direction: direction1\n    }) {\n      if (this.messagesLoader.loading) {\n        return;\n      }\n      const result1 = await this.messagesLoader.loadMore({\n        direction: direction1\n      });\n      if (!result1) {\n        return;\n      }\n      const [messages1, meta1] = this.processMessages(this.args.thread, result1);\n      if (!messages1?.length) {\n        return;\n      }\n      (0, _chatIosHacks.stackingContextFix)(this.scrollable, () => {\n        this.messagesManager.addMessages(messages1);\n      });\n      this.args.thread.details = meta1;\n      if (direction1 === _chatConstants.FUTURE) {\n        this.scrollToMessageId(messages1.firstObject.id, {\n          position: \"end\",\n          behavior: \"auto\"\n        });\n      } else if (direction1 === _chatConstants.PAST) {\n        this.scrollToMessageId(messages1.lastObject.id);\n      }\n      this.debounceFillPaneAttempt();\n    }\n    scrollToLatestMessage() {\n      if (this.messagesLoader.canLoadMoreFuture) {\n        this.fetchMessages();\n      } else if (this.messagesManager.messages.length > 0) {\n        this.scrollToBottom();\n      }\n    }\n    debounceFillPaneAttempt() {\n      if (!this.messagesLoader.fetchedOnce) {\n        return;\n      }\n      this._debouncedFillPaneAttemptHandler = (0, _debounce.default)(this, this.fillPaneAttempt, 500);\n    }\n    async fillPaneAttempt() {\n      // safeguard\n      if (this.messagesManager.messages.length > 200) {\n        return;\n      }\n      if (!this.messagesLoader.canLoadMorePast) {\n        return;\n      }\n      const firstMessage1 = this.messagesManager.messages.firstObject;\n      if (!firstMessage1?.visible) {\n        return;\n      }\n      await this.fetchMoreMessages({\n        direction: _chatConstants.PAST\n      });\n    }\n    scrollToMessageId(messageId1, opts1 = {\n      highlight: false,\n      position: \"start\",\n      autoExpand: false\n    }) {\n      this._ignoreNextScroll = true;\n      const message1 = this.messagesManager.findMessage(messageId1);\n      (0, _scrollHelpers.scrollListToMessage)(this.scrollable, message1, opts1);\n    }\n    onNewMessage(message1) {\n      this.messagesManager.addMessages([message1]);\n    }\n    processMessages(thread1, result1) {\n      const messages1 = result1.messages.map(messageData1 => {\n        const ignored1 = this.currentUser.ignored_users || [];\n        const hidden1 = ignored1.includes(messageData1.user.username);\n        return _chatMessage.default.create(thread1.channel, {\n          ...messageData1,\n          hidden: hidden1,\n          expanded: !(hidden1 || messageData1.deleted_at),\n          manager: this.messagesManager,\n          thread: thread1\n        });\n      });\n      return [messages1, result1.meta];\n    }\n    // NOTE: At some point we want to do this based on visible messages\n    // and scrolling; for now it's enough to do it when the thread panel\n    // opens/messages are loaded since we have no pagination for threads.\n    markThreadAsRead() {\n      if (!this.args.thread) {\n        return;\n      }\n      return this.chatApi.markThreadAsRead(this.args.thread.channel.id, this.args.thread.id);\n    }\n    async onSendMessage(message1) {\n      (0, _desktopNotifications.resetIdle)();\n      await message1.cook();\n      if (message1.editing) {\n        await _classPrivateMethodGet(this, _sendEditMessage, _sendEditMessage2).call(this, message1);\n      } else {\n        await _classPrivateMethodGet(this, _sendNewMessage, _sendNewMessage2).call(this, message1);\n      }\n    }\n    resetComposerMessage() {\n      this.args.thread.draft = _chatMessage.default.createDraftMessage(this.args.thread.channel, {\n        user: this.currentUser,\n        thread: this.args.thread\n      });\n    }\n    scrollToBottom() {\n      this._ignoreNextScroll = true;\n      (0, _scrollHelpers.scrollListToBottom)(this.scrollable);\n    }\n    scrollToTop() {\n      this._ignoreNextScroll = true;\n      (0, _scrollHelpers.scrollListToTop)(this.scrollable);\n    }\n    resendStagedMessage() {}\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-thread\"\n          (if this.messagesLoader.loading \"loading\")\n        }}\n        data-id={{@thread.id}}\n        {{didInsert this.setup}}\n        {{willDestroy this.teardown}}\n      >\n        <div\n          class=\"chat-thread__body popper-viewport chat-messages-scroll\"\n          {{didInsert this.setScrollable}}\n          {{ChatScrollableList\n            (hash\n              onScroll=this.onScroll onScrollEnd=this.onScrollEnd reverse=true\n            )\n          }}\n        >\n          <div\n            class=\"chat-messages-container\"\n            {{ChatOnResize this.didResizePane (hash delay=100 immediate=true)}}\n          >\n            {{#each this.messagesManager.messages key=\"id\" as |message|}}\n              <Message\n                @message={{message}}\n                @disableMouseEvents={{this.isScrolling}}\n                @resendStagedMessage={{this.resendStagedMessage}}\n                @context=\"thread\"\n              />\n            {{/each}}\n  \n            {{#unless this.messagesLoader.fetchedOnce}}\n              {{#if this.messagesLoader.loading}}\n                <ChatSkeleton />\n              {{/if}}\n            {{/unless}}\n          </div>\n        </div>\n  \n        <ChatScrollToBottomArrow\n          @onScrollToBottom={{this.scrollToLatestMessage}}\n          @isVisible={{this.needsArrow}}\n        />\n  \n        {{#if this.chatThreadPane.selectingMessages}}\n          <ChatSelectionManager @pane={{this.chatThreadPane}} />\n        {{else}}\n          <ChatComposerThread\n            @channel={{@channel}}\n            @thread={{@thread}}\n            @onSendMessage={{this.onSendMessage}}\n            @uploadDropZone={{this.uploadDropZone}}\n          />\n        {{/if}}\n  \n        <ChatUploadDropZone @model={{@thread}} />\n      </div>\n    \n  */\n  {\n    \"id\": \"CmnaXWc+\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-thread\\\",[52,[30,0,[\\\"messagesLoader\\\",\\\"loading\\\"]],\\\"loading\\\"]],null]],[16,\\\"data-id\\\",[30,1,[\\\"id\\\"]]],[4,[32,1],[[30,0,[\\\"setup\\\"]]],null],[4,[32,2],[[30,0,[\\\"teardown\\\"]]],null],[12],[1,\\\"\\\\n      \\\"],[11,0],[24,0,\\\"chat-thread__body popper-viewport chat-messages-scroll\\\"],[4,[32,1],[[30,0,[\\\"setScrollable\\\"]]],null],[4,[32,3],[[28,[32,4],null,[[\\\"onScroll\\\",\\\"onScrollEnd\\\",\\\"reverse\\\"],[[30,0,[\\\"onScroll\\\"]],[30,0,[\\\"onScrollEnd\\\"]],true]]]],null],[12],[1,\\\"\\\\n        \\\"],[11,0],[24,0,\\\"chat-messages-container\\\"],[4,[32,5],[[30,0,[\\\"didResizePane\\\"]],[28,[32,4],null,[[\\\"delay\\\",\\\"immediate\\\"],[100,true]]]],null],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"messagesManager\\\",\\\"messages\\\"]]],null]],null],\\\"id\\\",[[[1,\\\"            \\\"],[8,[32,6],null,[[\\\"@message\\\",\\\"@disableMouseEvents\\\",\\\"@resendStagedMessage\\\",\\\"@context\\\"],[[30,2],[30,0,[\\\"isScrolling\\\"]],[30,0,[\\\"resendStagedMessage\\\"]],\\\"thread\\\"]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"\\\\n\\\"],[41,[51,[30,0,[\\\"messagesLoader\\\",\\\"fetchedOnce\\\"]]],[[[41,[30,0,[\\\"messagesLoader\\\",\\\"loading\\\"]],[[[1,\\\"              \\\"],[8,[32,7],null,null,null],[1,\\\"\\\\n\\\"]],[]],null]],[]],null],[1,\\\"        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,8],null,[[\\\"@onScrollToBottom\\\",\\\"@isVisible\\\"],[[30,0,[\\\"scrollToLatestMessage\\\"]],[30,0,[\\\"needsArrow\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatThreadPane\\\",\\\"selectingMessages\\\"]],[[[1,\\\"        \\\"],[8,[32,9],null,[[\\\"@pane\\\"],[[30,0,[\\\"chatThreadPane\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[8,[32,10],null,[[\\\"@channel\\\",\\\"@thread\\\",\\\"@onSendMessage\\\",\\\"@uploadDropZone\\\"],[[30,3],[30,1],[30,0,[\\\"onSendMessage\\\"]],[30,0,[\\\"uploadDropZone\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n      \\\"],[8,[32,11],null,[[\\\"@model\\\"],[[30,1]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@thread\\\",\\\"message\\\",\\\"@channel\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\",\\\"unless\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-thread.js\",\n    \"scope\": () => [_concatClass.default, _didInsert.default, _willDestroy.default, _scrollableList.default, _helper.hash, _onResize.default, _chatMessage2.default, _chatSkeleton.default, _scrollToBottomArrow.default, _selectionManager.default, _thread.default, _chatUploadDropZone.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chatComposerPresenceManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chatHistory\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadComposer\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"isAtBottom\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"isScrolling\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"needsArrow\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"uploadDropZone\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"resetIdle\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetIdle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"messagesLoader\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"messagesLoader\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleKeydown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleKeydown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"teardown\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"teardown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onScroll\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onScroll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onScrollEnd\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onScrollEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateLastReadMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"updateLastReadMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setScrollable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setScrollable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"loadMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"loadMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"didResizePane\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"didResizePane\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchMoreMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchMoreMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToLatestMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToLatestMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onNewMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onNewMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"processMessages\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"processMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSendMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSendMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetComposerMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetComposerMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToBottom\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToBottom\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"scrollToTop\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"scrollToTop\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resendStagedMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resendStagedMessage\"), _class.prototype)), _class);\n  async function _sendNewMessage2(message1) {\n    if (this.chatThreadPane.sending) {\n      return;\n    }\n    this.chatThreadPane.sending = true;\n    this._ignoreNextScroll = true;\n    (0, _chatIosHacks.stackingContextFix)(this.scrollable, async () => {\n      await this.args.thread.stageMessage(message1);\n    });\n    this.resetComposerMessage();\n    if (!this.messagesLoader.canLoadMoreFuture) {\n      this.scrollToLatestMessage();\n    }\n    try {\n      const response1 = await this.chatApi.sendMessage(this.args.thread.channel.id, {\n        message: message1.message,\n        in_reply_to_id: null,\n        staged_id: message1.id,\n        upload_ids: message1.uploads.map(upload1 => upload1.id),\n        thread_id: message1.thread.id\n      });\n      this.args.thread.currentUserMembership ??= _userChatThreadMembership.default.create({\n        notification_level: _notificationLevels.NotificationLevels.TRACKING,\n        last_read_message_id: response1.message_id\n      });\n      this.scrollToLatestMessage();\n    } catch (error1) {\n      _classPrivateMethodGet(this, _onSendError, _onSendError2).call(this, message1.id, error1);\n    } finally {\n      this.chatDraftsManager.remove(this.args.thread.channel.id, this.args.thread.id);\n      this.chatThreadPane.sending = false;\n    }\n  }\n  async function _sendEditMessage2(message1) {\n    this.chatThreadPane.sending = true;\n    const data1 = {\n      message: message1.message,\n      upload_ids: message1.uploads.map(upload1 => upload1.id)\n    };\n    this.resetComposerMessage();\n    try {\n      return await this.chatApi.editMessage(message1.channel.id, message1.id, data1);\n    } catch (e1) {\n      (0, _ajaxError.popupAjaxError)(e1);\n    } finally {\n      this.chatDraftsManager.remove(this.args.thread.channel.id, this.args.thread.id);\n      this.chatThreadPane.sending = false;\n    }\n  }\n  function _onSendError2(stagedId1, error1) {\n    const stagedMessage1 = this.args.thread.messagesManager.findStagedMessage(stagedId1);\n    if (stagedMessage1) {\n      if (error1.jqXHR?.responseJSON?.errors?.length) {\n        stagedMessage1.error = error1.jqXHR.responseJSON.errors[0];\n      } else {\n        this.chat.markNetworkAsUnreliable();\n        stagedMessage1.error = \"network_error\";\n      }\n    }\n    this.resetComposerMessage();\n  }\n  function _flushIgnoreNextScroll2() {\n    const prev1 = this._ignoreNextScroll;\n    this._ignoreNextScroll = false;\n    return prev1;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat-to-topic-selector\", [\"exports\", \"@ember/component\", \"@ember/object/computed\", \"@ember/template\", \"discourse-common/utils/decorators\", \"@ember/template-factory\"], function (_exports, _component, _computed, _template, _decorators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.NEW_TOPIC_SELECTION = _exports.NEW_MESSAGE_SELECTION = _exports.EXISTING_TOPIC_SELECTION = void 0;\n  var _dec, _dec2, _dec3, _obj;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"chat-to-topic-selector\">\n    <div class=\"radios\">\n      <label class=\"radio-label\" for=\"move-to-new-topic\">\n        <RadioButton\n          @id=\"move-to-new-topic\"\n          @name=\"move-to-entity\"\n          @value={{this.newTopicSelection}}\n          @selection={{this.selection}}\n        />\n        <b>{{i18n \"topic.split_topic.radio_label\"}}</b>\n      </label>\n  \n      <label class=\"radio-label\" for=\"move-to-existing-topic\">\n        <RadioButton\n          @id=\"move-to-existing-topic\"\n          @name=\"move-to-entity\"\n          @value={{this.existingTopicSelection}}\n          @selection={{this.selection}}\n        />\n        <b>{{i18n \"topic.merge_topic.radio_label\"}}</b>\n      </label>\n  \n      {{#if this.allowNewMessage}}\n        <label class=\"radio-label\" for=\"move-to-new-message\">\n          <RadioButton\n            @id=\"move-to-new-message\"\n            @name=\"move-to-entity\"\n            @value={{this.newMessageSelection}}\n            @selection={{this.selection}}\n          />\n          <b>{{i18n \"topic.move_to_new_message.radio_label\"}}</b>\n        </label>\n      {{/if}}\n    </div>\n  \n    {{#if this.newTopic}}\n      <p>{{this.newTopicInstruction}}</p>\n  \n      <form>\n        <label for=\"split-topic-name\">\n          {{i18n \"topic.split_topic.topic_name\"}}\n        </label>\n  \n        <TextField\n          @value={{this.topicTitle}}\n          @placeholderKey=\"composer.title_placeholder\"\n          @id=\"split-topic-name\"\n        />\n  \n        <label>{{i18n \"categories.category\"}}</label>\n  \n        <CategoryChooser\n          @id=\"new-topic-category-selector\"\n          @value={{this.categoryId}}\n          @onChange={{action (mut this.categoryId)}}\n          class=\"small\"\n        />\n  \n        {{#if this.canAddTags}}\n          <label>{{i18n \"tagging.tags\"}}</label>\n          <TagChooser\n            @tags={{this.tags}}\n            @filterable={{true}}\n            @categoryId={{this.categoryId}}\n          />\n        {{/if}}\n      </form>\n    {{/if}}\n  \n    {{#if this.existingTopic}}\n      <p>{{this.existingTopicInstruction}}</p>\n      <form>\n        <ChooseTopic @selectedTopicId={{this.selectedTopicId}} />\n      </form>\n    {{/if}}\n  \n    {{#if (and this.allowNewMessage this.newMessage)}}\n      <p>{{this.newMessageInstruction}}</p>\n  \n      <form>\n        <label for=\"split-message-title\">\n          {{i18n \"topic.move_to_new_message.message_title\"}}\n        </label>\n  \n        <TextField\n          @value={{this.topicTitle}}\n          @placeholderKey=\"composer.title_placeholder\"\n          @id=\"split-message-title\"\n        />\n  \n        {{#if this.canTagMessages}}\n          <label>{{i18n \"tagging.tags\"}}</label>\n          <TagChooser @tags={{this.tags}} @filterable={{true}} />\n        {{/if}}\n      </form>\n    {{/if}}\n  </div>\n  */\n  {\n    \"id\": \"pfhwe5XR\",\n    \"block\": \"[[[10,0],[14,0,\\\"chat-to-topic-selector\\\"],[12],[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"radios\\\"],[12],[1,\\\"\\\\n    \\\"],[10,\\\"label\\\"],[14,0,\\\"radio-label\\\"],[14,\\\"for\\\",\\\"move-to-new-topic\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[39,0],null,[[\\\"@id\\\",\\\"@name\\\",\\\"@value\\\",\\\"@selection\\\"],[\\\"move-to-new-topic\\\",\\\"move-to-entity\\\",[30,0,[\\\"newTopicSelection\\\"]],[30,0,[\\\"selection\\\"]]]],null],[1,\\\"\\\\n      \\\"],[10,\\\"b\\\"],[12],[1,[28,[35,1],[\\\"topic.split_topic.radio_label\\\"],null]],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,\\\"label\\\"],[14,0,\\\"radio-label\\\"],[14,\\\"for\\\",\\\"move-to-existing-topic\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[39,0],null,[[\\\"@id\\\",\\\"@name\\\",\\\"@value\\\",\\\"@selection\\\"],[\\\"move-to-existing-topic\\\",\\\"move-to-entity\\\",[30,0,[\\\"existingTopicSelection\\\"]],[30,0,[\\\"selection\\\"]]]],null],[1,\\\"\\\\n      \\\"],[10,\\\"b\\\"],[12],[1,[28,[35,1],[\\\"topic.merge_topic.radio_label\\\"],null]],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"allowNewMessage\\\"]],[[[1,\\\"      \\\"],[10,\\\"label\\\"],[14,0,\\\"radio-label\\\"],[14,\\\"for\\\",\\\"move-to-new-message\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[39,0],null,[[\\\"@id\\\",\\\"@name\\\",\\\"@value\\\",\\\"@selection\\\"],[\\\"move-to-new-message\\\",\\\"move-to-entity\\\",[30,0,[\\\"newMessageSelection\\\"]],[30,0,[\\\"selection\\\"]]]],null],[1,\\\"\\\\n        \\\"],[10,\\\"b\\\"],[12],[1,[28,[35,1],[\\\"topic.move_to_new_message.radio_label\\\"],null]],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"newTopic\\\"]],[[[1,\\\"    \\\"],[10,2],[12],[1,[30,0,[\\\"newTopicInstruction\\\"]]],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,\\\"form\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"split-topic-name\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"topic.split_topic.topic_name\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[39,3],null,[[\\\"@value\\\",\\\"@placeholderKey\\\",\\\"@id\\\"],[[30,0,[\\\"topicTitle\\\"]],\\\"composer.title_placeholder\\\",\\\"split-topic-name\\\"]],null],[1,\\\"\\\\n\\\\n      \\\"],[10,\\\"label\\\"],[12],[1,[28,[35,1],[\\\"categories.category\\\"],null]],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[39,4],[[24,0,\\\"small\\\"]],[[\\\"@id\\\",\\\"@value\\\",\\\"@onChange\\\"],[\\\"new-topic-category-selector\\\",[30,0,[\\\"categoryId\\\"]],[28,[37,5],[[30,0],[28,[37,6],[[30,0,[\\\"categoryId\\\"]]],null]],null]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"canAddTags\\\"]],[[[1,\\\"        \\\"],[10,\\\"label\\\"],[12],[1,[28,[35,1],[\\\"tagging.tags\\\"],null]],[13],[1,\\\"\\\\n        \\\"],[8,[39,7],null,[[\\\"@tags\\\",\\\"@filterable\\\",\\\"@categoryId\\\"],[[30,0,[\\\"tags\\\"]],true,[30,0,[\\\"categoryId\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"existingTopic\\\"]],[[[1,\\\"    \\\"],[10,2],[12],[1,[30,0,[\\\"existingTopicInstruction\\\"]]],[13],[1,\\\"\\\\n    \\\"],[10,\\\"form\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[39,8],null,[[\\\"@selectedTopicId\\\"],[[30,0,[\\\"selectedTopicId\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[28,[37,9],[[30,0,[\\\"allowNewMessage\\\"]],[30,0,[\\\"newMessage\\\"]]],null],[[[1,\\\"    \\\"],[10,2],[12],[1,[30,0,[\\\"newMessageInstruction\\\"]]],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,\\\"form\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"split-message-title\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"topic.move_to_new_message.message_title\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[39,3],null,[[\\\"@value\\\",\\\"@placeholderKey\\\",\\\"@id\\\"],[[30,0,[\\\"topicTitle\\\"]],\\\"composer.title_placeholder\\\",\\\"split-message-title\\\"]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"canTagMessages\\\"]],[[[1,\\\"        \\\"],[10,\\\"label\\\"],[12],[1,[28,[35,1],[\\\"tagging.tags\\\"],null]],[13],[1,\\\"\\\\n        \\\"],[8,[39,7],null,[[\\\"@tags\\\",\\\"@filterable\\\"],[[30,0,[\\\"tags\\\"]],true]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[13]],[],false,[\\\"radio-button\\\",\\\"i18n\\\",\\\"if\\\",\\\"text-field\\\",\\\"category-chooser\\\",\\\"action\\\",\\\"mut\\\",\\\"tag-chooser\\\",\\\"choose-topic\\\",\\\"and\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat-to-topic-selector.hbs\",\n    \"isStrictMode\": false\n  });\n  const NEW_TOPIC_SELECTION = _exports.NEW_TOPIC_SELECTION = \"new_topic\";\n  const EXISTING_TOPIC_SELECTION = _exports.EXISTING_TOPIC_SELECTION = \"existing_topic\";\n  const NEW_MESSAGE_SELECTION = _exports.NEW_MESSAGE_SELECTION = \"new_message\";\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _component.default.extend((_dec = (0, _decorators.default)(), _dec2 = (0, _decorators.default)(), _dec3 = (0, _decorators.default)(), (_obj = {\n    newTopicSelection: NEW_TOPIC_SELECTION,\n    existingTopicSelection: EXISTING_TOPIC_SELECTION,\n    newMessageSelection: NEW_MESSAGE_SELECTION,\n    selection: null,\n    newTopic: (0, _computed.equal)(\"selection\", NEW_TOPIC_SELECTION),\n    existingTopic: (0, _computed.equal)(\"selection\", EXISTING_TOPIC_SELECTION),\n    newMessage: (0, _computed.equal)(\"selection\", NEW_MESSAGE_SELECTION),\n    canAddTags: (0, _computed.alias)(\"site.can_create_tag\"),\n    canTagMessages: (0, _computed.alias)(\"site.can_tag_pms\"),\n    topicTitle: null,\n    categoryId: null,\n    tags: null,\n    selectedTopicId: null,\n    chatMessageIds: null,\n    chatChannelId: null,\n    newTopicInstruction() {\n      return (0, _template.htmlSafe)(this.instructionLabels[NEW_TOPIC_SELECTION]);\n    },\n    existingTopicInstruction() {\n      return (0, _template.htmlSafe)(this.instructionLabels[EXISTING_TOPIC_SELECTION]);\n    },\n    newMessageInstruction() {\n      return (0, _template.htmlSafe)(this.instructionLabels[NEW_MESSAGE_SELECTION]);\n    }\n  }, (_applyDecoratedDescriptor(_obj, \"newTopicInstruction\", [_dec], Object.getOwnPropertyDescriptor(_obj, \"newTopicInstruction\"), _obj), _applyDecoratedDescriptor(_obj, \"existingTopicInstruction\", [_dec2], Object.getOwnPropertyDescriptor(_obj, \"existingTopicInstruction\"), _obj), _applyDecoratedDescriptor(_obj, \"newMessageInstruction\", [_dec3], Object.getOwnPropertyDescriptor(_obj, \"newMessageInstruction\"), _obj)), _obj))));\n});","define(\"discourse/plugins/chat/discourse/components/chat-upload-drop-zone\", [\"exports\", \"@glimmer/component\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/models/chat-thread\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _discourseI18n, _chatThread, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _isThread = /*#__PURE__*/new WeakSet();\n  class ChatUploadDropZone extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _isThread);\n    }\n    get title() {\n      if (_classPrivateMethodGet(this, _isThread, _isThread2).call(this)) {\n        return _discourseI18n.default.t(\"chat.upload_to_thread\");\n      } else {\n        return _discourseI18n.default.t(\"chat.upload_to_channel\", {\n          title: this.args.model.title\n        });\n      }\n    }\n  }\n  _exports.default = ChatUploadDropZone;\n  _class = ChatUploadDropZone;\n  function _isThread2() {\n    return this.args.model instanceof _chatThread.default;\n  }\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-upload-drop-zone\">\n        <div class=\"chat-upload-drop-zone__content\">\n          <div class=\"chat-upload-drop-zone__background\">\n            <svg\n              width=\"94\"\n              height=\"90\"\n              viewBox=\"0 0 94 90\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M94 40.5591C94 69.8685 64.0686 90 40.9592 90C17.8499 90 0 83.9085 0 60.6907C0 37.4729 28.458 0 51.5674 0C74.6768 0 94 17.3413 94 40.5591Z\"\n                fill=\"#D1F0FF\"\n              ></path>\n            </svg>\n          </div>\n          <div class=\"chat-upload-drop-zone__illustration\">\n            <svg\n              width=\"106\"\n              height=\"84\"\n              viewBox=\"0 0 106 84\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <rect\n                x=\"55.832\"\n                y=\"6.82959\"\n                width=\"45.7854\"\n                height=\"33.8408\"\n                transform=\"rotate(13.4039 55.832 6.82959)\"\n                fill=\"#D9D9D9\"\n              ></rect>\n              <path\n                d=\"M100.66 13.7645L61.1414 4.34705C58.6715 3.75846 56.1786 5.37298 55.59 7.84288L47.6214 41.2815C47.0102 43.8464 48.5297 46.3167 50.9996 46.9053L90.518 56.3227C92.9879 56.9113 95.5532 55.4145 96.1644 52.8496L104.133 19.4109C104.722 16.941 103.225 14.3757 100.66 13.7645ZM58.7093 41.5144C58.5961 41.9894 58.1482 42.1838 57.7682 42.0933L53.2084 41.0067C52.7334 40.8935 52.5163 40.5406 52.6295 40.0656L53.7161 35.5058C53.8067 35.1258 54.1822 34.8137 54.6572 34.9269L59.122 35.9909C59.502 36.0815 59.7915 36.552 59.7009 36.932L58.7093 41.5144ZM61.6069 29.3549C61.4938 29.8299 61.0459 30.0243 60.6659 29.9338L56.1061 28.8472C55.6311 28.734 55.414 28.3811 55.5272 27.9061L56.6138 23.3463C56.7044 22.9663 57.0799 22.6542 57.5549 22.7674L62.0197 23.8314C62.3997 23.922 62.6891 24.3925 62.5986 24.7725L61.5119 29.3323L61.6069 29.3549ZM64.5046 17.1954C64.3914 17.6704 63.9435 17.8648 63.5635 17.7743L59.0037 16.6877C58.5287 16.5745 58.3117 16.2216 58.4249 15.7466L59.5115 11.1868C59.602 10.8068 59.9776 10.4947 60.4526 10.6079L64.9174 11.6719C65.2974 11.7625 65.5868 12.233 65.4962 12.613L64.5046 17.1954ZM81.6894 46.1876C81.4857 47.0426 80.5673 47.5264 79.8073 47.3453L64.6079 43.7232C63.753 43.5195 63.2464 42.6961 63.4502 41.8411L65.6234 32.7215C65.8045 31.9615 66.6506 31.36 67.5056 31.5637L82.705 35.1858C83.4649 35.3669 84.0438 36.308 83.8627 37.068L81.6894 46.1876ZM86.036 27.9483C85.8322 28.8033 84.9138 29.2872 84.1538 29.1061L68.9544 25.484C68.0995 25.2802 67.593 24.4568 67.7967 23.6018L69.97 14.4822C70.1511 13.7222 70.9971 13.1207 71.8521 13.3245L87.0515 16.9466C87.8114 17.1277 88.3903 18.0687 88.2092 18.8287L86.036 27.9483ZM92.1479 49.483C92.0347 49.958 91.5868 50.1524 91.2068 50.0619L86.742 48.9979C86.267 48.8847 86.05 48.5318 86.1631 48.0568L87.2498 43.497C87.3403 43.117 87.8109 42.8276 88.1908 42.9181L92.7507 44.0048C93.1306 44.0953 93.4201 44.5659 93.3295 44.9458L92.2429 49.5057L92.1479 49.483ZM95.0456 37.3235C94.9324 37.7985 94.4845 37.9929 94.1045 37.9024L89.6397 36.8384C89.1647 36.7252 88.9476 36.3723 89.0608 35.8973L90.1474 31.3375C90.238 30.9575 90.6135 30.6455 91.0885 30.7586L95.5533 31.8226C95.9333 31.9132 96.2228 32.3837 96.1322 32.7637L95.0456 37.3235ZM97.9432 25.164C97.8301 25.639 97.3822 25.8334 97.0022 25.7429L92.5374 24.6789C92.0624 24.5657 91.8453 24.2128 91.9585 23.7378L93.0451 19.178C93.1357 18.798 93.5112 18.486 93.8912 18.5765L98.356 19.6405C98.736 19.731 99.0254 20.2016 98.9349 20.5816L97.8483 25.1414L97.9432 25.164Z\"\n                fill=\"#AFAFAF\"\n              ></path>\n              <path\n                d=\"M30.7898 24.814L27.2823 9.2672L4.41944 14.4252C2.81904 14.7863 1.95958 16.3017 2.29486 17.7878L14.2615 70.8296C14.6226 72.43 16.0236 73.3153 17.624 72.9542L56.0337 64.2887C57.5198 63.9534 58.5193 62.5266 58.1582 60.9262L49.699 23.4311L34.1523 26.9385C32.5519 27.2996 31.1508 26.4144 30.7898 24.814ZM48.719 19.0871C48.5643 18.4012 48.0666 17.7927 47.4804 17.3243L33.7501 8.64894C33.0754 8.32063 32.3121 8.13243 31.6263 8.28717L30.9404 8.44191L34.2415 23.0742L48.8738 19.773L48.719 19.0871Z\"\n                fill=\"#0AADFF\"\n              ></path>\n              <rect\n                x=\"41.7334\"\n                y=\"40.3967\"\n                width=\"37.6309\"\n                height=\"28.6511\"\n                transform=\"rotate(6.29289 41.7334 40.3967)\"\n                fill=\"#66CCFF\"\n              ></rect>\n              <path\n                d=\"M76.768 40.4721L44.4638 36.9097C42.3671 36.6785 40.548 38.2071 40.3254 40.2261L37.8591 62.5905C37.6279 64.6872 39.0788 66.4977 41.1755 66.729L73.4796 70.2913C75.4987 70.514 77.3869 69.0716 77.6181 66.9749L80.0843 44.6105C80.307 42.5915 78.787 40.6947 76.768 40.4721ZM73.4248 66.5125L42.0524 63.0529C41.7418 63.0187 41.6036 62.8462 41.6379 62.5356L44.0014 41.103C44.0271 40.8701 44.2081 40.6542 44.5187 40.6885L75.891 44.1481C76.124 44.1738 76.3312 44.4324 76.3056 44.6654L73.9421 66.098C73.9078 66.4086 73.6577 66.5382 73.4248 66.5125ZM49.9226 44.4284C48.1365 44.2314 46.6623 45.4836 46.4739 47.192C46.2769 48.978 47.4514 50.4437 49.2375 50.6407C50.9459 50.8291 52.4892 49.6631 52.6862 47.8771C52.8746 46.1687 51.631 44.6168 49.9226 44.4284ZM45.725 59.6852L70.5743 62.4255L71.2594 56.2131L65.1708 48.7036C64.8254 48.2725 64.2818 48.2126 63.8507 48.558L53.5908 56.7799L50.8186 53.4088C50.4732 52.9777 49.9296 52.9178 49.4985 53.2632L46.136 55.9578L45.725 59.6852Z\"\n                fill=\"white\"\n              ></path>\n              <path\n                d=\"M37.8174 63.0181L77.5892 66.862L77.012 72.8342C76.9057 73.9336 75.9283 74.7388 74.8288 74.6325L39.0385 71.1734C37.939 71.0671 37.1339 70.0897 37.2402 68.9902L37.8174 63.0181Z\"\n                fill=\"white\"\n              ></path>\n            </svg>\n          </div>\n          <div class=\"chat-upload-drop-zone__text\">\n            <span class=\"chat-upload-drop-zone__text__title\">\n              {{this.title}}\n            </span>\n          </div>\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"8LRzgpPD\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-upload-drop-zone\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-upload-drop-zone__content\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-upload-drop-zone__background\\\"],[12],[1,\\\"\\\\n          \\\"],[10,\\\"svg\\\"],[14,\\\"width\\\",\\\"94\\\"],[14,\\\"height\\\",\\\"90\\\"],[14,\\\"viewBox\\\",\\\"0 0 94 90\\\"],[14,\\\"fill\\\",\\\"none\\\"],[14,\\\"xmlns\\\",\\\"http://www.w3.org/2000/svg\\\",\\\"http://www.w3.org/2000/xmlns/\\\"],[12],[1,\\\"\\\\n            \\\"],[10,\\\"path\\\"],[14,\\\"d\\\",\\\"M94 40.5591C94 69.8685 64.0686 90 40.9592 90C17.8499 90 0 83.9085 0 60.6907C0 37.4729 28.458 0 51.5674 0C74.6768 0 94 17.3413 94 40.5591Z\\\"],[14,\\\"fill\\\",\\\"#D1F0FF\\\"],[12],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-upload-drop-zone__illustration\\\"],[12],[1,\\\"\\\\n          \\\"],[10,\\\"svg\\\"],[14,\\\"width\\\",\\\"106\\\"],[14,\\\"height\\\",\\\"84\\\"],[14,\\\"viewBox\\\",\\\"0 0 106 84\\\"],[14,\\\"fill\\\",\\\"none\\\"],[14,\\\"xmlns\\\",\\\"http://www.w3.org/2000/svg\\\",\\\"http://www.w3.org/2000/xmlns/\\\"],[12],[1,\\\"\\\\n            \\\"],[10,\\\"rect\\\"],[14,\\\"x\\\",\\\"55.832\\\"],[14,\\\"y\\\",\\\"6.82959\\\"],[14,\\\"width\\\",\\\"45.7854\\\"],[14,\\\"height\\\",\\\"33.8408\\\"],[14,\\\"transform\\\",\\\"rotate(13.4039 55.832 6.82959)\\\"],[14,\\\"fill\\\",\\\"#D9D9D9\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,\\\"path\\\"],[14,\\\"d\\\",\\\"M100.66 13.7645L61.1414 4.34705C58.6715 3.75846 56.1786 5.37298 55.59 7.84288L47.6214 41.2815C47.0102 43.8464 48.5297 46.3167 50.9996 46.9053L90.518 56.3227C92.9879 56.9113 95.5532 55.4145 96.1644 52.8496L104.133 19.4109C104.722 16.941 103.225 14.3757 100.66 13.7645ZM58.7093 41.5144C58.5961 41.9894 58.1482 42.1838 57.7682 42.0933L53.2084 41.0067C52.7334 40.8935 52.5163 40.5406 52.6295 40.0656L53.7161 35.5058C53.8067 35.1258 54.1822 34.8137 54.6572 34.9269L59.122 35.9909C59.502 36.0815 59.7915 36.552 59.7009 36.932L58.7093 41.5144ZM61.6069 29.3549C61.4938 29.8299 61.0459 30.0243 60.6659 29.9338L56.1061 28.8472C55.6311 28.734 55.414 28.3811 55.5272 27.9061L56.6138 23.3463C56.7044 22.9663 57.0799 22.6542 57.5549 22.7674L62.0197 23.8314C62.3997 23.922 62.6891 24.3925 62.5986 24.7725L61.5119 29.3323L61.6069 29.3549ZM64.5046 17.1954C64.3914 17.6704 63.9435 17.8648 63.5635 17.7743L59.0037 16.6877C58.5287 16.5745 58.3117 16.2216 58.4249 15.7466L59.5115 11.1868C59.602 10.8068 59.9776 10.4947 60.4526 10.6079L64.9174 11.6719C65.2974 11.7625 65.5868 12.233 65.4962 12.613L64.5046 17.1954ZM81.6894 46.1876C81.4857 47.0426 80.5673 47.5264 79.8073 47.3453L64.6079 43.7232C63.753 43.5195 63.2464 42.6961 63.4502 41.8411L65.6234 32.7215C65.8045 31.9615 66.6506 31.36 67.5056 31.5637L82.705 35.1858C83.4649 35.3669 84.0438 36.308 83.8627 37.068L81.6894 46.1876ZM86.036 27.9483C85.8322 28.8033 84.9138 29.2872 84.1538 29.1061L68.9544 25.484C68.0995 25.2802 67.593 24.4568 67.7967 23.6018L69.97 14.4822C70.1511 13.7222 70.9971 13.1207 71.8521 13.3245L87.0515 16.9466C87.8114 17.1277 88.3903 18.0687 88.2092 18.8287L86.036 27.9483ZM92.1479 49.483C92.0347 49.958 91.5868 50.1524 91.2068 50.0619L86.742 48.9979C86.267 48.8847 86.05 48.5318 86.1631 48.0568L87.2498 43.497C87.3403 43.117 87.8109 42.8276 88.1908 42.9181L92.7507 44.0048C93.1306 44.0953 93.4201 44.5659 93.3295 44.9458L92.2429 49.5057L92.1479 49.483ZM95.0456 37.3235C94.9324 37.7985 94.4845 37.9929 94.1045 37.9024L89.6397 36.8384C89.1647 36.7252 88.9476 36.3723 89.0608 35.8973L90.1474 31.3375C90.238 30.9575 90.6135 30.6455 91.0885 30.7586L95.5533 31.8226C95.9333 31.9132 96.2228 32.3837 96.1322 32.7637L95.0456 37.3235ZM97.9432 25.164C97.8301 25.639 97.3822 25.8334 97.0022 25.7429L92.5374 24.6789C92.0624 24.5657 91.8453 24.2128 91.9585 23.7378L93.0451 19.178C93.1357 18.798 93.5112 18.486 93.8912 18.5765L98.356 19.6405C98.736 19.731 99.0254 20.2016 98.9349 20.5816L97.8483 25.1414L97.9432 25.164Z\\\"],[14,\\\"fill\\\",\\\"#AFAFAF\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,\\\"path\\\"],[14,\\\"d\\\",\\\"M30.7898 24.814L27.2823 9.2672L4.41944 14.4252C2.81904 14.7863 1.95958 16.3017 2.29486 17.7878L14.2615 70.8296C14.6226 72.43 16.0236 73.3153 17.624 72.9542L56.0337 64.2887C57.5198 63.9534 58.5193 62.5266 58.1582 60.9262L49.699 23.4311L34.1523 26.9385C32.5519 27.2996 31.1508 26.4144 30.7898 24.814ZM48.719 19.0871C48.5643 18.4012 48.0666 17.7927 47.4804 17.3243L33.7501 8.64894C33.0754 8.32063 32.3121 8.13243 31.6263 8.28717L30.9404 8.44191L34.2415 23.0742L48.8738 19.773L48.719 19.0871Z\\\"],[14,\\\"fill\\\",\\\"#0AADFF\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,\\\"rect\\\"],[14,\\\"x\\\",\\\"41.7334\\\"],[14,\\\"y\\\",\\\"40.3967\\\"],[14,\\\"width\\\",\\\"37.6309\\\"],[14,\\\"height\\\",\\\"28.6511\\\"],[14,\\\"transform\\\",\\\"rotate(6.29289 41.7334 40.3967)\\\"],[14,\\\"fill\\\",\\\"#66CCFF\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,\\\"path\\\"],[14,\\\"d\\\",\\\"M76.768 40.4721L44.4638 36.9097C42.3671 36.6785 40.548 38.2071 40.3254 40.2261L37.8591 62.5905C37.6279 64.6872 39.0788 66.4977 41.1755 66.729L73.4796 70.2913C75.4987 70.514 77.3869 69.0716 77.6181 66.9749L80.0843 44.6105C80.307 42.5915 78.787 40.6947 76.768 40.4721ZM73.4248 66.5125L42.0524 63.0529C41.7418 63.0187 41.6036 62.8462 41.6379 62.5356L44.0014 41.103C44.0271 40.8701 44.2081 40.6542 44.5187 40.6885L75.891 44.1481C76.124 44.1738 76.3312 44.4324 76.3056 44.6654L73.9421 66.098C73.9078 66.4086 73.6577 66.5382 73.4248 66.5125ZM49.9226 44.4284C48.1365 44.2314 46.6623 45.4836 46.4739 47.192C46.2769 48.978 47.4514 50.4437 49.2375 50.6407C50.9459 50.8291 52.4892 49.6631 52.6862 47.8771C52.8746 46.1687 51.631 44.6168 49.9226 44.4284ZM45.725 59.6852L70.5743 62.4255L71.2594 56.2131L65.1708 48.7036C64.8254 48.2725 64.2818 48.2126 63.8507 48.558L53.5908 56.7799L50.8186 53.4088C50.4732 52.9777 49.9296 52.9178 49.4985 53.2632L46.136 55.9578L45.725 59.6852Z\\\"],[14,\\\"fill\\\",\\\"white\\\"],[12],[13],[1,\\\"\\\\n            \\\"],[10,\\\"path\\\"],[14,\\\"d\\\",\\\"M37.8174 63.0181L77.5892 66.862L77.012 72.8342C76.9057 73.9336 75.9283 74.7388 74.8288 74.6325L39.0385 71.1734C37.939 71.0671 37.1339 70.0897 37.2402 68.9902L37.8174 63.0181Z\\\"],[14,\\\"fill\\\",\\\"white\\\"],[12],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-upload-drop-zone__text\\\"],[12],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-upload-drop-zone__text__title\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[30,0,[\\\"title\\\"]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-upload-drop-zone.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-upload\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/modifier\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"discourse/lib/uploads\", \"truth-helpers/helpers/eq\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _modifier, _object, _service, _template, _uploads, _eq, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatUpload = _exports.default = (_class = (_class2 = class ChatUpload extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n      _initializerDefineProperty(this, \"loaded\", _descriptor2, this);\n      _defineProperty(this, \"IMAGE_TYPE\", \"image\");\n      _defineProperty(this, \"VIDEO_TYPE\", \"video\");\n      _defineProperty(this, \"AUDIO_TYPE\", \"audio\");\n      _defineProperty(this, \"ATTACHMENT_TYPE\", \"attachment\");\n    }\n    get type() {\n      if ((0, _uploads.isImage)(this.args.upload.original_filename)) {\n        return this.IMAGE_TYPE;\n      }\n      if ((0, _uploads.isVideo)(this.args.upload.original_filename)) {\n        return this.VIDEO_TYPE;\n      }\n      if ((0, _uploads.isAudio)(this.args.upload.original_filename)) {\n        return this.AUDIO_TYPE;\n      }\n      return this.ATTACHMENT_TYPE;\n    }\n    get size() {\n      const width1 = this.args.upload.width;\n      const height1 = this.args.upload.height;\n      const ratio1 = Math.min(this.siteSettings.max_image_width / width1, this.siteSettings.max_image_height / height1);\n      return {\n        width: width1 * ratio1,\n        height: height1 * ratio1\n      };\n    }\n    get imageUrl() {\n      return this.args.upload.thumbnail?.url ?? this.args.upload.url;\n    }\n    get imageStyle() {\n      if (this.args.upload.dominant_color && !this.loaded) {\n        return (0, _template.htmlSafe)(`background-color: #${this.args.upload.dominant_color};`);\n      }\n    }\n    imageLoaded() {\n      this.loaded = true;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if (eq this.type this.IMAGE_TYPE)}}\n        <img\n          class=\"chat-img-upload\"\n          data-orig-src={{@upload.short_url}}\n          data-large-src={{@upload.url}}\n          height={{this.size.height}}\n          width={{this.size.width}}\n          src={{this.imageUrl}}\n          style={{this.imageStyle}}\n          loading=\"lazy\"\n          tabindex=\"0\"\n          data-dominant-color={{@upload.dominant_color}}\n          {{on \"load\" this.imageLoaded}}\n        />\n      {{else if (eq this.type this.VIDEO_TYPE)}}\n        <video class=\"chat-video-upload\" preload=\"metadata\" height=\"150\" controls>\n          <source src={{@upload.url}} />\n        </video>\n      {{else if (eq this.type this.AUDIO_TYPE)}}\n        <audio class=\"chat-audio-upload\" preload=\"metadata\" controls>\n          <source src={{@upload.url}} />\n        </audio>\n      {{else}}\n        <a\n          class=\"chat-other-upload\"\n          data-orig-href={{@upload.short_url}}\n          href={{@upload.url}}\n        >\n          {{@upload.original_filename}}\n        </a>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"mKOa16Fh\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,0,[\\\"type\\\"]],[30,0,[\\\"IMAGE_TYPE\\\"]]],null],[[[1,\\\"      \\\"],[11,\\\"img\\\"],[24,0,\\\"chat-img-upload\\\"],[16,\\\"data-orig-src\\\",[30,1,[\\\"short_url\\\"]]],[16,\\\"data-large-src\\\",[30,1,[\\\"url\\\"]]],[16,\\\"height\\\",[30,0,[\\\"size\\\",\\\"height\\\"]]],[16,\\\"width\\\",[30,0,[\\\"size\\\",\\\"width\\\"]]],[16,\\\"src\\\",[30,0,[\\\"imageUrl\\\"]]],[16,5,[30,0,[\\\"imageStyle\\\"]]],[24,\\\"loading\\\",\\\"lazy\\\"],[24,\\\"tabindex\\\",\\\"0\\\"],[16,\\\"data-dominant-color\\\",[30,1,[\\\"dominant_color\\\"]]],[4,[32,1],[\\\"load\\\",[30,0,[\\\"imageLoaded\\\"]]],null],[12],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[28,[32,0],[[30,0,[\\\"type\\\"]],[30,0,[\\\"VIDEO_TYPE\\\"]]],null],[[[1,\\\"      \\\"],[10,\\\"video\\\"],[14,0,\\\"chat-video-upload\\\"],[14,\\\"preload\\\",\\\"metadata\\\"],[14,\\\"height\\\",\\\"150\\\"],[14,\\\"controls\\\",\\\"\\\"],[12],[1,\\\"\\\\n        \\\"],[10,\\\"source\\\"],[15,\\\"src\\\",[30,1,[\\\"url\\\"]]],[12],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[28,[32,0],[[30,0,[\\\"type\\\"]],[30,0,[\\\"AUDIO_TYPE\\\"]]],null],[[[1,\\\"      \\\"],[10,\\\"audio\\\"],[14,0,\\\"chat-audio-upload\\\"],[14,\\\"preload\\\",\\\"metadata\\\"],[14,\\\"controls\\\",\\\"\\\"],[12],[1,\\\"\\\\n        \\\"],[10,\\\"source\\\"],[15,\\\"src\\\",[30,1,[\\\"url\\\"]]],[12],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[10,3],[14,0,\\\"chat-other-upload\\\"],[15,\\\"data-orig-href\\\",[30,1,[\\\"short_url\\\"]]],[15,6,[30,1,[\\\"url\\\"]]],[12],[1,\\\"\\\\n        \\\"],[1,[30,1,[\\\"original_filename\\\"]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]]]],[]]]],[]]],[1,\\\"  \\\"]],[\\\"@upload\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-upload.js\",\n    \"scope\": () => [_eq.default, _modifier.on],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"loaded\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"imageLoaded\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"imageLoaded\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-user-avatar\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"@ember/template\", \"discourse/helpers/concat-class\", \"discourse/helpers/user-avatar\", \"discourse/lib/url\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _template, _concatClass, _userAvatar, _url, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatUserAvatar = _exports.default = (_class = (_class2 = class ChatUserAvatar extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n    get avatar() {\n      return (0, _template.htmlSafe)((0, _userAvatar.renderAvatar)(this.args.user, {\n        imageSize: this.avatarSize\n      }));\n    }\n    get interactive() {\n      return this.args.interactive ?? true;\n    }\n    get avatarSize() {\n      return this.args.avatarSize || \"tiny\";\n    }\n    get showPresence() {\n      return this.args.showPresence ?? true;\n    }\n    get isOnline() {\n      const users1 = (this.args.chat || this.chat).presenceChannel?.users;\n      return this.showPresence && !!users1?.find(({\n        id: id1,\n        username: username1\n      }) => this.args.user?.id === id1 || this.args.user?.username === username1);\n    }\n    get userPath() {\n      return (0, _url.userPath)(this.args.user.username);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass \"chat-user-avatar\" (if this.isOnline \"is-online\")}}\n        data-username={{@user.username}}\n      >\n        {{#if this.interactive}}\n          <a\n            class=\"chat-user-avatar__container\"\n            href={{this.userPath}}\n            data-user-card={{@user.username}}\n          >\n            {{this.avatar}}\n          </a>\n        {{else}}\n          <span class=\"chat-user-avatar__container\">\n            {{this.avatar}}\n          </span>\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"q+lVicGx\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-user-avatar\\\",[52,[30,0,[\\\"isOnline\\\"]],\\\"is-online\\\"]],null]],[15,\\\"data-username\\\",[30,1,[\\\"username\\\"]]],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"interactive\\\"]],[[[1,\\\"        \\\"],[10,3],[14,0,\\\"chat-user-avatar__container\\\"],[15,6,[30,0,[\\\"userPath\\\"]]],[15,\\\"data-user-card\\\",[30,1,[\\\"username\\\"]]],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"avatar\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-user-avatar__container\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"avatar\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@user\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-user-avatar.js\",\n    \"scope\": () => [_concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-user-display-name\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/lib/utilities\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _concatClass, _utilities, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatUserDisplayName = _exports.default = (_class = (_class2 = class ChatUserDisplayName extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n    }\n    get shouldPrioritizeNameInUx() {\n      return !this.siteSettings.prioritize_username_in_ux;\n    }\n    get hasValidName() {\n      return this.args.user?.name && this.args.user.name.trim().length > 0;\n    }\n    get formattedUsername() {\n      return (0, _utilities.formatUsername)(this.args.user?.username);\n    }\n    get shouldShowNameFirst() {\n      return this.shouldPrioritizeNameInUx && this.hasValidName;\n    }\n    get shouldShowNameLast() {\n      return !this.shouldPrioritizeNameInUx && this.hasValidName;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <span class=\"chat-user-display-name\">\n        {{#if this.shouldShowNameFirst}}\n          <span class=\"chat-user-display-name__name -first\">{{@user.name}}</span>\n          <span class=\"separator\">—</span>\n        {{/if}}\n  \n        <span\n          class={{concatClass\n            \"chat-user-display-name__username\"\n            (unless this.shouldShowNameFirst \"-first\")\n          }}\n        >\n          {{this.formattedUsername}}\n        </span>\n  \n        {{#if this.shouldShowNameLast}}\n          <span class=\"separator\">—</span>\n          <span class=\"chat-user-display-name__name\">{{@user.name}}</span>\n        {{/if}}\n      </span>\n    \n  */\n  {\n    \"id\": \"gQwu+R1b\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,1],[14,0,\\\"chat-user-display-name\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldShowNameFirst\\\"]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-user-display-name__name -first\\\"],[12],[1,[30,1,[\\\"name\\\"]]],[13],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"separator\\\"],[12],[1,\\\"—\\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[10,1],[15,0,[28,[32,0],[\\\"chat-user-display-name__username\\\",[52,[51,[30,0,[\\\"shouldShowNameFirst\\\"]]],\\\"-first\\\"]],null]],[12],[1,\\\"\\\\n        \\\"],[1,[30,0,[\\\"formattedUsername\\\"]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"shouldShowNameLast\\\"]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"separator\\\"],[12],[1,\\\"—\\\"],[13],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-user-display-name__name\\\"],[12],[1,[30,1,[\\\"name\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@user\\\"],false,[\\\"if\\\",\\\"unless\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-user-display-name.js\",\n    \"scope\": () => [_concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-user-info\", [\"exports\", \"@glimmer/component\", \"discourse/lib/url\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"discourse/plugins/chat/discourse/components/chat-user-display-name\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _url, _chatUserAvatar, _chatUserDisplayName, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatUserInfo extends _component.default {\n    get avatarSize() {\n      return this.args.avatarSize ?? \"medium\";\n    }\n    get userPath() {\n      return (0, _url.userPath)(this.args.user.username);\n    }\n    get interactive() {\n      return this.args.interactive ?? false;\n    }\n  }\n  _exports.default = ChatUserInfo;\n  _class = ChatUserInfo;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @user}}\n        <ChatUserAvatar\n          @user={{@user}}\n          @avatarSize={{this.avatarSize}}\n          @interactive={{this.interactive}}\n        />\n  \n        {{#if this.interactive}}\n          <a href={{this.userPath}} data-user-card={{@user.username}}>\n            <ChatUserDisplayName @user={{@user}} />\n          </a>\n        {{else}}\n          <ChatUserDisplayName @user={{@user}} />\n        {{/if}}\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"Gy9EQPNJ\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[8,[32,0],null,[[\\\"@user\\\",\\\"@avatarSize\\\",\\\"@interactive\\\"],[[30,1],[30,0,[\\\"avatarSize\\\"]],[30,0,[\\\"interactive\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"interactive\\\"]],[[[1,\\\"        \\\"],[10,3],[15,6,[30,0,[\\\"userPath\\\"]]],[15,\\\"data-user-card\\\",[30,1,[\\\"username\\\"]]],[12],[1,\\\"\\\\n          \\\"],[8,[32,1],null,[[\\\"@user\\\"],[[30,1]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[8,[32,1],null,[[\\\"@user\\\"],[[30,1]]],null],[1,\\\"\\\\n\\\"]],[]]]],[]],null],[1,\\\"  \\\"]],[\\\"@user\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat-user-info.js\",\n    \"scope\": () => [_chatUserAvatar.default, _chatUserDisplayName.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat-vh\", [\"exports\", \"@ember/component\", \"@ember/service\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/lib/zoom-check\"], function (_exports, _component, _service, _decorators, _zoomCheck) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _blurActiveElement;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const CSS_VAR = \"--chat-vh\";\n  let lastVH;\n  let ChatVh = _exports.default = (_class = (_blurActiveElement = /*#__PURE__*/new WeakSet(), class ChatVh extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _blurActiveElement);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _defineProperty(this, \"tagName\", \"\");\n    }\n    didInsertElement() {\n      super.didInsertElement(...arguments);\n      if (\"virtualKeyboard\" in navigator) {\n        navigator.virtualKeyboard.overlaysContent = true;\n        navigator.virtualKeyboard.addEventListener(\"geometrychange\", this.setVH);\n      }\n      this.activeWindow = window.visualViewport || window;\n      this.activeWindow.addEventListener(\"resize\", this.setVH);\n      this.setVH();\n    }\n    willDestroyElement() {\n      super.willDestroyElement(...arguments);\n      this.activeWindow?.removeEventListener(\"resize\", this.setVH);\n      lastVH = null;\n      if (\"virtualKeyboard\" in navigator) {\n        navigator.virtualKeyboard.removeEventListener(\"geometrychange\", this.setVH);\n      }\n    }\n    setVH() {\n      if ((0, _zoomCheck.default)()) {\n        return;\n      }\n      let height;\n      if (\"virtualKeyboard\" in navigator) {\n        height = window.visualViewport.height - navigator.virtualKeyboard.boundingRect.height;\n      } else {\n        height = this.activeWindow?.height || window.innerHeight;\n      }\n      const vh = height * 0.01;\n      if (lastVH === vh) {\n        return;\n      }\n      lastVH = vh;\n      document.documentElement.style.setProperty(CSS_VAR, `${vh}px`);\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"setVH\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"setVH\"), _class.prototype)), _class);\n  function _blurActiveElement2() {\n    if (document.activeElement?.blur) {\n      document.activeElement.blur();\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/admin/export-messages\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _ajaxError, _i18n, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatAdminExportMessages = _exports.default = (_class = (_class2 = class ChatAdminExportMessages extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatAdminApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor2, this);\n    }\n    async exportMessages() {\n      try {\n        await this.chatAdminApi.exportMessages();\n        this.dialog.alert(_discourseI18n.default.t(\"chat.admin.export_messages.export_has_started\"));\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <section class=\"admin-section\">\n        <h3>{{i18n \"chat.admin.export_messages.title\"}}</h3>\n        <p>{{i18n \"chat.admin.export_messages.description\"}}</p>\n        <DButton\n          @label=\"chat.admin.export_messages.create_export\"\n          @title=\"chat.admin.export_messages.create_export\"\n          @action={{this.exportMessages}}\n          class=\"btn-primary\"\n        />\n      </section>\n    \n  */\n  {\n    \"id\": \"JJJVlSh/\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,\\\"section\\\"],[14,0,\\\"admin-section\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"h3\\\"],[12],[1,[28,[32,0],[\\\"chat.admin.export_messages.title\\\"],null]],[13],[1,\\\"\\\\n      \\\"],[10,2],[12],[1,[28,[32,0],[\\\"chat.admin.export_messages.description\\\"],null]],[13],[1,\\\"\\\\n      \\\"],[8,[32,1],[[24,0,\\\"btn-primary\\\"]],[[\\\"@label\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"chat.admin.export_messages.create_export\\\",\\\"chat.admin.export_messages.create_export\\\",[30,0,[\\\"exportMessages\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/admin/export-messages.js\",\n    \"scope\": () => [_i18n.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatAdminApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"exportMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"exportMessages\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/composer/button\", [\"exports\", \"discourse-common/helpers/d-icon\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _dIcon, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatComposerButton = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-composer-button__wrapper\">\n      <button type=\"button\" class=\"chat-composer-button\" ...attributes>\n        {{dIcon @icon}}\n      </button>\n    </div>\n  \n  */\n  {\n    \"id\": \"FSPgr3RE\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-composer-button__wrapper\\\"],[12],[1,\\\"\\\\n    \\\"],[11,\\\"button\\\"],[24,4,\\\"button\\\"],[24,0,\\\"chat-composer-button\\\"],[17,1],[12],[1,\\\"\\\\n      \\\"],[1,[28,[32,0],[[30,2]],null]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[\\\"&attrs\\\",\\\"@icon\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/composer/button.js\",\n    \"scope\": () => [_dIcon.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatComposerButton;\n});","define(\"discourse/plugins/chat/discourse/components/chat/composer/channel\", [\"exports\", \"@ember/object\", \"@ember/service\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-composer\"], function (_exports, _object, _service, _decorators, _discourseI18n, _chatComposer) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _messageRecipients;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatComposerChannel = _exports.default = (_dec = (0, _service.inject)(\"chat-channel-composer\"), _dec2 = (0, _service.inject)(\"chat-channel-pane\"), _dec3 = (0, _decorators.debounce)(2000), (_class = (_messageRecipients = /*#__PURE__*/new WeakSet(), class ChatComposerChannel extends _chatComposer.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _messageRecipients);\n      _initializerDefineProperty(this, \"composer\", _descriptor, this);\n      _initializerDefineProperty(this, \"pane\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor4, this);\n      _defineProperty(this, \"context\", \"channel\");\n      _defineProperty(this, \"composerId\", \"channel-composer\");\n    }\n    persistDraft() {\n      this.chatDraftsManager.add(this.draft, this.args.channel.id);\n    }\n    destroyDraft() {\n      this.chatDraftsManager.remove(this.args.channel.id);\n    }\n    resetDraft() {\n      this.args.channel.resetDraft(this.currentUser);\n    }\n    get draft() {\n      return this.args.channel.draft;\n    }\n    get presenceChannelName() {\n      const channel = this.args.channel;\n      return `/chat-reply/${channel.id}`;\n    }\n    get disabled() {\n      return !this.chat.userCanInteractWithChat || !this.args.channel.canModifyMessages(this.currentUser);\n    }\n    get lastMessage() {\n      return this.args.channel.lastMessage;\n    }\n    lastUserMessage(user) {\n      return this.args.channel.messagesManager.findLastUserMessage(user);\n    }\n    get placeholder() {\n      if (!this.args.channel.canModifyMessages(this.currentUser)) {\n        return _discourseI18n.default.t(`chat.placeholder_new_message_disallowed.${this.args.channel.status}`);\n      }\n      if (!this.chat.userCanInteractWithChat) {\n        return _discourseI18n.default.t(\"chat.placeholder_silenced\");\n      } else {\n        return _classPrivateMethodGet(this, _messageRecipients, _messageRecipients2).call(this, this.args.channel);\n      }\n    }\n    handleEscape(event) {\n      event.stopPropagation();\n      if (this.draft?.inReplyTo) {\n        this.draft.inReplyTo = null;\n      } else if (this.draft?.editing) {\n        this.args.channel.resetDraft(this.currentUser);\n      } else {\n        event.target.blur();\n      }\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"composer\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"pane\", [_dec2], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"persistDraft\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"persistDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destroyDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"destroyDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetDraft\"), _class.prototype)), _class));\n  function _messageRecipients2(channel) {\n    if (channel.isDirectMessageChannel) {\n      if (channel.chatable.group && channel.title) {\n        return _discourseI18n.default.t(\"chat.placeholder_channel\", {\n          channelName: `#${channel.title}`\n        });\n      } else {\n        const directMessageRecipients = channel.chatable.users;\n        if (directMessageRecipients.length === 1 && directMessageRecipients[0].id === this.currentUser.id) {\n          return _discourseI18n.default.t(\"chat.placeholder_self\");\n        }\n        return _discourseI18n.default.t(\"chat.placeholder_users\", {\n          commaSeparatedNames: directMessageRecipients.map(u => u.name || `@${u.username}`).join(_discourseI18n.default.t(\"word_connector.comma\"))\n        });\n      }\n    } else {\n      return _discourseI18n.default.t(\"chat.placeholder_channel\", {\n        channelName: `#${channel.title}`\n      });\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/composer/separator\", [\"exports\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatComposerSeparator = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-composer-separator\"></div>\n  \n  */\n  {\n    \"id\": \"veyKKlKC\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-composer-separator\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/composer/separator.js\",\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatComposerSeparator;\n});","define(\"discourse/plugins/chat/discourse/components/chat/composer/thread\", [\"exports\", \"@ember/object\", \"@ember/service\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/components/chat-composer\"], function (_exports, _object, _service, _decorators, _discourseI18n, _chatMessage, _chatComposer) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatComposerThread = _exports.default = (_dec = (0, _service.inject)(\"chat-channel-composer\"), _dec2 = (0, _service.inject)(\"chat-thread-composer\"), _dec3 = (0, _service.inject)(\"chat-thread-pane\"), _dec4 = (0, _decorators.debounce)(2000), (_class = class ChatComposerThread extends _chatComposer.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"channelComposer\", _descriptor, this);\n      _initializerDefineProperty(this, \"composer\", _descriptor2, this);\n      _initializerDefineProperty(this, \"pane\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor5, this);\n      _defineProperty(this, \"context\", \"thread\");\n      _defineProperty(this, \"composerId\", \"thread-composer\");\n    }\n    persistDraft() {\n      this.chatDraftsManager.add(this.draft, this.args.thread.channel.id, this.args.thread.id);\n    }\n    destroyDraft() {\n      this.chatDraftsManager.remove(this.args.thread.channel.id, this.args.thread.id);\n    }\n    resetDraft() {\n      this.args.thread.resetDraft(this.currentUser);\n    }\n    get draft() {\n      return this.args.thread.draft;\n    }\n    get disabled() {\n      return !this.chat.userCanInteractWithChat || !this.args.thread.channel.canModifyMessages(this.currentUser);\n    }\n    get presenceChannelName() {\n      const thread = this.args.thread;\n      return `/chat-reply/${thread.channel.id}/thread/${thread.id}`;\n    }\n    get placeholder() {\n      return _discourseI18n.default.t(\"chat.placeholder_thread\");\n    }\n    lastUserMessage(user) {\n      return this.args.thread.messagesManager.findLastUserMessage(user);\n    }\n    handleEscape(event) {\n      if (this.draft.editing) {\n        event.stopPropagation();\n        this.args.thread.draft = _chatMessage.default.createDraftMessage(this.args.thread.channel, {\n          user: this.currentUser,\n          thread: this.args.thread\n        });\n        return;\n      }\n      if (this.isFocused) {\n        event.stopPropagation();\n        this.composer.blur();\n      } else {\n        this.pane.close().then(() => {\n          this.channelComposer.focus();\n        });\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"channelComposer\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"composer\", [_dec2], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"pane\", [_dec3], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"persistDraft\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"persistDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destroyDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"destroyDraft\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetDraft\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetDraft\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-thread\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/service\", \"discourse/lib/ajax-error\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-thread\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _object, _didInsert, _didUpdate, _service, _ajaxError, _discourseI18n, _navbar, _chatThread, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDrawerRoutesChannelThread = _exports.default = (_class = (_class2 = class ChatDrawerRoutesChannelThread extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatHistory\", _descriptor4, this);\n    }\n    get backButton() {\n      const link1 = {\n        models: this.chat.activeChannel?.routeModels\n      };\n      if (this.chatHistory.previousRoute?.name === \"chat.channel.threads\") {\n        link1.title = _discourseI18n.default.t(\"chat.return_to_threads_list\");\n        link1.route = \"chat.channel.threads\";\n      } else if (this.chatHistory.previousRoute?.name === \"chat.threads\") {\n        link1.title = _discourseI18n.default.t(\"chat.my_threads.title\");\n        link1.route = \"chat.threads\";\n        link1.models = [];\n      } else {\n        link1.title = _discourseI18n.default.t(\"chat.return_to_channel\");\n        link1.route = \"chat.channel\";\n      }\n      return link1;\n    }\n    get threadTitle() {\n      return this.chat.activeChannel?.activeThread?.title ?? _discourseI18n.default.t(\"chat.thread.label\");\n    }\n    async fetchChannelAndThread() {\n      if (!this.args.params?.channelId || !this.args.params?.threadId) {\n        return;\n      }\n      try {\n        const channel1 = await this.chatChannelsManager.find(this.args.params.channelId);\n        this.chat.activeChannel = channel1;\n        channel1.threadsManager.find(channel1.id, this.args.params.threadId).then(thread1 => {\n          this.chat.activeChannel.activeThread = thread1;\n        });\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar @onClick={{this.chat.toggleDrawer}} as |navbar|>\n        <navbar.BackButton\n          @title={{this.backButton.title}}\n          @route={{this.backButton.route}}\n          @routeModels={{this.backButton.models}}\n        />\n        <navbar.Title @title={{this.threadTitle}} @icon=\"discourse-threads\" />\n        <navbar.Actions as |action|>\n          <action.ToggleDrawerButton />\n          <action.FullPageButton />\n          <action.CloseDrawerButton />\n        </navbar.Actions>\n      </Navbar>\n  \n      {{#if this.chatStateManager.isDrawerExpanded}}\n        <div\n          class=\"chat-drawer-content\"\n          {{didInsert this.fetchChannelAndThread}}\n          {{didUpdate this.fetchChannelAndThread @params.channelId}}\n          {{didUpdate this.fetchChannelAndThread @params.threadId}}\n        >\n          {{#each (array this.chat.activeChannel.activeThread) as |thread|}}\n            {{#if thread}}\n              <ChatThread\n                @thread={{thread}}\n                @targetMessageId={{@params.messageId}}\n              />\n            {{/if}}\n          {{/each}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"+K4E20f5\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@onClick\\\"],[[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@title\\\",\\\"@route\\\",\\\"@routeModels\\\"],[[30,0,[\\\"backButton\\\",\\\"title\\\"]],[30,0,[\\\"backButton\\\",\\\"route\\\"]],[30,0,[\\\"backButton\\\",\\\"models\\\"]]]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\",\\\"@icon\\\"],[[30,0,[\\\"threadTitle\\\"]],\\\"discourse-threads\\\"]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"ToggleDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"FullPageButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"CloseDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n      \\\"]],[2]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-drawer-content\\\"],[4,[32,1],[[30,0,[\\\"fetchChannelAndThread\\\"]]],null],[4,[32,2],[[30,0,[\\\"fetchChannelAndThread\\\"]],[30,3,[\\\"channelId\\\"]]],null],[4,[32,2],[[30,0,[\\\"fetchChannelAndThread\\\"]],[30,3,[\\\"threadId\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[28,[32,3],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"activeThread\\\"]]],null]],null]],null],null,[[[41,[30,4],[[[1,\\\"            \\\"],[8,[32,4],null,[[\\\"@thread\\\",\\\"@targetMessageId\\\"],[[30,4],[30,3,[\\\"messageId\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null]],[4]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"navbar\\\",\\\"action\\\",\\\"@params\\\",\\\"thread\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-thread.js\",\n    \"scope\": () => [_navbar.default, _didInsert.default, _didUpdate.default, _helper.array, _chatThread.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatHistory\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"fetchChannelAndThread\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchChannelAndThread\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-threads\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/service\", \"discourse/helpers/replace-emoji\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/html-safe\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-thread-list\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _didInsert, _service, _replaceEmoji, _ajaxError, _htmlSafe, _discourseI18n, _navbar, _chatThreadList, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDrawerRoutesChannelThreads = _exports.default = (_class = (_class2 = class ChatDrawerRoutesChannelThreads extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n      _defineProperty(this, \"backLinkTitle\", _discourseI18n.default.t(\"chat.return_to_list\"));\n    }\n    get title() {\n      return (0, _htmlSafe.default)(_discourseI18n.default.t(\"chat.threads.list\") + \" - \" + (0, _replaceEmoji.default)(this.chat.activeChannel.title));\n    }\n    async fetchChannel() {\n      if (!this.args.params?.channelId) {\n        return;\n      }\n      try {\n        const channel1 = await this.chatChannelsManager.find(this.args.params.channelId);\n        this.chat.activeChannel = channel1;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.chat.activeChannel}}\n        <Navbar @onClick={{this.chat.toggleDrawer}} as |navbar|>\n          <navbar.BackButton\n            @title={{this.backLinkTitle}}\n            @route=\"chat.channel\"\n            @routeModels={{this.chat.activeChannel.routeModels}}\n          />\n          <navbar.Title @title={{this.title}} @icon=\"discourse-threads\" />\n          <navbar.Actions as |action|>\n            <action.ToggleDrawerButton />\n            <action.FullPageButton />\n            <action.CloseDrawerButton />\n          </navbar.Actions>\n        </Navbar>\n      {{/if}}\n  \n      <div class=\"chat-drawer-content\" {{didInsert this.fetchChannel}}>\n        {{#if this.chat.activeChannel}}\n          <ChatThreadList\n            @channel={{this.chat.activeChannel}}\n            @includeHeader={{false}}\n          />\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"pvb2+2ix\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]],[[[1,\\\"      \\\"],[8,[32,0],null,[[\\\"@onClick\\\"],[[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@title\\\",\\\"@route\\\",\\\"@routeModels\\\"],[[30,0,[\\\"backLinkTitle\\\"]],\\\"chat.channel\\\",[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"routeModels\\\"]]]],null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\",\\\"@icon\\\"],[[30,0,[\\\"title\\\"]],\\\"discourse-threads\\\"]],null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"ToggleDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"FullPageButton\\\"]],null,null,null],[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"CloseDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"]],[2]]]]],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n    \\\"],[11,0],[24,0,\\\"chat-drawer-content\\\"],[4,[32,1],[[30,0,[\\\"fetchChannel\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]],[[[1,\\\"        \\\"],[8,[32,2],null,[[\\\"@channel\\\",\\\"@includeHeader\\\"],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]],false]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-threads.js\",\n    \"scope\": () => [_navbar.default, _didInsert.default, _chatThreadList.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"fetchChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchChannel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/did-update\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _object, _didInsert, _didUpdate, _service, _navbar, _chatChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDrawerRoutesChannel = _exports.default = (_class = (_class2 = class ChatDrawerRoutesChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor3, this);\n    }\n    fetchChannel() {\n      if (!this.args.params?.channelId) {\n        return;\n      }\n      return this.chatChannelsManager.find(this.args.params.channelId).then(channel1 => {\n        this.chat.activeChannel = channel1;\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar @onClick={{this.chat.toggleDrawer}} as |navbar|>\n        <navbar.BackButton />\n        <navbar.ChannelTitle @channel={{this.chat.activeChannel}} />\n        <navbar.Actions as |action|>\n          <action.ThreadsListButton @channel={{this.chat.activeChannel}} />\n          <action.ToggleDrawerButton />\n          <action.FullPageButton />\n          <action.CloseDrawerButton />\n        </navbar.Actions>\n      </Navbar>\n  \n      {{#if this.chatStateManager.isDrawerExpanded}}\n        <div\n          class=\"chat-drawer-content\"\n          {{didInsert this.fetchChannel}}\n          {{didUpdate this.fetchChannel @params.channelId}}\n        >\n          {{#if this.chat.activeChannel}}\n            {{#each (array this.chat.activeChannel) as |channel|}}\n              {{#if channel}}\n                <ChatChannel\n                  @targetMessageId={{readonly @params.messageId}}\n                  @channel={{channel}}\n                />\n              {{/if}}\n            {{/each}}\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"E3hq54z9\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@onClick\\\"],[[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,null,null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"ChannelTitle\\\"]],null,[[\\\"@channel\\\"],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]]]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"ThreadsListButton\\\"]],null,[[\\\"@channel\\\"],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]]]],null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"ToggleDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"FullPageButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"CloseDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n      \\\"]],[2]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-drawer-content\\\"],[4,[32,1],[[30,0,[\\\"fetchChannel\\\"]]],null],[4,[32,2],[[30,0,[\\\"fetchChannel\\\"]],[30,3,[\\\"channelId\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]],[[[42,[28,[31,2],[[28,[31,2],[[28,[32,3],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\"]]],null]],null]],null],null,[[[41,[30,4],[[[1,\\\"              \\\"],[8,[32,4],null,[[\\\"@targetMessageId\\\",\\\"@channel\\\"],[[28,[31,3],[[30,3,[\\\"messageId\\\"]]],null],[30,4]]],null],[1,\\\"\\\\n\\\"]],[]],null]],[4]],null]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"navbar\\\",\\\"action\\\",\\\"@params\\\",\\\"channel\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\",\\\"readonly\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/drawer-routes/channel.js\",\n    \"scope\": () => [_navbar.default, _didInsert.default, _didUpdate.default, _helper.array, _chatChannel.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"fetchChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchChannel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/drawer-routes/channels\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/components/channels-list\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _i18n, _channelsList, _navbar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDrawerRoutesChannels = _exports.default = (_class = (_class2 = class ChatDrawerRoutesChannels extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar @onClick={{this.chat.toggleDrawer}} as |navbar|>\n        <navbar.Title @title={{i18n \"chat.heading\"}} />\n        <navbar.Actions as |action|>\n          <action.ToggleDrawerButton />\n          <action.FullPageButton />\n          <action.CloseDrawerButton />\n        </navbar.Actions>\n      </Navbar>\n  \n      {{#if this.chatStateManager.isDrawerExpanded}}\n        <div class=\"chat-drawer-content\">\n          <ChannelsList />\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"mLeFOuLH\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@onClick\\\"],[[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\"],[[28,[32,1],[\\\"chat.heading\\\"],null]]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"ToggleDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"FullPageButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"CloseDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n      \\\"]],[2]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-drawer-content\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,2],null,null,null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"navbar\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/drawer-routes/channels.js\",\n    \"scope\": () => [_navbar.default, _i18n.default, _channelsList.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/drawer-routes/threads\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/user-threads\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _i18n, _discourseI18n, _navbar, _userThreads, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDrawerRoutesThreads = _exports.default = (_class = (_class2 = class ChatDrawerRoutesThreads extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n      _defineProperty(this, \"backButtonTitle\", _discourseI18n.default.t(\"chat.return_to_list\"));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar @onClick={{this.chat.toggleDrawer}} as |navbar|>\n        <navbar.BackButton @title={{this.backButtonTitle}} />\n        <navbar.Title\n          @title={{i18n \"chat.my_threads.title\"}}\n          @icon=\"discourse-threads\"\n          as |title|\n        >\n          <title.SubTitle @title={{this.chat.activeChannel.title}} />\n        </navbar.Title>\n        <navbar.Actions as |action|>\n          <action.ThreadsListButton />\n          <action.ToggleDrawerButton />\n          <action.FullPageButton />\n          <action.CloseDrawerButton />\n        </navbar.Actions>\n      </Navbar>\n  \n      {{#if this.chatStateManager.isDrawerExpanded}}\n        <div class=\"chat-drawer-content\">\n          <UserThreads />\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"TihsSBn7\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@onClick\\\"],[[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"backButtonTitle\\\"]]]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\",\\\"@icon\\\"],[[28,[32,1],[\\\"chat.my_threads.title\\\"],null],\\\"discourse-threads\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,2,[\\\"SubTitle\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"chat\\\",\\\"activeChannel\\\",\\\"title\\\"]]]],null],[1,\\\"\\\\n      \\\"]],[2]]]]],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"ThreadsListButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"ToggleDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"FullPageButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"CloseDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n      \\\"]],[3]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-drawer-content\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,2],null,null,null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"navbar\\\",\\\"title\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/drawer-routes/threads.js\",\n    \"scope\": () => [_navbar.default, _i18n.default, _userThreads.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/form\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/chat/form/section\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _section, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatForm extends _component.default {\n    get yieldableArgs() {\n      return {\n        section: _section.default\n      };\n    }\n  }\n  _exports.default = ChatForm;\n  _class = ChatForm;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-form\">\n        {{yield this.yieldableArgs}}\n      </div>\n    \n  */\n  {\n    \"id\": \"3+vq4mln\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-form\\\"],[12],[1,\\\"\\\\n      \\\"],[18,1,[[30,0,[\\\"yieldableArgs\\\"]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&default\\\"],false,[\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/form.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/form/row\", [\"exports\", \"@ember/routing\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/d-icon\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _routing, _concatClass, _dIcon, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatFormRow = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    {{#if @route}}\n      <LinkTo\n        @route={{@route}}\n        @models={{@routeModels}}\n        class={{concatClass \"chat-form__row -link\" (if @separator \"-separator\")}}\n      >\n        <div class=\"chat-form__row-content\">\n          {{@label}}\n          {{icon \"chevron-right\" class=\"chat-form__row-icon\"}}\n        </div>\n      </LinkTo>\n    {{else}}\n      <div class={{concatClass \"chat-form__row\" (if @separator \"-separator\")}}>\n        <div class=\"chat-form__row-content\">\n          {{#if @label}}\n            <span class=\"chat-form__row-label\">{{@label}}</span>\n          {{/if}}\n  \n          {{#if (has-block)}}\n            <span class=\"chat-form__row-label\">\n              {{yield}}\n            </span>\n          {{/if}}\n  \n          {{#if (has-block \"action\")}}\n            <div class=\"chat-form__row-action\">{{yield to=\"action\"}}</div>\n          {{/if}}\n        </div>\n  \n        {{#if (has-block \"description\")}}\n          <div class=\"chat-form__row-description\">\n            {{yield to=\"description\"}}\n          </div>\n        {{/if}}\n      </div>\n    {{/if}}\n  \n  */\n  {\n    \"id\": \"32OcXMVo\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"    \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"chat-form__row -link\\\",[52,[30,2],\\\"-separator\\\"]],null]]],[[\\\"@route\\\",\\\"@models\\\"],[[30,1],[30,3]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-form__row-content\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[30,4]],[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[\\\"chevron-right\\\"],[[\\\"class\\\"],[\\\"chat-form__row-icon\\\"]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"    \\\"],[10,0],[15,0,[28,[32,1],[\\\"chat-form__row\\\",[52,[30,2],\\\"-separator\\\"]],null]],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-form__row-content\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,4],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-form__row-label\\\"],[12],[1,[30,4]],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[48,[30,5]],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-form__row-label\\\"],[12],[1,\\\"\\\\n            \\\"],[18,5,null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[48,[30,6]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-form__row-action\\\"],[12],[18,6,null],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[48,[30,7]],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-form__row-description\\\"],[12],[1,\\\"\\\\n          \\\"],[18,7,null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\"]],[]]]],[\\\"@route\\\",\\\"@separator\\\",\\\"@routeModels\\\",\\\"@label\\\",\\\"&default\\\",\\\"&action\\\",\\\"&description\\\"],false,[\\\"if\\\",\\\"has-block\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/form/row.js\",\n    \"scope\": () => [_routing.LinkTo, _concatClass.default, _dIcon.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatFormRow;\n});","define(\"discourse/plugins/chat/discourse/components/chat/form/section\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/chat/form/row\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _row, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatFormSection extends _component.default {\n    get yieldableArgs() {\n      return {\n        row: _row.default\n      };\n    }\n  }\n  _exports.default = ChatFormSection;\n  _class = ChatFormSection;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-form__section\" ...attributes>\n        {{#if @title}}\n          <div class=\"chat-form__section-title\">\n            {{@title}}\n          </div>\n        {{/if}}\n  \n        <div class=\"chat-form__section-content\">\n          {{yield this.yieldableArgs}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"wa01zsEX\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[24,0,\\\"chat-form__section\\\"],[17,1],[12],[1,\\\"\\\\n\\\"],[41,[30,2],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-form__section-title\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,2]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-form__section-content\\\"],[12],[1,\\\"\\\\n        \\\"],[18,3,[[30,0,[\\\"yieldableArgs\\\"]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&attrs\\\",\\\"@title\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/form/section.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/header/icon\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/d-icon\", \"discourse-common/lib/get-url\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/header/icon/unread-indicator\", \"discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _concatClass, _dIcon, _getUrl, _discourseI18n, _unreadIndicator, _getUserChatSeparateSidebarMode, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatHeaderIcon = _exports.default = (_class = (_class2 = class ChatHeaderIcon extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"router\", _descriptor4, this);\n    }\n    get showUnreadIndicator() {\n      if (this.chatStateManager.isFullPageActive && this.site.desktopView) {\n        return false;\n      }\n      return !this.currentUserInDnD;\n    }\n    get currentUserInDnD() {\n      return this.args.currentUserInDnD || this.currentUser.isInDoNotDisturb();\n    }\n    get chatSeparateSidebarMode() {\n      return (0, _getUserChatSeparateSidebarMode.getUserChatSeparateSidebarMode)(this.currentUser);\n    }\n    get isActive() {\n      return this.args.isActive || this.chatStateManager.isFullPageActive || this.chatStateManager.isDrawerActive;\n    }\n    get title() {\n      if (this.chatStateManager.isFullPageActive && !this.chatSeparateSidebarMode.never && !this.site.mobileView) {\n        return _discourseI18n.default.t(\"sidebar.panels.forum.label\");\n      }\n      return _discourseI18n.default.t(\"chat.title_capitalized\");\n    }\n    get icon() {\n      if (this.chatStateManager.isFullPageActive && !this.chatSeparateSidebarMode.never && !this.site.mobileView) {\n        return \"random\";\n      }\n      return \"d-chat\";\n    }\n    get href() {\n      if (this.site.mobileView && this.chatStateManager.isFullPageActive) {\n        return (0, _getUrl.default)(\"/chat\");\n      }\n      if (this.chatStateManager.isFullPageActive && !this.chatSeparateSidebarMode.never) {\n        return (0, _getUrl.default)(this.chatStateManager.lastKnownAppURL || \"/\");\n      }\n      if (this.chatStateManager.isDrawerActive) {\n        return (0, _getUrl.default)(\"/chat\");\n      }\n      return (0, _getUrl.default)(this.chatStateManager.lastKnownChatURL || \"/chat\");\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <a\n        href={{this.href}}\n        tabindex=\"0\"\n        class={{concatClass \"icon\" \"btn-flat\" (if this.isActive \"active\")}}\n        title={{this.title}}\n      >\n        {{~icon this.icon~}}\n        {{#if this.showUnreadIndicator}}\n          <ChatHeaderIconUnreadIndicator\n            @urgentCount={{@urgentCount}}\n            @unreadCount={{@unreadCount}}\n            @indicatorPreference={{@indicatorPreference}}\n          />\n        {{/if}}\n      </a>\n    \n  */\n  {\n    \"id\": \"ZfeE18XD\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,3],[15,6,[30,0,[\\\"href\\\"]]],[14,\\\"tabindex\\\",\\\"0\\\"],[15,0,[28,[32,0],[\\\"icon\\\",\\\"btn-flat\\\",[52,[30,0,[\\\"isActive\\\"]],\\\"active\\\"]],null]],[15,\\\"title\\\",[30,0,[\\\"title\\\"]]],[12],[1,[28,[32,1],[[30,0,[\\\"icon\\\"]]],null]],[41,[30,0,[\\\"showUnreadIndicator\\\"]],[[[1,\\\"        \\\"],[8,[32,2],null,[[\\\"@urgentCount\\\",\\\"@unreadCount\\\",\\\"@indicatorPreference\\\"],[[30,1],[30,2],[30,3]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@urgentCount\\\",\\\"@unreadCount\\\",\\\"@indicatorPreference\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/header/icon.js\",\n    \"scope\": () => [_concatClass.default, _dIcon.default, _unreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/header/icon/unread-indicator\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/plugins/chat/discourse/controllers/preferences-chat\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _preferencesChat, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2, _hasAnyIndicatorPreference;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const MAX_UNREAD_COUNT = 99;\n  let ChatHeaderIconUnreadIndicator = _exports.default = (_class = (_hasAnyIndicatorPreference = /*#__PURE__*/new WeakSet(), (_class2 = class ChatHeaderIconUnreadIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _hasAnyIndicatorPreference);\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n    }\n    get urgentCount() {\n      return this.args.urgentCount || this.chatTrackingStateManager.allChannelUrgentCount;\n    }\n    get mentionCount() {\n      return this.args.mentionCount || this.chatTrackingStateManager.allChannelMentionCount;\n    }\n    get unreadCount() {\n      return this.args.unreadCount || this.chatTrackingStateManager.publicChannelUnreadCount;\n    }\n    get indicatorPreference() {\n      return this.args.indicatorPreference || this.currentUser.user_option.chat_header_indicator_preference;\n    }\n    get showUrgentIndicator() {\n      if (this.onlyMentions) {\n        return this.mentionCount > 0;\n      }\n      return this.urgentCount > 0 && _classPrivateMethodGet(this, _hasAnyIndicatorPreference, _hasAnyIndicatorPreference2).call(this, [_preferencesChat.HEADER_INDICATOR_PREFERENCE_ALL_NEW, _preferencesChat.HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS]);\n    }\n    get showUnreadIndicator() {\n      return this.unreadCount > 0 && _classPrivateMethodGet(this, _hasAnyIndicatorPreference, _hasAnyIndicatorPreference2).call(this, [_preferencesChat.HEADER_INDICATOR_PREFERENCE_ALL_NEW]);\n    }\n    get urgentCountLabel() {\n      let totalCount1 = this.onlyMentions ? this.mentionCount : this.urgentCount;\n      return totalCount1 > MAX_UNREAD_COUNT ? `${MAX_UNREAD_COUNT}+` : totalCount1;\n    }\n    get onlyMentions() {\n      return _classPrivateMethodGet(this, _hasAnyIndicatorPreference, _hasAnyIndicatorPreference2).call(this, [_preferencesChat.HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS]);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showUrgentIndicator}}\n        <div class=\"chat-channel-unread-indicator -urgent\">\n          <div class=\"chat-channel-unread-indicator__number\">\n            {{this.urgentCountLabel}}\n          </div>\n        </div>\n      {{else if this.showUnreadIndicator}}\n        <div class=\"chat-channel-unread-indicator\"></div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"DCGuCxLO\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showUrgentIndicator\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-channel-unread-indicator -urgent\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-channel-unread-indicator__number\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"urgentCountLabel\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,0,[\\\"showUnreadIndicator\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-channel-unread-indicator\\\"],[12],[13],[1,\\\"\\\\n    \\\"]],[]],null]],[]]],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/header/icon/unread-indicator.js\",\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _hasAnyIndicatorPreference2(preferences1) {\n    if (!this.currentUser || this.indicatorPreference === _preferencesChat.HEADER_INDICATOR_PREFERENCE_NEVER) {\n      return false;\n    }\n    return preferences1.includes(this.indicatorPreference);\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/list/empty-state\", [\"exports\", \"@glimmer/component\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class EmptyState extends _component.default {}\n  _exports.default = EmptyState;\n  _class = EmptyState;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-list-empty-state\" ...attributes>\n        {{yield}}\n      </div>\n    \n  */\n  {\n    \"id\": \"7XwB1TCv\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[24,0,\\\"c-list-empty-state\\\"],[17,1],[12],[1,\\\"\\\\n      \\\"],[18,2,null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&attrs\\\",\\\"&default\\\"],false,[\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/list/empty-state.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/list/index\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/object\", \"ember-modifier\", \"discourse/components/conditional-loading-spinner\", \"discourse/lib/is-element-in-viewport\", \"discourse-common/config/environment\", \"discourse-common/lib/debounce\", \"discourse/plugins/chat/discourse/components/chat/list/empty-state\", \"discourse/plugins/chat/discourse/components/chat/list/item\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _object, _emberModifier, _conditionalLoadingSpinner, _isElementInViewport, _environment, _debounce, _emptyState, _item, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let List = _exports.default = (_class = (_class2 = class List extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"loadMore\", (0, _emberModifier.modifier)(element1 => {\n        this.intersectionObserver = new IntersectionObserver(this.loadCollection);\n        this.intersectionObserver.observe(element1);\n        return () => {\n          this.intersectionObserver.disconnect();\n        };\n      }));\n      _defineProperty(this, \"fill\", (0, _emberModifier.modifier)(element1 => {\n        this.resizeObserver = new ResizeObserver(() => {\n          if ((0, _isElementInViewport.default)(element1)) {\n            this.loadCollection();\n          }\n        });\n        this.resizeObserver.observe(element1);\n        return () => {\n          this.resizeObserver.disconnect();\n        };\n      }));\n    }\n    get itemComponent() {\n      return this.args.itemComponent ?? _item.default;\n    }\n    get emptyStateComponent() {\n      return _emptyState.default;\n    }\n    loadCollection() {\n      (0, _debounce.default)(this, this.debouncedLoadCollection, _environment.INPUT_DELAY);\n    }\n    async debouncedLoadCollection() {\n      await this.args.collection.load({\n        limit: 10\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-list\">\n        <div {{this.fill}} ...attributes>\n          {{#each @collection.items as |item|}}\n            {{yield (hash Item=(component this.itemComponent item=item))}}\n          {{else}}\n            {{#if @collection.fetchedOnce}}\n              {{yield (hash EmptyState=this.emptyStateComponent)}}\n            {{/if}}\n          {{/each}}\n        </div>\n  \n        <div {{this.loadMore}}>\n          <br />\n        </div>\n  \n        <ConditionalLoadingSpinner @condition={{@collection.loading}} />\n      </div>\n    \n  */\n  {\n    \"id\": \"pZYJQ9vz\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-list\\\"],[12],[1,\\\"\\\\n      \\\"],[11,0],[17,1],[4,[30,0,[\\\"fill\\\"]],null,null],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,2,[\\\"items\\\"]]],null]],null],null,[[[1,\\\"          \\\"],[18,4,[[28,[32,0],null,[[\\\"Item\\\"],[[50,[30,0,[\\\"itemComponent\\\"]],0,null,[[\\\"item\\\"],[[30,3]]]]]]]]],[1,\\\"\\\\n\\\"]],[3]],[[[41,[30,2,[\\\"fetchedOnce\\\"]],[[[1,\\\"            \\\"],[18,4,[[28,[32,0],null,[[\\\"EmptyState\\\"],[[30,0,[\\\"emptyStateComponent\\\"]]]]]]],[1,\\\"\\\\n\\\"]],[]],null]],[]]],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[11,0],[4,[30,0,[\\\"loadMore\\\"]],null,null],[12],[1,\\\"\\\\n        \\\"],[10,\\\"br\\\"],[12],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,1],null,[[\\\"@condition\\\"],[[30,2,[\\\"loading\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&attrs\\\",\\\"@collection\\\",\\\"item\\\",\\\"&default\\\"],false,[\\\"each\\\",\\\"-track-array\\\",\\\"yield\\\",\\\"component\\\",\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/list/index.js\",\n    \"scope\": () => [_helper.hash, _conditionalLoadingSpinner.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_applyDecoratedDescriptor(_class.prototype, \"loadCollection\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"loadCollection\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/list/item\", [\"exports\", \"@glimmer/component\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class Item extends _component.default {}\n  _exports.default = Item;\n  _class = Item;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{yield @item}}\n    \n  */\n  {\n    \"id\": \"RlURXGnU\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[18,2,[[30,1]]],[1,\\\"\\\\n  \\\"]],[\\\"@item\\\",\\\"&default\\\"],false,[\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/list/item.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/add-members\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax-error\", \"discourse-i18n\", \"truth-helpers/helpers/gte\", \"discourse/plugins/chat/discourse/components/chat/message-creator/members-count\", \"discourse/plugins/chat/discourse/components/chat/message-creator/members-selector\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _ajaxError, _discourseI18n, _gte, _membersCount, _membersSelector, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let AddMembers = _exports.default = (_class = (_class2 = class AddMembers extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n      _initializerDefineProperty(this, \"toasts\", _descriptor4, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor5, this);\n      _initializerDefineProperty(this, \"loadingSlider\", _descriptor6, this);\n    }\n    get membersCount() {\n      return this.args.members?.length + (this.args.channel?.membershipsCount ?? 0);\n    }\n    async saveGroupMembers() {\n      try {\n        this.loadingSlider.transitionStarted();\n        await this.chatApi.addMembersToChannel(this.args.channel.id, this.args.members.mapBy(\"model.username\"));\n        this.toasts.success({\n          data: {\n            message: _discourseI18n.default.t(\"saved\")\n          }\n        });\n        this.router.transitionTo(\"chat.channel\", ...this.args.channel.routeModels);\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      } finally {\n        this.loadingSlider.transitionEnded();\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__add-members-container\">\n        <div class=\"chat-message-creator__add-members\">\n          <MembersCount\n            @count={{this.membersCount}}\n            @max={{this.siteSettings.chat_max_direct_message_users}}\n          />\n  \n          <MembersSelector\n            @channel={{@channel}}\n            @members={{@members}}\n            @onChange={{@onChangeMembers}}\n            @close={{@close}}\n            @cancel={{@cancel}}\n            @maxReached={{gte\n              this.membersCount\n              this.siteSettings.chat_max_direct_message_users\n            }}\n          />\n  \n          {{#if @members.length}}\n            <div class=\"chat-message-creator__add-members-footer-container\">\n              <div class=\"chat-message-creator__add-members-footer\">\n                <DButton class=\"btn-flat\" @label=\"cancel\" @action={{@cancel}} />\n  \n                <DButton\n                  class=\"btn-primary add-to-channel\"\n                  @label=\"chat.direct_message_creator.add_to_channel\"\n                  @action={{this.saveGroupMembers}}\n                />\n              </div>\n            </div>\n          {{/if}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"d4SQ7xTO\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,0],null,[[\\\"@count\\\",\\\"@max\\\"],[[30,0,[\\\"membersCount\\\"]],[30,0,[\\\"siteSettings\\\",\\\"chat_max_direct_message_users\\\"]]]],null],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,1],null,[[\\\"@channel\\\",\\\"@members\\\",\\\"@onChange\\\",\\\"@close\\\",\\\"@cancel\\\",\\\"@maxReached\\\"],[[30,1],[30,2],[30,3],[30,4],[30,5],[28,[32,2],[[30,0,[\\\"membersCount\\\"]],[30,0,[\\\"siteSettings\\\",\\\"chat_max_direct_message_users\\\"]]],null]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,2,[\\\"length\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members-footer-container\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members-footer\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,3],[[24,0,\\\"btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"cancel\\\",[30,5]]],null],[1,\\\"\\\\n\\\\n              \\\"],[8,[32,3],[[24,0,\\\"btn-primary add-to-channel\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"chat.direct_message_creator.add_to_channel\\\",[30,0,[\\\"saveGroupMembers\\\"]]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\",\\\"@members\\\",\\\"@onChangeMembers\\\",\\\"@close\\\",\\\"@cancel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/add-members.js\",\n    \"scope\": () => [_membersCount.default, _membersSelector.default, _gte.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"loadingSlider\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"saveGroupMembers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"saveGroupMembers\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/channel\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/concat-class\", \"truth-helpers/helpers/gt\", \"discourse/plugins/chat/discourse/components/channel-title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _concatClass, _gt, _channelTitle, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let Channel = _exports.default = (_class = (_class2 = class Channel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n    }\n    get isUrgent() {\n      return this.args.item.model.isDirectMessageChannel || this.args.item.model.isCategoryChannel && this.args.item.model.tracking.mentionCount > 0;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__chatable -category-channel\">\n        <ChannelTitle @channel={{@item.model}} />\n  \n        {{#if (gt @item.tracking.unreadCount 0)}}\n  \n          <div\n            class={{concatClass \"unread-indicator\" (if this.isUrgent \"-urgent\")}}\n          ></div>\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"UqGCg8ta\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__chatable -category-channel\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1,[\\\"model\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,1],[[30,1,[\\\"tracking\\\",\\\"unreadCount\\\"]],0],null],[[[1,\\\"\\\\n        \\\"],[10,0],[15,0,[28,[32,2],[\\\"unread-indicator\\\",[52,[30,0,[\\\"isUrgent\\\"]],\\\"-urgent\\\"]],null]],[12],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@item\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/channel.js\",\n    \"scope\": () => [_channelTitle.default, _gt.default, _concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/constants\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.MODES = void 0;\n  const MODES = _exports.MODES = {\n    search: \"SEARCH\",\n    new_group: \"NEW_GROUP\",\n    add_members: \"ADD_MEMBERS\"\n  };\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/index\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"discourse/plugins/chat/discourse/components/chat/message-creator/add-members\", \"discourse/plugins/chat/discourse/components/chat/message-creator/constants\", \"discourse/plugins/chat/discourse/components/chat/message-creator/new-group\", \"discourse/plugins/chat/discourse/components/chat/message-creator/search\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _addMembers, _constants, _newGroup, _search, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageCreator = _exports.default = (_class = (_class2 = class ChatMessageCreator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"mode\", _descriptor, this);\n      _initializerDefineProperty(this, \"members\", _descriptor2, this);\n    }\n    get componentForMode() {\n      switch (this.args.mode ?? this.mode) {\n        case _constants.MODES.search:\n          return _search.default;\n        case _constants.MODES.new_group:\n          return _newGroup.default;\n        case _constants.MODES.add_members:\n          return _addMembers.default;\n      }\n    }\n    changeMode(mode1, members1 = []) {\n      this.mode = mode1;\n      this.changeMembers(members1);\n    }\n    changeMembers(members1) {\n      this.members = members1;\n    }\n    cancelAction() {\n      return this.args.onCancel?.() || this.changeMode(_constants.MODES.search);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator-container\">\n        <div class=\"chat-message-creator\">\n          <this.componentForMode\n            @channel={{@channel}}\n            @onChangeMode={{this.changeMode}}\n            @onChangeMembers={{this.changeMembers}}\n            @close={{@onClose}}\n            @cancel={{this.cancelAction}}\n            @members={{this.members}}\n          />\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"Ql0IvG1V\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[30,0,[\\\"componentForMode\\\"]],null,[[\\\"@channel\\\",\\\"@onChangeMode\\\",\\\"@onChangeMembers\\\",\\\"@close\\\",\\\"@cancel\\\",\\\"@members\\\"],[[30,1],[30,0,[\\\"changeMode\\\"]],[30,0,[\\\"changeMembers\\\"]],[30,2],[30,0,[\\\"cancelAction\\\"]],[30,0,[\\\"members\\\"]]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\",\\\"@onClose\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/index.js\",\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"mode\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return _constants.MODES.search;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"members\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"changeMode\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"changeMode\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"changeMembers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"changeMembers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cancelAction\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"cancelAction\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/lib/chatables-loader\", [\"exports\", \"@ember/application\", \"@ember/service\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/models/chat-chatable\"], function (_exports, _application, _service, _ajax, _ajaxError, _decorators, _chatChatable) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _preloadedChannels, _injectTracking;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const MAX_RESULTS = 10;\n  let ChatablesLoader = _exports.default = (_class = (_preloadedChannels = /*#__PURE__*/new WeakSet(), _injectTracking = /*#__PURE__*/new WeakSet(), class ChatablesLoader {\n    constructor(context) {\n      _classPrivateMethodInitSpec(this, _injectTracking);\n      _classPrivateMethodInitSpec(this, _preloadedChannels);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"loadingSlider\", _descriptor2, this);\n      (0, _application.setOwner)(this, (0, _application.getOwner)(context));\n    }\n    async search(term, options = {\n      includeUsers: true,\n      includeCategoryChannels: true,\n      includeDirectMessageChannels: true,\n      excludedUserIds: null,\n      preloadChannels: false\n    }) {\n      this.request?.abort();\n      if (!term && options.preloadChannels) {\n        return _classPrivateMethodGet(this, _preloadedChannels, _preloadedChannels2).call(this);\n      }\n      if (!term) {\n        return [];\n      }\n      try {\n        this.loadingSlider.transitionStarted();\n        this.request = (0, _ajax.ajax)(\"/chat/api/chatables\", {\n          data: {\n            term,\n            include_users: options.includeUsers,\n            include_category_channels: options.includeCategoryChannels,\n            include_direct_message_channels: options.includeDirectMessageChannels,\n            excluded_memberships_channel_id: options.excludedMembershipsChannelId\n          }\n        });\n        const results = await this.request;\n        this.loadingSlider.transitionEnded();\n        return [...results.users, ...results.direct_message_channels, ...results.category_channels].map(item => {\n          const chatable = _chatChatable.default.create(item);\n          chatable.tracking = _classPrivateMethodGet(this, _injectTracking, _injectTracking2).call(this, chatable);\n          return chatable;\n        }).slice(0, MAX_RESULTS);\n      } catch (e) {\n        (0, _ajaxError.popupAjaxError)(e);\n      }\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"loadingSlider\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"search\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"search\"), _class.prototype)), _class);\n  function _preloadedChannels2() {\n    return this.chatChannelsManager.allChannels.map(channel => {\n      let chatable;\n      if (channel.chatable?.users?.length === 1) {\n        chatable = _chatChatable.default.createUser(channel.chatable.users[0]);\n        chatable.tracking = _classPrivateMethodGet(this, _injectTracking, _injectTracking2).call(this, chatable);\n      } else {\n        chatable = _chatChatable.default.createChannel(channel);\n        chatable.tracking = channel.tracking;\n      }\n      return chatable;\n    }).filter(Boolean).slice(0, MAX_RESULTS);\n  }\n  function _injectTracking2(chatable) {\n    return this.chatChannelsManager.allChannels.find(channel => channel.id === chatable.model.id)?.tracking;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/lib/iterate-list\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.getNext = getNext;\n  _exports.getPrevious = getPrevious;\n  function getNext(list, current = null) {\n    if (list.length === 0) {\n      return null;\n    }\n    list = list.filterBy(\"enabled\");\n    if (current?.identifier) {\n      const currentIndex = list.mapBy(\"identifier\").indexOf(current?.identifier);\n      if (currentIndex < list.length - 1) {\n        return list.objectAt(currentIndex + 1);\n      } else {\n        return list[0];\n      }\n    } else {\n      return list[0];\n    }\n  }\n  function getPrevious(list, current = null) {\n    if (list.length === 0) {\n      return null;\n    }\n    list = list.filterBy(\"enabled\");\n    if (current?.identifier) {\n      const currentIndex = list.mapBy(\"identifier\").indexOf(current?.identifier);\n      if (currentIndex > 0) {\n        return list.objectAt(currentIndex - 1);\n      } else {\n        return list.objectAt(list.length - 1);\n      }\n    } else {\n      return list.objectAt(list.length - 1);\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/list-action\", [\"exports\", \"discourse/components/d-button\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _dButton, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ListAction = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <DButton\n      class=\"btn btn-flat\"\n      @icon={{@item.icon}}\n      @translatedLabel={{@item.label}}\n    />\n  \n  */\n  {\n    \"id\": \"7f0HHQiz\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[8,[32,0],[[24,0,\\\"btn btn-flat\\\"]],[[\\\"@icon\\\",\\\"@translatedLabel\\\"],[[30,1,[\\\"icon\\\"]],[30,1,[\\\"label\\\"]]]],null],[1,\\\"\\\\n\\\"]],[\\\"@item\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/list-action.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ListAction;\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/list-handler\", [\"exports\", \"@glimmer/component\", \"ember-modifier\", \"discourse/plugins/chat/discourse/components/chat/message-creator/lib/iterate-list\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _emberModifier, _iterateList, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  class ListHandler extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"handleKeydown\", (0, _emberModifier.modifier)(element1 => {\n        const handler1 = event1 => {\n          if (event1.key === \"ArrowDown\") {\n            event1.preventDefault();\n            event1.stopPropagation();\n            this.args.onHighlight((0, _iterateList.getNext)(this.args.items, this.args.highlightedItem));\n          } else if (event1.key === \"ArrowUp\") {\n            event1.preventDefault();\n            event1.stopPropagation();\n            this.args.onHighlight((0, _iterateList.getPrevious)(this.args.items, this.args.highlightedItem));\n          } else if (event1.key === \"Enter\" && this.args.highlightedItem) {\n            event1.preventDefault();\n            event1.stopPropagation();\n            if (event1.shiftKey && this.args.onShifSelect) {\n              this.args.onShifSelect(this.args.highlightedItem);\n            } else {\n              this.args.onSelect(this.args.highlightedItem);\n            }\n          }\n        };\n        element1.addEventListener(\"keydown\", handler1);\n        return () => {\n          element1.removeEventListener(\"keydown\", handler1);\n        };\n      }));\n    }\n  }\n  _exports.default = ListHandler;\n  _class = ListHandler;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <span style=\"display: contents\" {{this.handleKeydown}} ...attributes>\n        {{yield}}\n      </span>\n    \n  */\n  {\n    \"id\": \"wm/F9PG4\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,1],[24,5,\\\"display: contents\\\"],[17,1],[4,[30,0,[\\\"handleKeydown\\\"]],null,null],[12],[1,\\\"\\\\n      \\\"],[18,2,null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&attrs\\\",\\\"&default\\\"],false,[\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/list-handler.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/list\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"discourse/helpers/concat-class\", \"discourse-i18n\", \"truth-helpers/helpers/eq\", \"truth-helpers/helpers/not\", \"discourse/plugins/chat/discourse/components/chat/message-creator/channel\", \"discourse/plugins/chat/discourse/components/chat/message-creator/list-action\", \"discourse/plugins/chat/discourse/components/chat/message-creator/user\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _modifier, _object, _concatClass, _discourseI18n, _eq, _not, _channel, _listAction, _user, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let List = _exports.default = (_class = (_class2 = class List extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"cantAddMoreMembersLabel\", _discourseI18n.default.t(\"chat.new_message_modal.cant_add_more_members\"));\n    }\n    componentForItem(type1) {\n      switch (type1) {\n        case \"list-action\":\n          return _listAction.default;\n        case \"user\":\n          return _user.default;\n        case \"channel\":\n          return _channel.default;\n      }\n    }\n    handleEnter(item1, event1) {\n      if (event1.key !== \"Enter\") {\n        return;\n      }\n      if (event1.shiftKey && this.args.onShiftSelect) {\n        this.args.onShiftSelect?.(item1);\n      } else {\n        this.args.onSelect?.(item1);\n      }\n    }\n    handleClick(item1, event1) {\n      if (event1.shiftKey && this.args.onShiftSelect) {\n        this.args.onShiftSelect?.(item1);\n      } else {\n        this.args.onSelect?.(item1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @items}}\n        <div class=\"chat-message-creator__list-container\">\n          {{#if @maxReached}}\n            <div\n              class=\"chat-message-creator__warning-max-members\"\n            >{{this.cantAddMoreMembersLabel}}</div>\n          {{else}}\n            <ul class=\"chat-message-creator__list\">\n              {{#each @items as |item|}}\n                <li\n                  class={{concatClass\n                    \"chat-message-creator__list-item\"\n                    (if\n                      (eq item.identifier @highlightedItem.identifier)\n                      \"-highlighted\"\n                    )\n                  }}\n                  {{on \"click\" (fn this.handleClick item)}}\n                  {{on \"keypress\" (fn this.handleEnter item)}}\n                  {{on \"mousemove\" (fn @onHighlight item)}}\n                  {{on \"mouseleave\" (fn @onHighlight null)}}\n                  role=\"button\"\n                  tabindex=\"0\"\n                  data-identifier={{item.identifier}}\n                  id={{item.id}}\n                  data-disabled={{not item.enabled}}\n                >\n                  {{component (this.componentForItem item.type) item=item}}\n                </li>\n              {{/each}}\n            </ul>\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"dHl2LAXK\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-message-creator__list-container\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,2],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-message-creator__warning-max-members\\\"],[12],[1,[30,0,[\\\"cantAddMoreMembersLabel\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[10,\\\"ul\\\"],[14,0,\\\"chat-message-creator__list\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,2],[[28,[31,2],[[30,1]],null]],null],null,[[[1,\\\"              \\\"],[11,\\\"li\\\"],[16,0,[28,[32,0],[\\\"chat-message-creator__list-item\\\",[52,[28,[32,1],[[30,3,[\\\"identifier\\\"]],[30,4,[\\\"identifier\\\"]]],null],\\\"-highlighted\\\"]],null]],[24,\\\"role\\\",\\\"button\\\"],[24,\\\"tabindex\\\",\\\"0\\\"],[16,\\\"data-identifier\\\",[30,3,[\\\"identifier\\\"]]],[16,1,[30,3,[\\\"id\\\"]]],[16,\\\"data-disabled\\\",[28,[32,2],[[30,3,[\\\"enabled\\\"]]],null]],[4,[32,3],[\\\"click\\\",[28,[32,4],[[30,0,[\\\"handleClick\\\"]],[30,3]],null]],null],[4,[32,3],[\\\"keypress\\\",[28,[32,4],[[30,0,[\\\"handleEnter\\\"]],[30,3]],null]],null],[4,[32,3],[\\\"mousemove\\\",[28,[32,4],[[30,5],[30,3]],null]],null],[4,[32,3],[\\\"mouseleave\\\",[28,[32,4],[[30,5],null],null]],null],[12],[1,\\\"\\\\n                \\\"],[46,[28,[30,0,[\\\"componentForItem\\\"]],[[30,3,[\\\"type\\\"]]],null],null,[[\\\"item\\\"],[[30,3]]],null],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[3]],null],[1,\\\"          \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@items\\\",\\\"@maxReached\\\",\\\"item\\\",\\\"@highlightedItem\\\",\\\"@onHighlight\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\",\\\"component\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/list.js\",\n    \"scope\": () => [_concatClass.default, _eq.default, _not.default, _modifier.on, _helper.fn],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_applyDecoratedDescriptor(_class.prototype, \"handleEnter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleEnter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleClick\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleClick\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/member\", [\"exports\", \"@ember/helper\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/d-icon\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _helper, _dButton, _concatClass, _dIcon, _chatUserAvatar, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const Member = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <DButton\n      class={{concatClass\n        \"chat-message-creator__member btn-default\"\n        (if @highlighted \"-highlighted\")\n      }}\n      @action={{fn @onSelect @member}}\n    >\n      <ChatUserAvatar\n        @user={{@member.model}}\n        @interactive={{false}}\n        @showPresence={{false}}\n      />\n      <span class=\"chat-message-creator__member-username\">\n        {{@member.model.username}}\n      </span>\n      {{icon \"times\"}}\n    </DButton>\n  \n  */\n  {\n    \"id\": \"Ose8MKIY\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"chat-message-creator__member btn-default\\\",[52,[30,1],\\\"-highlighted\\\"]],null]]],[[\\\"@action\\\"],[[28,[32,2],[[30,2],[30,3]],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[32,3],null,[[\\\"@user\\\",\\\"@interactive\\\",\\\"@showPresence\\\"],[[30,3,[\\\"model\\\"]],false,false]],null],[1,\\\"\\\\n    \\\"],[10,1],[14,0,\\\"chat-message-creator__member-username\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[30,3,[\\\"model\\\",\\\"username\\\"]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n    \\\"],[1,[28,[32,4],[\\\"times\\\"],null]],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[\\\"@highlighted\\\",\\\"@onSelect\\\",\\\"@member\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/member.js\",\n    \"scope\": () => [_dButton.default, _concatClass.default, _helper.fn, _chatUserAvatar.default, _dIcon.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = Member;\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/members-count\", [\"exports\", \"@glimmer/component\", \"discourse/helpers/concat-class\", \"discourse-i18n\", \"truth-helpers/helpers/eq\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _concatClass, _discourseI18n, _eq, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class MembersCount extends _component.default {\n    get countLabel() {\n      return _discourseI18n.default.t(\"chat.direct_message_creator.members_counter\", {\n        count: this.args.count,\n        max: this.args.max\n      });\n    }\n  }\n  _exports.default = MembersCount;\n  _class = MembersCount;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-message-creator__members-count\"\n          (if (eq @count @max) \"-reached-limit\")\n        }}\n      >\n        {{this.countLabel}}\n      </div>\n    \n  */\n  {\n    \"id\": \"/dZu/Rv3\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[15,0,[28,[32,0],[\\\"chat-message-creator__members-count\\\",[52,[28,[32,1],[[30,1],[30,2]],null],\\\"-reached-limit\\\"]],null]],[12],[1,\\\"\\\\n      \\\"],[1,[30,0,[\\\"countLabel\\\"]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@count\\\",\\\"@max\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/members-count.js\",\n    \"scope\": () => [_concatClass.default, _eq.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/members-selector\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse-common/config/environment\", \"discourse-common/lib/debounce\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/message-creator/lib/chatables-loader\", \"discourse/plugins/chat/discourse/components/chat/message-creator/list\", \"discourse/plugins/chat/discourse/components/chat/message-creator/list-handler\", \"discourse/plugins/chat/discourse/components/chat/message-creator/members\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _dButton, _environment, _debounce, _discourseI18n, _chatablesLoader, _list, _listHandler, _members, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let MembersSelector = _exports.default = (_class = (_class2 = class MembersSelector extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatables\", _descriptor2, this);\n      _initializerDefineProperty(this, \"filter\", _descriptor3, this);\n      _initializerDefineProperty(this, \"highlightedMember\", _descriptor4, this);\n      _initializerDefineProperty(this, \"highlightedChatable\", _descriptor5, this);\n      _defineProperty(this, \"placeholder\", _discourseI18n.default.t(\"chat.direct_message_creator.group_name\"));\n    }\n    get items() {\n      return this.chatables.filter(c1 => !this.highlightedMemberIds.includes(c1.model.id));\n    }\n    get highlightedMemberIds() {\n      return this.args.members.map(u1 => u1.model.id);\n    }\n    highlightMember(member1) {\n      this.highlightedMember = member1;\n    }\n    highlightChatable(chatable1) {\n      this.highlightedChatable = chatable1;\n    }\n    selectChatable(chatable1) {\n      if (!chatable1.enabled) {\n        return;\n      }\n      if (this.args.members.length + (this.args.channel?.membershipsCount ?? 0) >= this.siteSettings.chat_max_direct_message_users) {\n        return;\n      }\n      if (this.highlightedMemberIds.includes(chatable1.model.id)) {\n        this.unselectMember(chatable1);\n      } else {\n        this.args.onChange?.([...this.args.members, chatable1]);\n        this.highlightedChatable = this.items[0];\n      }\n      this.filter = \"\";\n      this.focusFilterAction?.();\n      this.highlightedMember = null;\n    }\n    registerFocusFilterAction(actionFn1) {\n      this.focusFilterAction = actionFn1;\n    }\n    onFilter(event1) {\n      this.searchHandler = (0, _debounce.default)(this, this.fetch, event1.target.value, _environment.INPUT_DELAY);\n    }\n    async fetch(term1) {\n      this.highlightedMember = null;\n      const loader1 = new _chatablesLoader.default(this);\n      this.chatables = await loader1.search(term1, {\n        includeCategoryChannels: false,\n        includeDirectMessageChannels: false,\n        excludedMembershipsChannelId: this.args.channel?.id\n      });\n      this.highlightedChatable = this.items[0];\n    }\n    unselectMember(removedMember1) {\n      this.args.onChange?.(this.args.members.filter(member1 => member1 !== removedMember1));\n      this.highlightedMember = null;\n      this.highlightedChatable = this.items[0];\n      this.focusFilterAction?.();\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <ListHandler\n        @items={{this.items}}\n        @highlightedItem={{this.highlightedChatable}}\n        @onHighlight={{this.highlightChatable}}\n        @onSelect={{this.selectChatable}}\n      >\n        <div class=\"chat-message-creator__add-members-header-container\">\n          <div class=\"chat-message-creator__add-members-header\">\n            <Members\n              @filter={{this.filter}}\n              @members={{@members}}\n              @highlightedMember={{this.highlightedMember}}\n              @onFilter={{this.onFilter}}\n              @registerFocusFilterAction={{this.registerFocusFilterAction}}\n              @onHighlightMember={{this.highlightMember}}\n              @onSelectMember={{this.unselectMember}}\n            />\n  \n            <DButton\n              class=\"btn-flat chat-message-creator__add-members__close-btn\"\n              @action={{@cancel}}\n              @icon=\"times\"\n            />\n          </div>\n        </div>\n  \n        <List\n          @items={{this.items}}\n          @highlightedItem={{this.highlightedChatable}}\n          @onSelect={{this.selectChatable}}\n          @onHighlight={{this.highlightChatable}}\n          @maxReached={{@maxReached}}\n        />\n  \n      </ListHandler>\n    \n  */\n  {\n    \"id\": \"4xpFidq9\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@items\\\",\\\"@highlightedItem\\\",\\\"@onHighlight\\\",\\\"@onSelect\\\"],[[30,0,[\\\"items\\\"]],[30,0,[\\\"highlightedChatable\\\"]],[30,0,[\\\"highlightChatable\\\"]],[30,0,[\\\"selectChatable\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members-header-container\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-creator__add-members-header\\\"],[12],[1,\\\"\\\\n          \\\"],[8,[32,1],null,[[\\\"@filter\\\",\\\"@members\\\",\\\"@highlightedMember\\\",\\\"@onFilter\\\",\\\"@registerFocusFilterAction\\\",\\\"@onHighlightMember\\\",\\\"@onSelectMember\\\"],[[30,0,[\\\"filter\\\"]],[30,1],[30,0,[\\\"highlightedMember\\\"]],[30,0,[\\\"onFilter\\\"]],[30,0,[\\\"registerFocusFilterAction\\\"]],[30,0,[\\\"highlightMember\\\"]],[30,0,[\\\"unselectMember\\\"]]]],null],[1,\\\"\\\\n\\\\n          \\\"],[8,[32,2],[[24,0,\\\"btn-flat chat-message-creator__add-members__close-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\"],[[30,2],\\\"times\\\"]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,3],null,[[\\\"@items\\\",\\\"@highlightedItem\\\",\\\"@onSelect\\\",\\\"@onHighlight\\\",\\\"@maxReached\\\"],[[30,0,[\\\"items\\\"]],[30,0,[\\\"highlightedChatable\\\"]],[30,0,[\\\"selectChatable\\\"]],[30,0,[\\\"highlightChatable\\\"]],[30,3]]],null],[1,\\\"\\\\n\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@members\\\",\\\"@cancel\\\",\\\"@maxReached\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/members-selector.js\",\n    \"scope\": () => [_listHandler.default, _members.default, _dButton.default, _list.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatables\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"filter\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"highlightedMember\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"highlightedChatable\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"highlightMember\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"highlightMember\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"highlightChatable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"highlightChatable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectChatable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectChatable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"registerFocusFilterAction\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"registerFocusFilterAction\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetch\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"unselectMember\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"unselectMember\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/members\", [\"exports\", \"@glimmer/component\", \"@ember/component\", \"@ember/modifier\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"discourse-common/helpers/d-icon\", \"discourse-i18n\", \"truth-helpers/helpers/eq\", \"discourse/plugins/chat/discourse/components/chat/message-creator/lib/iterate-list\", \"discourse/plugins/chat/discourse/components/chat/message-creator/member\", \"@ember/template-factory\"], function (_exports, _component, _component2, _modifier, _object, _didInsert, _dIcon, _discourseI18n, _eq, _iterateList, _member, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let Members = _exports.default = (_class = (_class2 = class Members extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"addMoreMembersLabel\", _discourseI18n.default.t(\"chat.new_message_modal.user_search_placeholder\"));\n    }\n    onFilter() {\n      this.args.onFilter(...arguments);\n    }\n    registerFocusFilterAction(element1) {\n      this.args.registerFocusFilterAction(() => element1.focus());\n    }\n    handleKeypress(event1) {\n      if (event1.key === \"Backspace\" && event1.target.value === \"\") {\n        event1.preventDefault();\n        event1.stopPropagation();\n        if (!this.args.highlightedMember) {\n          this.args.onHighlightMember(this.args.members.lastObject);\n        } else {\n          this.args.onSelectMember(this.args.highlightedMember);\n        }\n        return;\n      }\n      if (event1.key === \"ArrowLeft\" && event1.target.value === \"\") {\n        event1.preventDefault();\n        event1.stopPropagation();\n        this.args.onHighlightMember((0, _iterateList.getPrevious)(this.args.members, this.args.highlightedMember));\n        return;\n      }\n      if (event1.key === \"ArrowRight\" && event1.target.value === \"\") {\n        event1.preventDefault();\n        event1.stopPropagation();\n        this.args.onHighlightMember((0, _iterateList.getNext)(this.args.members, this.args.highlightedMember));\n        return;\n      }\n      if (event1.key === \"Enter\" && this.args.highlightedMember) {\n        event1.preventDefault();\n        event1.stopPropagation();\n        this.args.onSelectMember(this.args.highlightedMember);\n        return;\n      }\n      this.highlightedMember = null;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__members-container\">\n        <div class=\"chat-message-creator__members\">\n          {{icon \"search\"}}\n  \n          {{#each @members as |member|}}\n            <Member\n              @member={{member}}\n              @onSelect={{@onSelectMember}}\n              @highlighted={{eq member @highlightedMember}}\n            />\n          {{/each}}\n  \n          <Input\n            placeholder={{this.addMoreMembersLabel}}\n            class=\"chat-message-creator__members-input\"\n            @value={{@filter}}\n            autofocus={{true}}\n            {{on \"input\" this.onFilter}}\n            {{on \"keydown\" this.handleKeypress}}\n            {{didInsert this.registerFocusFilterAction}}\n          />\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"x7ZQj8X9\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__members-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__members\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,0],[\\\"search\\\"],null]],[1,\\\"\\\\n\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,1]],null]],null],null,[[[1,\\\"          \\\"],[8,[32,1],null,[[\\\"@member\\\",\\\"@onSelect\\\",\\\"@highlighted\\\"],[[30,2],[30,3],[28,[32,2],[[30,2],[30,4]],null]]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"\\\\n        \\\"],[8,[32,3],[[16,\\\"placeholder\\\",[30,0,[\\\"addMoreMembersLabel\\\"]]],[24,0,\\\"chat-message-creator__members-input\\\"],[16,\\\"autofocus\\\",true],[4,[32,4],[\\\"input\\\",[30,0,[\\\"onFilter\\\"]]],null],[4,[32,4],[\\\"keydown\\\",[30,0,[\\\"handleKeypress\\\"]]],null],[4,[32,5],[[30,0,[\\\"registerFocusFilterAction\\\"]]],null]],[[\\\"@value\\\"],[[30,5]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@members\\\",\\\"member\\\",\\\"@onSelectMember\\\",\\\"@highlightedMember\\\",\\\"@filter\\\"],false,[\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/members.js\",\n    \"scope\": () => [_dIcon.default, _member.default, _eq.default, _component2.Input, _modifier.on, _didInsert.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_applyDecoratedDescriptor(_class.prototype, \"onFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"registerFocusFilterAction\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"registerFocusFilterAction\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleKeypress\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleKeypress\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/new-group\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax-error\", \"discourse-i18n\", \"truth-helpers/helpers/gte\", \"discourse/plugins/chat/discourse/components/chat/message-creator/members-count\", \"discourse/plugins/chat/discourse/components/chat/message-creator/members-selector\", \"@ember/template-factory\"], function (_exports, _component, _tracking, _component2, _object, _service, _dButton, _ajaxError, _discourseI18n, _gte, _membersCount, _membersSelector, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let NewGroup = _exports.default = (_class = (_class2 = class NewGroup extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor3, this);\n      _initializerDefineProperty(this, \"newGroupTitle\", _descriptor4, this);\n      _defineProperty(this, \"placeholder\", _discourseI18n.default.t(\"chat.direct_message_creator.group_name\"));\n    }\n    get membersCount() {\n      return this.args.members?.length;\n    }\n    async createGroup() {\n      try {\n        const channel1 = await this.chat.upsertDmChannelForUsernames(this.args.members.mapBy(\"model.username\"), this.newGroupTitle);\n        if (!channel1) {\n          return;\n        }\n        this.args.close?.();\n        this.router.transitionTo(\"chat.channel\", ...channel1.routeModels);\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__new-group-container\">\n        <div class=\"chat-message-creator__new-group\">\n          <div class=\"chat-message-creator__new-group-header-container\">\n            <div class=\"chat-message-creator__new-group-header\">\n              <Input\n                name=\"channel-name\"\n                class=\"chat-message-creator__new-group-header__input\"\n                placeholder={{this.placeholder}}\n                @value={{this.newGroupTitle}}\n              />\n  \n              <MembersCount\n                @count={{this.membersCount}}\n                @max={{this.siteSettings.chat_max_direct_message_users}}\n              />\n            </div>\n          </div>\n  \n          <MembersSelector\n            @members={{@members}}\n            @channel={{@channel}}\n            @onChange={{@onChangeMembers}}\n            @close={{@close}}\n            @cancel={{@cancel}}\n            @maxReached={{gte\n              this.membersCount\n              this.siteSettings.chat_max_direct_message_users\n            }}\n          />\n  \n          {{#if @members.length}}\n            <div class=\"chat-message-creator__new-group-footer-container\">\n              <div class=\"chat-message-creator__new-group-footer\">\n                <DButton\n                  class=\"btn-primary btn-flat\"\n                  @label=\"cancel\"\n                  @action={{@cancel}}\n                />\n                <DButton\n                  class=\"btn-primary create-chat-group\"\n                  @label=\"chat.new_message_modal.create_new_group_chat\"\n                  @action={{this.createGroup}}\n                />\n  \n              </div>\n            </div>\n          {{/if}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"yxxBrHYi\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group-header-container\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group-header\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,0],[[24,3,\\\"channel-name\\\"],[24,0,\\\"chat-message-creator__new-group-header__input\\\"],[16,\\\"placeholder\\\",[30,0,[\\\"placeholder\\\"]]]],[[\\\"@value\\\"],[[30,0,[\\\"newGroupTitle\\\"]]]],null],[1,\\\"\\\\n\\\\n            \\\"],[8,[32,1],null,[[\\\"@count\\\",\\\"@max\\\"],[[30,0,[\\\"membersCount\\\"]],[30,0,[\\\"siteSettings\\\",\\\"chat_max_direct_message_users\\\"]]]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,2],null,[[\\\"@members\\\",\\\"@channel\\\",\\\"@onChange\\\",\\\"@close\\\",\\\"@cancel\\\",\\\"@maxReached\\\"],[[30,1],[30,2],[30,3],[30,4],[30,5],[28,[32,3],[[30,0,[\\\"membersCount\\\"]],[30,0,[\\\"siteSettings\\\",\\\"chat_max_direct_message_users\\\"]]],null]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"length\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group-footer-container\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-message-creator__new-group-footer\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,4],[[24,0,\\\"btn-primary btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"cancel\\\",[30,5]]],null],[1,\\\"\\\\n              \\\"],[8,[32,4],[[24,0,\\\"btn-primary create-chat-group\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"chat.new_message_modal.create_new_group_chat\\\",[30,0,[\\\"createGroup\\\"]]]],null],[1,\\\"\\\\n\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@members\\\",\\\"@channel\\\",\\\"@onChangeMembers\\\",\\\"@close\\\",\\\"@cancel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/new-group.js\",\n    \"scope\": () => [_component2.Input, _membersCount.default, _membersSelector.default, _gte.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"newGroupTitle\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"createGroup\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"createGroup\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/search-input\", [\"exports\", \"@glimmer/component\", \"@ember/component\", \"@ember/modifier\", \"discourse-common/helpers/d-icon\", \"discourse-i18n\", \"@ember/template-factory\"], function (_exports, _component, _component2, _modifier, _dIcon, _discourseI18n, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  class ChatMessageCreatorSearchInput extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"filterPlaceholder\", _discourseI18n.default.t(\"chat.new_message_modal.filter\"));\n    }\n  }\n  _exports.default = ChatMessageCreatorSearchInput;\n  _class = ChatMessageCreatorSearchInput;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__search-input-container\">\n        <div class=\"chat-message-creator__search-input\">\n          {{icon\n            \"search\"\n            class=\"chat-message-creator__search-input__search-icon\"\n          }}\n          <Input\n            class=\"chat-message-creator__search-input__input\"\n            placeholder={{this.filterPlaceholder}}\n            {{on \"input\" @onFilter}}\n          />\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"DPkuk7ht\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__search-input-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__search-input\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,0],[\\\"search\\\"],[[\\\"class\\\"],[\\\"chat-message-creator__search-input__search-icon\\\"]]]],[1,\\\"\\\\n        \\\"],[8,[32,1],[[24,0,\\\"chat-message-creator__search-input__input\\\"],[16,\\\"placeholder\\\",[30,0,[\\\"filterPlaceholder\\\"]]],[4,[32,2],[\\\"input\\\",[30,1]],null]],null,null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@onFilter\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/search-input.js\",\n    \"scope\": () => [_dIcon.default, _component2.Input, _modifier.on],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/search\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax-error\", \"discourse-common/config/environment\", \"discourse-common/lib/debounce\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/message-creator/constants\", \"discourse/plugins/chat/discourse/components/chat/message-creator/lib/chatables-loader\", \"discourse/plugins/chat/discourse/components/chat/message-creator/list\", \"discourse/plugins/chat/discourse/components/chat/message-creator/list-handler\", \"discourse/plugins/chat/discourse/components/chat/message-creator/search-input\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _object, _didInsert, _service, _dButton, _ajaxError, _environment, _debounce, _discourseI18n, _constants, _chatablesLoader, _list, _listHandler, _searchInput, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageCreatorSearch = _exports.default = (_class = (_class2 = class ChatMessageCreatorSearch extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatables\", _descriptor3, this);\n      _initializerDefineProperty(this, \"highlightedChatable\", _descriptor4, this);\n      _initializerDefineProperty(this, \"term\", _descriptor5, this);\n      _initializerDefineProperty(this, \"loading\", _descriptor6, this);\n    }\n    get items() {\n      const items1 = [];\n      if (this.loading) {\n        return items1;\n      }\n      if (!this.term?.length) {\n        items1.push({\n          identifier: \"new-group\",\n          type: \"list-action\",\n          label: _discourseI18n.default.t(\"chat.new_message_modal.new_group_chat\"),\n          enabled: true,\n          icon: \"users\",\n          id: \"new-group-chat\"\n        });\n      }\n      return [...items1, ...this.chatables];\n    }\n    prefillAddMembers(item1) {\n      this.args.onChangeMode(_constants.MODES.new_group, [item1]);\n    }\n    highlightChatable(chatable1) {\n      this.highlightedChatable = chatable1;\n    }\n    async selectChatable(item1) {\n      switch (item1.type) {\n        case \"list-action\":\n          this.args.onChangeMode(_constants.MODES.new_group);\n          break;\n        case \"user\":\n          if (!item1.enabled) {\n            return;\n          }\n          await this.startOneToOneChannel(item1.model.username);\n          break;\n        default:\n          this.router.transitionTo(\"chat.channel\", ...item1.model.routeModels);\n          this.args.close();\n          break;\n      }\n    }\n    onFilter(event1) {\n      this.chatables = [];\n      this.term = event1?.target?.value;\n      this.searchHandler = (0, _debounce.default)(this, this.fetch, event1.target.value, _environment.INPUT_DELAY);\n    }\n    async fetch() {\n      const loader1 = new _chatablesLoader.default(this);\n      this.chatables = await loader1.search(this.term, {\n        preloadChannels: !this.term\n      });\n      this.highlightedChatable = this.items[0];\n    }\n    async startOneToOneChannel(username1) {\n      try {\n        const channel1 = await this.chat.upsertDmChannelForUsernames([username1]);\n        if (!channel1) {\n          return;\n        }\n        this.args.close?.();\n        this.router.transitionTo(\"chat.channel\", ...channel1.routeModels);\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <ListHandler\n        @items={{this.items}}\n        @highlightedItem={{this.highlightedChatable}}\n        @onHighlight={{this.highlightChatable}}\n        @onSelect={{this.selectChatable}}\n        @onShifSelect={{this.prefillAddMembers}}\n      >\n        <div class=\"chat-message-creator__search-container\">\n          <div class=\"chat-message-creator__search\">\n            <div\n              class=\"chat-message-creator__section\"\n              {{didInsert (fn this.fetch null)}}\n            >\n              <SearchInput @filter={{this.term}} @onFilter={{this.onFilter}} />\n  \n              <DButton\n                class=\"btn-flat chat-message-creator__search-input__cancel-button\"\n                @icon=\"times\"\n                @action={{@close}}\n              />\n            </div>\n  \n            <List\n              @items={{this.items}}\n              @highlightedItem={{this.highlightedChatable}}\n              @onSelect={{this.selectChatable}}\n              @onHighlight={{this.highlightChatable}}\n              @onShiftSelect={{this.prefillAddMembers}}\n            />\n          </div>\n        </div>\n      </ListHandler>\n    \n  */\n  {\n    \"id\": \"36xoI+zY\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@items\\\",\\\"@highlightedItem\\\",\\\"@onHighlight\\\",\\\"@onSelect\\\",\\\"@onShifSelect\\\"],[[30,0,[\\\"items\\\"]],[30,0,[\\\"highlightedChatable\\\"]],[30,0,[\\\"highlightChatable\\\"]],[30,0,[\\\"selectChatable\\\"]],[30,0,[\\\"prefillAddMembers\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-message-creator__search-container\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-message-creator__search\\\"],[12],[1,\\\"\\\\n          \\\"],[11,0],[24,0,\\\"chat-message-creator__section\\\"],[4,[32,1],[[28,[32,2],[[30,0,[\\\"fetch\\\"]],null],null]],null],[12],[1,\\\"\\\\n            \\\"],[8,[32,3],null,[[\\\"@filter\\\",\\\"@onFilter\\\"],[[30,0,[\\\"term\\\"]],[30,0,[\\\"onFilter\\\"]]]],null],[1,\\\"\\\\n\\\\n            \\\"],[8,[32,4],[[24,0,\\\"btn-flat chat-message-creator__search-input__cancel-button\\\"]],[[\\\"@icon\\\",\\\"@action\\\"],[\\\"times\\\",[30,1]]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[8,[32,5],null,[[\\\"@items\\\",\\\"@highlightedItem\\\",\\\"@onSelect\\\",\\\"@onHighlight\\\",\\\"@onShiftSelect\\\"],[[30,0,[\\\"items\\\"]],[30,0,[\\\"highlightedChatable\\\"]],[30,0,[\\\"selectChatable\\\"]],[30,0,[\\\"highlightChatable\\\"]],[30,0,[\\\"prefillAddMembers\\\"]]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@close\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/search.js\",\n    \"scope\": () => [_listHandler.default, _didInsert.default, _helper.fn, _searchInput.default, _dButton.default, _list.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatables\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"highlightedChatable\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"term\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"prefillAddMembers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"prefillAddMembers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"highlightChatable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"highlightChatable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectChatable\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectChatable\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetch\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"fetch\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message-creator/user\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/user-status\", \"discourse-i18n\", \"truth-helpers/helpers/gt\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"discourse/plugins/chat/discourse/components/chat-user-display-name\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _userStatus, _discourseI18n, _gt, _chatUserAvatar, _chatUserDisplayName, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatableUser = _exports.default = (_class = (_class2 = class ChatableUser extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _defineProperty(this, \"disabledUserLabel\", _discourseI18n.default.t(\"chat.new_message_modal.disabled_user\"));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-creator__chatable -user\">\n        <ChatUserAvatar @user={{@item.model}} @interactive={{false}} />\n        <ChatUserDisplayName @user={{@item.model}} />\n  \n        {{#if (gt @item.tracking.unreadCount 0)}}\n          <div class=\"unread-indicator -urgent\"></div>\n        {{/if}}\n  \n        {{userStatus @item.model currentUser=this.currentUser}}\n  \n        {{#unless @item.enabled}}\n          <span class=\"chat-message-creator__chatable -disabled-chat\">\n            {{this.disabledUserLabel}}\n          </span>\n        {{/unless}}\n      </div>\n    \n  */\n  {\n    \"id\": \"7ayJWEql\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-creator__chatable -user\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,[[\\\"@user\\\",\\\"@interactive\\\"],[[30,1,[\\\"model\\\"]],false]],null],[1,\\\"\\\\n      \\\"],[8,[32,1],null,[[\\\"@user\\\"],[[30,1,[\\\"model\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[28,[32,2],[[30,1,[\\\"tracking\\\",\\\"unreadCount\\\"]],0],null],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"unread-indicator -urgent\\\"],[12],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[1,[28,[32,3],[[30,1,[\\\"model\\\"]]],[[\\\"currentUser\\\"],[[30,0,[\\\"currentUser\\\"]]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[51,[30,1,[\\\"enabled\\\"]]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-message-creator__chatable -disabled-chat\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"disabledUserLabel\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@item\\\"],false,[\\\"if\\\",\\\"unless\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message-creator/user.js\",\n    \"scope\": () => [_chatUserAvatar.default, _chatUserDisplayName.default, _gt.default, _userStatus.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/message/avatar\", [\"exports\", \"discourse/plugins/chat/discourse/components/chat-emoji-avatar\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _chatEmojiAvatar, _chatUserAvatar, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const Avatar = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-message-avatar\">\n      {{#if @message.chatWebhookEvent.emoji}}\n        <ChatEmojiAvatar @emoji={{@message.chatWebhookEvent.emoji}} />\n      {{else}}\n        <ChatUserAvatar @user={{@message.user}} @avatarSize=\"medium\" />\n      {{/if}}\n    </div>\n  \n  */\n  {\n    \"id\": \"J6c4vyrh\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-message-avatar\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"chatWebhookEvent\\\",\\\"emoji\\\"]],[[[1,\\\"      \\\"],[8,[32,0],null,[[\\\"@emoji\\\"],[[30,1,[\\\"chatWebhookEvent\\\",\\\"emoji\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[8,[32,1],null,[[\\\"@user\\\",\\\"@avatarSize\\\"],[[30,1,[\\\"user\\\"]],\\\"medium\\\"]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"],[13],[1,\\\"\\\\n\\\"]],[\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message/avatar.js\",\n    \"scope\": () => [_chatEmojiAvatar.default, _chatUserAvatar.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = Avatar;\n});","define(\"discourse/plugins/chat/discourse/components/chat/message/error\", [\"exports\", \"@ember/helper\", \"discourse/components/d-button\", \"discourse-common/helpers/i18n\", \"truth-helpers/helpers/eq\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _helper, _dButton, _i18n, _eq, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const Error = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    {{#if @message.error}}\n      <div class=\"chat-message-error\">\n        {{#if (eq @message.error \"network_error\")}}\n          <DButton\n            class=\"chat-message-error__retry-btn\"\n            @action={{fn @onRetry @message}}\n            @icon=\"exclamation-circle\"\n          >\n            <span class=\"chat-message-error__retry-btn-title\">\n              {{i18n \"chat.retry_staged_message.title\"}}\n            </span>\n            <span class=\"chat-message-error__retry-btn-action\">\n              {{i18n \"chat.retry_staged_message.action\"}}\n            </span>\n          </DButton>\n        {{else}}\n          {{@message.error}}\n        {{/if}}\n      </div>\n    {{/if}}\n  \n  */\n  {\n    \"id\": \"3/xt4be5\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"error\\\"]],[[[1,\\\"    \\\"],[10,0],[14,0,\\\"chat-message-error\\\"],[12],[1,\\\"\\\\n\\\"],[41,[28,[32,0],[[30,1,[\\\"error\\\"]],\\\"network_error\\\"],null],[[[1,\\\"        \\\"],[8,[32,1],[[24,0,\\\"chat-message-error__retry-btn\\\"]],[[\\\"@action\\\",\\\"@icon\\\"],[[28,[32,2],[[30,2],[30,1]],null],\\\"exclamation-circle\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-message-error__retry-btn-title\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,3],[\\\"chat.retry_staged_message.title\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-message-error__retry-btn-action\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,3],[\\\"chat.retry_staged_message.action\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[1,[30,1,[\\\"error\\\"]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[\\\"@message\\\",\\\"@onRetry\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message/error.js\",\n    \"scope\": () => [_eq.default, _dButton.default, _helper.fn, _i18n.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = Error;\n});","define(\"discourse/plugins/chat/discourse/components/chat/message/info\", [\"exports\", \"@glimmer/component\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/render-modifiers/modifiers/will-destroy\", \"@ember/routing\", \"@ember/service\", \"discourse/components/bookmark-icon\", \"discourse/components/user-status-message\", \"discourse/helpers/concat-class\", \"discourse/lib/settings\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/helpers/format-chat-date\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _didInsert, _willDestroy, _routing, _service, _bookmarkIcon, _userStatusMessage, _concatClass, _settings, _dIcon, _i18n, _decorators, _formatChatDate, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2, _user, _message;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageInfo = _exports.default = (_class = (_user = /*#__PURE__*/new WeakMap(), _message = /*#__PURE__*/new WeakMap(), (_class2 = class ChatMessageInfo extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateFieldInitSpec(this, _message, {\n        get: _get_message,\n        set: void 0\n      });\n      _classPrivateFieldInitSpec(this, _user, {\n        get: _get_user,\n        set: void 0\n      });\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n    }\n    trackStatus() {\n      _classPrivateFieldGet(this, _user)?.trackStatus?.();\n    }\n    stopTrackingStatus() {\n      _classPrivateFieldGet(this, _user)?.stopTrackingStatus?.();\n    }\n    get usernameClasses() {\n      const user1 = _classPrivateFieldGet(this, _user);\n      const classes1 = this.prioritizeName ? [\"is-full-name\"] : [\"is-username\"];\n      if (!user1) {\n        return classes1;\n      }\n      if (user1.staff) {\n        classes1.push(\"is-staff\");\n      }\n      if (user1.admin) {\n        classes1.push(\"is-admin\");\n      }\n      if (user1.moderator) {\n        classes1.push(\"is-moderator\");\n      }\n      if (user1.new_user) {\n        classes1.push(\"is-new-user\");\n      }\n      if (user1.primary_group_name) {\n        classes1.push(\"group--\" + user1.primary_group_name);\n      }\n      return classes1.join(\" \");\n    }\n    get name() {\n      return this.prioritizeName ? _classPrivateFieldGet(this, _user)?.get(\"name\") : _classPrivateFieldGet(this, _user)?.get(\"username\");\n    }\n    get isFlagged() {\n      return _classPrivateFieldGet(this, _message)?.reviewableId || _classPrivateFieldGet(this, _message)?.userFlagStatus === 0;\n    }\n    get prioritizeName() {\n      return this.siteSettings.display_name_on_posts && (0, _settings.prioritizeNameInUx)(_classPrivateFieldGet(this, _user)?.get(\"name\"));\n    }\n    get showStatus() {\n      return !!_classPrivateFieldGet(this, _user)?.get(\"status\");\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @show}}\n        <div\n          class=\"chat-message-info\"\n          {{didInsert this.trackStatus}}\n          {{willDestroy this.stopTrackingStatus}}\n        >\n          {{#if @message.chatWebhookEvent}}\n            {{#if @message.chatWebhookEvent.username}}\n              <span\n                class={{concatClass\n                  \"chat-message-info__username\"\n                  this.usernameClasses\n                }}\n              >\n                {{@message.chatWebhookEvent.username}}\n              </span>\n            {{/if}}\n  \n            <span class=\"chat-message-info__bot-indicator\">\n              {{i18n \"chat.bot\"}}\n            </span>\n          {{else}}\n            <span\n              role=\"button\"\n              class={{concatClass\n                \"chat-message-info__username\"\n                this.usernameClasses\n                \"clickable\"\n              }}\n              data-user-card={{@message.user.username}}\n            >\n              <span class=\"chat-message-info__username__name\">{{this.name}}</span>\n              {{#if this.showStatus}}\n                <div class=\"chat-message-info__status\">\n                  <UserStatusMessage @status={{@message.user.status}} />\n                </div>\n              {{/if}}\n            </span>\n          {{/if}}\n  \n          <span class=\"chat-message-info__date\">\n            {{formatChatDate @message}}\n          </span>\n  \n          {{#if @message.bookmark}}\n            <span class=\"chat-message-info__bookmark\">\n              <BookmarkIcon @bookmark={{@message.bookmark}} />\n            </span>\n          {{/if}}\n  \n          {{#if this.isFlagged}}\n            <span class=\"chat-message-info__flag\">\n              {{#if @message.reviewableId}}\n                <LinkTo @route=\"review.show\" @model={{@message.reviewableId}}>\n                  {{dIcon \"flag\" title=\"chat.flagged\"}}\n                </LinkTo>\n              {{else}}\n                {{dIcon \"flag\" title=\"chat.you_flagged\"}}\n              {{/if}}\n            </span>\n          {{/if}}\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"qvsE2np1\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[11,0],[24,0,\\\"chat-message-info\\\"],[4,[32,0],[[30,0,[\\\"trackStatus\\\"]]],null],[4,[32,1],[[30,0,[\\\"stopTrackingStatus\\\"]]],null],[12],[1,\\\"\\\\n\\\"],[41,[30,2,[\\\"chatWebhookEvent\\\"]],[[[41,[30,2,[\\\"chatWebhookEvent\\\",\\\"username\\\"]],[[[1,\\\"            \\\"],[10,1],[15,0,[28,[32,2],[\\\"chat-message-info__username\\\",[30,0,[\\\"usernameClasses\\\"]]],null]],[12],[1,\\\"\\\\n              \\\"],[1,[30,2,[\\\"chatWebhookEvent\\\",\\\"username\\\"]]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-message-info__bot-indicator\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,3],[\\\"chat.bot\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[10,1],[14,\\\"role\\\",\\\"button\\\"],[15,0,[28,[32,2],[\\\"chat-message-info__username\\\",[30,0,[\\\"usernameClasses\\\"]],\\\"clickable\\\"],null]],[15,\\\"data-user-card\\\",[30,2,[\\\"user\\\",\\\"username\\\"]]],[12],[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-message-info__username__name\\\"],[12],[1,[30,0,[\\\"name\\\"]]],[13],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showStatus\\\"]],[[[1,\\\"              \\\"],[10,0],[14,0,\\\"chat-message-info__status\\\"],[12],[1,\\\"\\\\n                \\\"],[8,[32,4],null,[[\\\"@status\\\"],[[30,2,[\\\"user\\\",\\\"status\\\"]]]],null],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n        \\\"],[10,1],[14,0,\\\"chat-message-info__date\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,5],[[30,2]],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,2,[\\\"bookmark\\\"]],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-message-info__bookmark\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,6],null,[[\\\"@bookmark\\\"],[[30,2,[\\\"bookmark\\\"]]]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"isFlagged\\\"]],[[[1,\\\"          \\\"],[10,1],[14,0,\\\"chat-message-info__flag\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,2,[\\\"reviewableId\\\"]],[[[1,\\\"              \\\"],[8,[32,7],null,[[\\\"@route\\\",\\\"@model\\\"],[\\\"review.show\\\",[30,2,[\\\"reviewableId\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                \\\"],[1,[28,[32,8],[\\\"flag\\\"],[[\\\"title\\\"],[\\\"chat.flagged\\\"]]]],[1,\\\"\\\\n              \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"              \\\"],[1,[28,[32,8],[\\\"flag\\\"],[[\\\"title\\\"],[\\\"chat.you_flagged\\\"]]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@show\\\",\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message/info.js\",\n    \"scope\": () => [_didInsert.default, _willDestroy.default, _concatClass.default, _i18n.default, _userStatusMessage.default, _formatChatDate.default, _bookmarkIcon.default, _routing.LinkTo, _dIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"trackStatus\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"trackStatus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"stopTrackingStatus\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"stopTrackingStatus\"), _class.prototype)), _class);\n  function _get_user() {\n    return _classPrivateFieldGet(this, _message)?.user;\n  }\n  function _get_message() {\n    return this.args.message;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/message/left-gutter\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/service\", \"discourse/components/bookmark-icon\", \"discourse-common/helpers/d-icon\", \"truth-helpers/helpers/eq\", \"discourse/plugins/chat/discourse/helpers/format-chat-date\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _service, _bookmarkIcon, _dIcon, _eq, _formatChatDate, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageLeftGutter = _exports.default = (_class = (_class2 = class ChatMessageLeftGutter extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat-message-left-gutter\">\n        {{#if @message.reviewableId}}\n          <LinkTo\n            @route=\"review.show\"\n            @model={{@message.reviewableId}}\n            class=\"chat-message-left-gutter__flag\"\n          >\n            {{dIcon \"flag\" title=\"chat.flagged\"}}\n          </LinkTo>\n        {{else if (eq @message.userFlagStatus 0)}}\n          <div class=\"chat-message-left-gutter__flag\">\n            {{dIcon \"flag\" title=\"chat.you_flagged\"}}\n          </div>\n        {{else if this.site.desktopView}}\n          <span class=\"chat-message-left-gutter__date\">\n            {{formatChatDate @message \"tiny\"}}\n          </span>\n        {{/if}}\n        {{#if @message.bookmark}}\n          <span class=\"chat-message-left-gutter__bookmark\">\n            <BookmarkIcon @bookmark={{@message.bookmark}} />\n          </span>\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"v+HF60wY\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-message-left-gutter\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"reviewableId\\\"]],[[[1,\\\"        \\\"],[8,[32,0],[[24,0,\\\"chat-message-left-gutter__flag\\\"]],[[\\\"@route\\\",\\\"@model\\\"],[\\\"review.show\\\",[30,1,[\\\"reviewableId\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[1,[28,[32,1],[\\\"flag\\\"],[[\\\"title\\\"],[\\\"chat.flagged\\\"]]]],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[41,[28,[32,2],[[30,1,[\\\"userFlagStatus\\\"]],0],null],[[[1,\\\"        \\\"],[10,0],[14,0,\\\"chat-message-left-gutter__flag\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,1],[\\\"flag\\\"],[[\\\"title\\\"],[\\\"chat.you_flagged\\\"]]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-message-left-gutter__date\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,3],[[30,1],\\\"tiny\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[]],null]],[]]]],[]]],[41,[30,1,[\\\"bookmark\\\"]],[[[1,\\\"        \\\"],[10,1],[14,0,\\\"chat-message-left-gutter__bookmark\\\"],[12],[1,\\\"\\\\n          \\\"],[8,[32,4],null,[[\\\"@bookmark\\\"],[[30,1,[\\\"bookmark\\\"]]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@message\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/message/left-gutter.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default, _eq.default, _formatChatDate.default, _bookmarkIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/archive-channel\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"@ember/utils\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/later\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-to-topic-selector\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _template, _utils, _dButton, _dModal, _ajaxError, _i18n, _later, _discourseI18n, _chatToTopicSelector, _chatChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _class2, _data;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalArchiveChannel = _exports.default = (_class = (_data = /*#__PURE__*/new WeakSet(), (_class2 = class ChatModalArchiveChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _data);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n      _initializerDefineProperty(this, \"selection\", _descriptor3, this);\n      _initializerDefineProperty(this, \"saving\", _descriptor4, this);\n      _initializerDefineProperty(this, \"topicTitle\", _descriptor5, this);\n      _initializerDefineProperty(this, \"categoryId\", _descriptor6, this);\n      _initializerDefineProperty(this, \"tags\", _descriptor7, this);\n      _initializerDefineProperty(this, \"selectedTopicId\", _descriptor8, this);\n      _initializerDefineProperty(this, \"flash\", _descriptor9, this);\n      _initializerDefineProperty(this, \"flashType\", _descriptor10, this);\n    }\n    get channel() {\n      return this.args.model.channel;\n    }\n    get newTopic() {\n      return this.selection === _chatToTopicSelector.NEW_TOPIC_SELECTION;\n    }\n    get existingTopic() {\n      return this.selection === _chatToTopicSelector.EXISTING_TOPIC_SELECTION;\n    }\n    get buttonDisabled() {\n      if (this.saving) {\n        return true;\n      }\n      if (this.newTopic && (!this.topicTitle || this.topicTitle.length < this.siteSettings.min_topic_title_length || this.topicTitle.length > this.siteSettings.max_topic_title_length)) {\n        return true;\n      }\n      if (this.existingTopic && (0, _utils.isEmpty)(this.selectedTopicId)) {\n        return true;\n      }\n      return false;\n    }\n    get instructionLabels() {\n      const labels1 = {};\n      labels1[_chatToTopicSelector.NEW_TOPIC_SELECTION] = _discourseI18n.default.t(\"chat.selection.new_topic.instructions_channel_archive\");\n      labels1[_chatToTopicSelector.EXISTING_TOPIC_SELECTION] = _discourseI18n.default.t(\"chat.selection.existing_topic.instructions_channel_archive\");\n      return labels1;\n    }\n    get instructionsText() {\n      return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.channel_archive.instructions\", {\n        channelTitle: this.channel.escapedTitle\n      }));\n    }\n    archiveChannel() {\n      this.saving = true;\n      return this.chatApi.createChannelArchive(this.channel.id, _classPrivateMethodGet(this, _data, _data2).call(this)).then(() => {\n        this.flash = _discourseI18n.default.t(\"chat.channel_archive.process_started\");\n        this.flashType = \"success\";\n        this.channel.status = _chatChannel.CHANNEL_STATUSES.archived;\n        (0, _later.default)(() => {\n          this.args.closeModal();\n        }, 3000);\n      }).catch(_ajaxError.popupAjaxError).finally(() => this.saving = false);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-archive-channel\"\n        @inline={{@inline}}\n        @title={{i18n \"chat.channel_archive.title\"}}\n        @flash={{this.flash}}\n        @flashType={{this.flashType}}\n      >\n        <:body>\n          <p class=\"chat-modal-archive-channel__instructions\">\n            {{this.instructionsText}}\n          </p>\n          <ChatToTopicSelector\n            @selection={{this.selection}}\n            @topicTitle={{this.topicTitle}}\n            @categoryId={{this.categoryId}}\n            @tags={{this.tags}}\n            @selectedTopicId={{this.selectedTopicId}}\n            @instructionLabels={{this.instructionLabels}}\n            @allowNewMessage={{false}}\n          />\n        </:body>\n        <:footer>\n          <DButton\n            @disabled={{this.buttonDisabled}}\n            @action={{this.archiveChannel}}\n            @label=\"chat.channel_archive.title\"\n            id=\"chat-confirm-archive-channel\"\n            class=\"btn-primary\"\n          />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"wt8JowZh\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-archive-channel\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\",\\\"@flash\\\",\\\"@flashType\\\"],[[30,1],[30,2],[28,[32,1],[\\\"chat.channel_archive.title\\\"],null],[30,0,[\\\"flash\\\"]],[30,0,[\\\"flashType\\\"]]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,2],[14,0,\\\"chat-modal-archive-channel__instructions\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"instructionsText\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[8,[32,2],null,[[\\\"@selection\\\",\\\"@topicTitle\\\",\\\"@categoryId\\\",\\\"@tags\\\",\\\"@selectedTopicId\\\",\\\"@instructionLabels\\\",\\\"@allowNewMessage\\\"],[[30,0,[\\\"selection\\\"]],[30,0,[\\\"topicTitle\\\"]],[30,0,[\\\"categoryId\\\"]],[30,0,[\\\"tags\\\"]],[30,0,[\\\"selectedTopicId\\\"]],[30,0,[\\\"instructionLabels\\\"]],false]],null],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,1,\\\"chat-confirm-archive-channel\\\"],[24,0,\\\"btn-primary\\\"]],[[\\\"@disabled\\\",\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"buttonDisabled\\\"]],[30,0,[\\\"archiveChannel\\\"]],\\\"chat.channel_archive.title\\\"]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/archive-channel.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _chatToTopicSelector.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"selection\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return _chatToTopicSelector.NEW_TOPIC_SELECTION;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"saving\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"topicTitle\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"categoryId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"tags\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"selectedTopicId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"flash\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"flashType\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"archiveChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"archiveChannel\"), _class.prototype)), _class);\n  function _data2() {\n    const data1 = {\n      type: this.selection\n    };\n    if (this.newTopic) {\n      data1.title = this.topicTitle;\n      data1.category_id = this.categoryId;\n      data1.tags = this.tags;\n    }\n    if (this.existingTopic) {\n      data1.topic_id = this.selectedTopicId;\n    }\n    return data1;\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/channel-summary\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"discourse/components/conditional-loading-section\", \"discourse/components/d-modal\", \"discourse/components/d-modal-cancel\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"select-kit/components/combo-box\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _conditionalLoadingSection, _dModal, _dModalCancel, _ajaxError, _i18n, _discourseI18n, _comboBox, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalChannelSummary = _exports.default = (_class = (_class2 = class ChatModalChannelSummary extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"sinceHours\", _descriptor2, this);\n      _initializerDefineProperty(this, \"loading\", _descriptor3, this);\n      _initializerDefineProperty(this, \"summary\", _descriptor4, this);\n      _defineProperty(this, \"availableSummaries\", {});\n      _defineProperty(this, \"sinceOptions\", [1, 3, 6, 12, 24, 72, 168].map(hours1 => {\n        return {\n          name: _discourseI18n.default.t(\"chat.summarization.since\", {\n            count: hours1\n          }),\n          value: hours1\n        };\n      }));\n    }\n    get channelId() {\n      return this.args.model.channelId;\n    }\n    summarize(since1) {\n      this.sinceHours = since1;\n      this.loading = true;\n      if (this.availableSummaries[since1]) {\n        this.summary = this.availableSummaries[since1];\n        this.loading = false;\n        return;\n      }\n      return this.chatApi.summarize(this.channelId, {\n        since: since1\n      }).then(data1 => {\n        this.availableSummaries[this.sinceHours] = data1.summary;\n        this.summary = this.availableSummaries[this.sinceHours];\n      }).catch(_ajaxError.popupAjaxError).finally(() => this.loading = false);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-channel-summary\"\n        @title={{i18n \"chat.summarization.title\"}}\n      >\n        <:body>\n          <span>{{i18n \"chat.summarization.description\"}}</span>\n          <ComboBox\n            @value={{this.sinceHours}}\n            @content={{this.sinceOptions}}\n            @onChange={{this.summarize}}\n            @valueProperty=\"value\"\n            class=\"summarization-since\"\n          />\n          <ConditionalLoadingSection @isLoading={{this.loading}}>\n            <p class=\"summary-area\">{{this.summary}}</p>\n          </ConditionalLoadingSection>\n        </:body>\n        <:footer>\n          <DModalCancel @close={{@closeModal}} />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"rKnw3XAV\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-channel-summary\\\"]],[[\\\"@closeModal\\\",\\\"@title\\\"],[[30,1],[28,[32,1],[\\\"chat.summarization.title\\\"],null]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,1],[12],[1,[28,[32,1],[\\\"chat.summarization.description\\\"],null]],[13],[1,\\\"\\\\n        \\\"],[8,[32,2],[[24,0,\\\"summarization-since\\\"]],[[\\\"@value\\\",\\\"@content\\\",\\\"@onChange\\\",\\\"@valueProperty\\\"],[[30,0,[\\\"sinceHours\\\"]],[30,0,[\\\"sinceOptions\\\"]],[30,0,[\\\"summarize\\\"]],\\\"value\\\"]],null],[1,\\\"\\\\n        \\\"],[8,[32,3],null,[[\\\"@isLoading\\\"],[[30,0,[\\\"loading\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[10,2],[14,0,\\\"summary-area\\\"],[12],[1,[30,0,[\\\"summary\\\"]]],[13],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,4],null,[[\\\"@close\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/channel-summary.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _comboBox.default, _conditionalLoadingSection.default, _dModalCancel.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"sinceHours\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"summary\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"summarize\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"summarize\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/create-channel\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"@ember/template\", \"@ember/utils\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse/lib/utilities\", \"discourse-common/lib/debounce\", \"discourse-i18n\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _object, _runloop, _service, _template, _utils, _ajax, _ajaxError, _utilities, _debounce, _discourseI18n, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _generateSlugHandler, _createChannel, _buildCategorySlug, _updateAutoJoinConfirmWarning, _updatePermissionsHint, _generateSlug, _debouncedGenerateSlug;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n  function _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <DModal\n    @closeModal={{@closeModal}}\n    class=\"chat-modal-create-channel\"\n    @inline={{@inline}}\n    @title={{i18n \"chat.create_channel.title\"}}\n    @flash={{this.flash}}\n    @tagName=\"form\"\n    {{on \"submit\" this.onSave}}\n  >\n    <:body>\n      <div class=\"chat-modal-create-channel__control -name\">\n        <label for=\"name\" class=\"chat-modal-create-channel__label\">\n          {{i18n \"chat.create_channel.name\"}}\n        </label>\n        <Input\n          name=\"name\"\n          class=\"chat-modal-create-channel__input\"\n          @type=\"text\"\n          @value={{this.name}}\n          {{on \"input\" (action this.onNameChange value=\"target.value\")}}\n        />\n      </div>\n  \n      <div class=\"chat-modal-create-channel__control -slug\">\n        <label for=\"slug\" class=\"chat-modal-create-channel__label\">\n          {{i18n \"chat.create_channel.slug\"}}&nbsp;\n          <span>\n            {{d-icon \"info-circle\"}}\n            <DTooltip>\n              {{i18n \"chat.channel_edit_name_slug_modal.slug_description\"}}\n            </DTooltip>\n          </span>\n        </label>\n        <Input\n          name=\"slug\"\n          class=\"chat-modal-create-channel__input\"\n          @type=\"text\"\n          @value={{this.slug}}\n          placeholder={{this.autoGeneratedSlug}}\n        />\n      </div>\n  \n      <div class=\"chat-modal-create-channel__control -description\">\n        <label for=\"description\" class=\"chat-modal-create-channel__label\">\n          {{i18n \"chat.create_channel.description\"}}\n        </label>\n        <Input\n          name=\"description\"\n          class=\"chat-modal-create-channel__input\"\n          @type=\"textarea\"\n          @value={{this.description}}\n        />\n      </div>\n  \n      <div class=\"chat-modal-create-channel__control\">\n        <label class=\"chat-modal-create-channel__label\">\n          {{i18n \"chat.create_channel.choose_category.label\"}}\n        </label>\n        <CategoryChooser\n          @value={{this.categoryId}}\n          @onChange={{action this.onCategoryChange}}\n          @options={{hash\n            formName=\"chatable_id\"\n            none=\"chat.create_channel.choose_category.none\"\n          }}\n        />\n  \n        {{#if this.categoryPermissionsHint}}\n          <div\n            class={{concat-class\n              \"chat-modal-create-channel__hint\"\n              (if this.loadingPermissionHint \"loading-permissions\")\n            }}\n          >\n            {{this.categoryPermissionsHint}}\n          </div>\n        {{/if}}\n      </div>\n  \n      {{#if this.autoJoinAvailable}}\n        <div class=\"chat-modal-create-channel__control -auto-join\">\n          <label class=\"chat-modal-create-channel__label\">\n            <Input\n              name=\"auto_join_users\"\n              @type=\"checkbox\"\n              @checked={{this.autoJoinUsers}}\n            />\n            <div class=\"auto-join-channel\">\n              <span class=\"chat-modal-create-channel__label-title\">\n                {{i18n \"chat.settings.auto_join_users_label\"}}\n              </span>\n              <p class=\"chat-modal-create-channel__label-description\">\n                {{#if this.categoryName}}\n                  {{i18n\n                    \"chat.settings.auto_join_users_info\"\n                    category=this.categoryName\n                  }}\n                {{else}}\n                  {{i18n \"chat.settings.auto_join_users_info_no_category\"}}\n                {{/if}}\n              </p>\n            </div>\n          </label>\n        </div>\n      {{/if}}\n  \n      <div class=\"chat-modal-create-channel__control -threading-toggle\">\n        <label class=\"chat-modal-create-channel__label\">\n          <Input\n            name=\"threading_enabled\"\n            @type=\"checkbox\"\n            @checked={{this.threadingEnabled}}\n          />\n          <div class=\"threading-channel\">\n            <span class=\"chat-modal-create-channel__label-title\">\n              {{i18n \"chat.create_channel.threading.label\"}}\n            </span>\n            <p class=\"chat-modal-create-channel__label-description\">\n              {{i18n \"chat.settings.channel_threading_description\"}}\n            </p>\n          </div>\n        </label>\n      </div>\n    </:body>\n    <:footer>\n      <button\n        class=\"btn btn-primary create\"\n        disabled={{this.createDisabled}}\n        type=\"submit\"\n      >\n        {{i18n \"chat.create_channel.create\"}}\n      </button>\n    </:footer>\n  </DModal>\n  */\n  {\n    \"id\": \"d48yUZBc\",\n    \"block\": \"[[[8,[39,0],[[24,0,\\\"chat-modal-create-channel\\\"],[4,[38,2],[\\\"submit\\\",[30,0,[\\\"onSave\\\"]]],null]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\",\\\"@flash\\\",\\\"@tagName\\\"],[[30,1],[30,2],[28,[37,1],[\\\"chat.create_channel.title\\\"],null],[30,0,[\\\"flash\\\"]],\\\"form\\\"]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control -name\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"name\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"chat.create_channel.name\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,3],[[24,3,\\\"name\\\"],[24,0,\\\"chat-modal-create-channel__input\\\"],[4,[38,2],[\\\"input\\\",[28,[37,4],[[30,0],[30,0,[\\\"onNameChange\\\"]]],[[\\\"value\\\"],[\\\"target.value\\\"]]]],null]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"name\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control -slug\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"slug\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"chat.create_channel.slug\\\"],null]],[1,\\\" \\\\n        \\\"],[10,1],[12],[1,\\\"\\\\n          \\\"],[1,[28,[35,5],[\\\"info-circle\\\"],null]],[1,\\\"\\\\n          \\\"],[8,[39,6],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[1,[28,[35,1],[\\\"chat.channel_edit_name_slug_modal.slug_description\\\"],null]],[1,\\\"\\\\n          \\\"]],[]]]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,3],[[24,3,\\\"slug\\\"],[24,0,\\\"chat-modal-create-channel__input\\\"],[16,\\\"placeholder\\\",[30,0,[\\\"autoGeneratedSlug\\\"]]]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"slug\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control -description\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"description\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"chat.create_channel.description\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,3],[[24,3,\\\"description\\\"],[24,0,\\\"chat-modal-create-channel__input\\\"]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"textarea\\\",[30,0,[\\\"description\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,1],[\\\"chat.create_channel.choose_category.label\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,7],null,[[\\\"@value\\\",\\\"@onChange\\\",\\\"@options\\\"],[[30,0,[\\\"categoryId\\\"]],[28,[37,4],[[30,0],[30,0,[\\\"onCategoryChange\\\"]]],null],[28,[37,8],null,[[\\\"formName\\\",\\\"none\\\"],[\\\"chatable_id\\\",\\\"chat.create_channel.choose_category.none\\\"]]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"categoryPermissionsHint\\\"]],[[[1,\\\"        \\\"],[10,0],[15,0,[28,[37,10],[\\\"chat-modal-create-channel__hint\\\",[52,[30,0,[\\\"loadingPermissionHint\\\"]],\\\"loading-permissions\\\"]],null]],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"categoryPermissionsHint\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"autoJoinAvailable\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control -auto-join\\\"],[12],[1,\\\"\\\\n        \\\"],[10,\\\"label\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n          \\\"],[8,[39,3],[[24,3,\\\"auto_join_users\\\"]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,0,[\\\"autoJoinUsers\\\"]]]],null],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"auto-join-channel\\\"],[12],[1,\\\"\\\\n            \\\"],[10,1],[14,0,\\\"chat-modal-create-channel__label-title\\\"],[12],[1,\\\"\\\\n              \\\"],[1,[28,[35,1],[\\\"chat.settings.auto_join_users_label\\\"],null]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n            \\\"],[10,2],[14,0,\\\"chat-modal-create-channel__label-description\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"categoryName\\\"]],[[[1,\\\"                \\\"],[1,[28,[35,1],[\\\"chat.settings.auto_join_users_info\\\"],[[\\\"category\\\"],[[30,0,[\\\"categoryName\\\"]]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[1,[28,[35,1],[\\\"chat.settings.auto_join_users_info_no_category\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-modal-create-channel__control -threading-toggle\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"chat-modal-create-channel__label\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[39,3],[[24,3,\\\"threading_enabled\\\"]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,0,[\\\"threadingEnabled\\\"]]]],null],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"threading-channel\\\"],[12],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"chat-modal-create-channel__label-title\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[35,1],[\\\"chat.create_channel.threading.label\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n          \\\"],[10,2],[14,0,\\\"chat-modal-create-channel__label-description\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[35,1],[\\\"chat.settings.channel_threading_description\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[]],[[[1,\\\"\\\\n    \\\"],[10,\\\"button\\\"],[14,0,\\\"btn btn-primary create\\\"],[15,\\\"disabled\\\",[30,0,[\\\"createDisabled\\\"]]],[14,4,\\\"submit\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[28,[35,1],[\\\"chat.create_channel.create\\\"],null]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[]]]]]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[\\\"d-modal\\\",\\\"i18n\\\",\\\"on\\\",\\\"input\\\",\\\"action\\\",\\\"d-icon\\\",\\\"d-tooltip\\\",\\\"category-chooser\\\",\\\"hash\\\",\\\"if\\\",\\\"concat-class\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat/modal/create-channel.hbs\",\n    \"isStrictMode\": false\n  });\n  const DEFAULT_HINT = (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.create_channel.choose_category.default_hint\", {\n    link: \"/categories\",\n    category: \"category\"\n  }));\n  let ChatModalCreateChannel = _exports.default = (_class = (_generateSlugHandler = /*#__PURE__*/new WeakMap(), _createChannel = /*#__PURE__*/new WeakSet(), _buildCategorySlug = /*#__PURE__*/new WeakSet(), _updateAutoJoinConfirmWarning = /*#__PURE__*/new WeakSet(), _updatePermissionsHint = /*#__PURE__*/new WeakSet(), _generateSlug = /*#__PURE__*/new WeakSet(), _debouncedGenerateSlug = /*#__PURE__*/new WeakSet(), class ChatModalCreateChannel extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _debouncedGenerateSlug);\n      // intentionally not showing AJAX error for this, we will autogenerate\n      // the slug server-side if they leave it blank\n      _classPrivateMethodInitSpec(this, _generateSlug);\n      _classPrivateMethodInitSpec(this, _updatePermissionsHint);\n      _classPrivateMethodInitSpec(this, _updateAutoJoinConfirmWarning);\n      _classPrivateMethodInitSpec(this, _buildCategorySlug);\n      _classPrivateMethodInitSpec(this, _createChannel);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor4, this);\n      _initializerDefineProperty(this, \"router\", _descriptor5, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor6, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor7, this);\n      _initializerDefineProperty(this, \"site\", _descriptor8, this);\n      _initializerDefineProperty(this, \"flash\", _descriptor9, this);\n      _initializerDefineProperty(this, \"name\", _descriptor10, this);\n      _initializerDefineProperty(this, \"category\", _descriptor11, this);\n      _initializerDefineProperty(this, \"categoryId\", _descriptor12, this);\n      _initializerDefineProperty(this, \"autoGeneratedSlug\", _descriptor13, this);\n      _initializerDefineProperty(this, \"categoryPermissionsHint\", _descriptor14, this);\n      _initializerDefineProperty(this, \"autoJoinWarning\", _descriptor15, this);\n      _initializerDefineProperty(this, \"loadingPermissionHint\", _descriptor16, this);\n      _classPrivateFieldInitSpec(this, _generateSlugHandler, {\n        writable: true,\n        value: null\n      });\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      (0, _runloop.cancel)(_classPrivateFieldGet(this, _generateSlugHandler));\n    }\n    get autoJoinAvailable() {\n      return this.siteSettings.max_chat_auto_joined_users > 0;\n    }\n    get categorySelected() {\n      return (0, _utils.isPresent)(this.category);\n    }\n    get createDisabled() {\n      return !this.categorySelected || (0, _utils.isBlank)(this.name);\n    }\n    get categoryName() {\n      return this.categorySelected && (0, _utils.isPresent)(this.name) ? (0, _utilities.escapeExpression)(this.name) : null;\n    }\n    onShow() {\n      this.categoryPermissionsHint = DEFAULT_HINT;\n    }\n    onCategoryChange(categoryId) {\n      const category = categoryId ? this.site.categories.findBy(\"id\", categoryId) : null;\n      _classPrivateMethodGet(this, _updatePermissionsHint, _updatePermissionsHint2).call(this, category);\n      const name = this.name || category?.name || \"\";\n      this.categoryId = categoryId;\n      this.category = category;\n      this.name = name;\n      _classPrivateMethodGet(this, _debouncedGenerateSlug, _debouncedGenerateSlug2).call(this, name);\n    }\n    onNameChange(name) {\n      _classPrivateMethodGet(this, _debouncedGenerateSlug, _debouncedGenerateSlug2).call(this, name);\n    }\n    onSave(event) {\n      event.preventDefault();\n      if (this.createDisabled) {\n        return;\n      }\n      const formData = new FormData(event.currentTarget);\n      const data = Object.fromEntries(formData.entries());\n      data.auto_join_users = data.auto_join_users === \"on\";\n      data.slug ??= this.autoGeneratedSlug;\n      data.threading_enabled = data.threading_enabled === \"on\";\n      if (data.auto_join_users) {\n        this.dialog.yesNoConfirm({\n          message: this.autoJoinWarning,\n          didConfirm: () => _classPrivateMethodGet(this, _createChannel, _createChannel2).call(this, data)\n        });\n      } else {\n        _classPrivateMethodGet(this, _createChannel, _createChannel2).call(this, data);\n      }\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"flash\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"name\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"category\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"categoryId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"autoGeneratedSlug\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"categoryPermissionsHint\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"autoJoinWarning\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"loadingPermissionHint\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"onShow\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onShow\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onCategoryChange\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onCategoryChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onNameChange\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onNameChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSave\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSave\"), _class.prototype)), _class);\n  async function _createChannel2(data) {\n    try {\n      const channel = await this.chatApi.createChannel(data);\n      this.args.closeModal();\n      this.chatChannelsManager.follow(channel);\n      this.router.transitionTo(\"chat.channel\", ...channel.routeModels);\n    } catch (e) {\n      this.flash = (0, _ajaxError.extractError)(e);\n    }\n  }\n  function _buildCategorySlug2(category) {\n    const parent = category.parentCategory;\n    if (parent) {\n      return `${_classPrivateMethodGet(this, _buildCategorySlug, _buildCategorySlug2).call(this, parent)}/${category.slug}`;\n    } else {\n      return category.slug;\n    }\n  }\n  function _updateAutoJoinConfirmWarning2(category, catPermissions) {\n    const allowedGroups = catPermissions.allowed_groups;\n    let warning;\n    if (catPermissions.private) {\n      switch (allowedGroups.length) {\n        case 1:\n          warning = _discourseI18n.default.t(\"chat.create_channel.auto_join_users.warning_1_group\", {\n            count: catPermissions.members_count,\n            group: (0, _utilities.escapeExpression)(allowedGroups[0])\n          });\n          break;\n        case 2:\n          warning = _discourseI18n.default.t(\"chat.create_channel.auto_join_users.warning_2_groups\", {\n            count: catPermissions.members_count,\n            group1: (0, _utilities.escapeExpression)(allowedGroups[0]),\n            group2: (0, _utilities.escapeExpression)(allowedGroups[1])\n          });\n          break;\n        default:\n          warning = _discourseI18n.default.messageFormat(\"chat.create_channel.auto_join_users.warning_multiple_groups_MF\", {\n            groupCount: allowedGroups.length - 1,\n            userCount: catPermissions.members_count,\n            groupName: (0, _utilities.escapeExpression)(allowedGroups[0])\n          });\n          break;\n      }\n    } else {\n      warning = _discourseI18n.default.t(\"chat.create_channel.auto_join_users.public_category_warning\", {\n        category: (0, _utilities.escapeExpression)(category.name)\n      });\n    }\n    this.autoJoinWarning = warning;\n  }\n  function _updatePermissionsHint2(category) {\n    if (category) {\n      const fullSlug = _classPrivateMethodGet(this, _buildCategorySlug, _buildCategorySlug2).call(this, category);\n      this.loadingPermissionHint = true;\n      return this.chatApi.categoryPermissions(category.id).then(catPermissions => {\n        _classPrivateMethodGet(this, _updateAutoJoinConfirmWarning, _updateAutoJoinConfirmWarning2).call(this, category, catPermissions);\n        const allowedGroups = catPermissions.allowed_groups;\n        const settingLink = `/c/${(0, _utilities.escapeExpression)(fullSlug)}/edit/security`;\n        let hint;\n        switch (allowedGroups.length) {\n          case 1:\n            hint = _discourseI18n.default.t(\"chat.create_channel.choose_category.hint_1_group\", {\n              settingLink,\n              group: (0, _utilities.escapeExpression)(allowedGroups[0])\n            });\n            break;\n          case 2:\n            hint = _discourseI18n.default.t(\"chat.create_channel.choose_category.hint_2_groups\", {\n              settingLink,\n              group1: (0, _utilities.escapeExpression)(allowedGroups[0]),\n              group2: (0, _utilities.escapeExpression)(allowedGroups[1])\n            });\n            break;\n          default:\n            hint = _discourseI18n.default.t(\"chat.create_channel.choose_category.hint_multiple_groups\", {\n              settingLink,\n              group: (0, _utilities.escapeExpression)(allowedGroups[0]),\n              count: allowedGroups.length - 1\n            });\n            break;\n        }\n        this.categoryPermissionsHint = (0, _template.htmlSafe)(hint);\n      }).finally(() => {\n        this.loadingPermissionHint = false;\n      });\n    } else {\n      this.categoryPermissionsHint = DEFAULT_HINT;\n      this.autoJoinWarning = \"\";\n    }\n  }\n  function _generateSlug2(name) {\n    return (0, _ajax.ajax)(\"/slugs.json\", {\n      type: \"POST\",\n      data: {\n        name\n      }\n    }).then(response => {\n      this.autoGeneratedSlug = response.slug;\n    });\n  }\n  function _debouncedGenerateSlug2(name) {\n    (0, _runloop.cancel)(_classPrivateFieldGet(this, _generateSlugHandler));\n    this.autoGeneratedSlug = \"\";\n    if (!name) {\n      return;\n    }\n    _classPrivateFieldSet(this, _generateSlugHandler, (0, _debounce.default)(this, _classPrivateMethodGet(this, _generateSlug, _generateSlug2), name, 300));\n  }\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatModalCreateChannel);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/delete-channel\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"@ember/utils\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/components/text-field\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/later\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _template, _utils, _dButton, _dModal, _textField, _ajaxError, _i18n, _later, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalDeleteChannel = _exports.default = (_class = (_class2 = class ChatModalDeleteChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"channelNameConfirmation\", _descriptor3, this);\n      _initializerDefineProperty(this, \"deleting\", _descriptor4, this);\n      _initializerDefineProperty(this, \"confirmed\", _descriptor5, this);\n      _initializerDefineProperty(this, \"flash\", _descriptor6, this);\n      _initializerDefineProperty(this, \"flashType\", _descriptor7, this);\n    }\n    get channel() {\n      return this.args.model.channel;\n    }\n    get buttonDisabled() {\n      if (this.deleting || this.confirmed) {\n        return true;\n      }\n      if ((0, _utils.isEmpty)(this.channelNameConfirmation) || this.channelNameConfirmation.toLowerCase() !== this.channel.title.toLowerCase()) {\n        return true;\n      }\n      return false;\n    }\n    get instructionsText() {\n      return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.channel_delete.instructions\", {\n        name: this.channel.escapedTitle\n      }));\n    }\n    deleteChannel() {\n      this.deleting = true;\n      return this.chatApi.destroyChannel(this.channel.id, this.channelNameConfirmation).then(() => {\n        this.confirmed = true;\n        this.flash = _discourseI18n.default.t(\"chat.channel_delete.process_started\");\n        this.flashType = \"success\";\n        (0, _later.default)(() => {\n          this.args.closeModal();\n          this.router.transitionTo(\"chat\");\n        }, 3000);\n      }).catch(_ajaxError.popupAjaxError).finally(() => this.deleting = false);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-delete-channel\"\n        @inline={{@inline}}\n        @title={{i18n \"chat.channel_delete.title\"}}\n        @flash={{this.flash}}\n        @flashType={{this.flashType}}\n      >\n        <:body>\n          <p class=\"chat-modal-delete-channel__instructions\">\n            {{this.instructionsText}}\n          </p>\n  \n          <TextField\n            @value={{this.channelNameConfirmation}}\n            @id=\"channel-delete-confirm-name\"\n            @placeholderKey=\"chat.channel_delete.confirm_channel_name\"\n            @autocorrect=\"off\"\n            @autocapitalize=\"off\"\n          />\n        </:body>\n        <:footer>\n          <DButton\n            @disabled={{this.buttonDisabled}}\n            @action={{this.deleteChannel}}\n            @label=\"chat.channel_delete.confirm\"\n            id=\"chat-confirm-delete-channel\"\n            class=\"btn-danger\"\n          />\n          <DButton @label=\"cancel\" @action={{@closeModal}} class=\"btn-flat\" />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"rC8Dnbms\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-delete-channel\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\",\\\"@flash\\\",\\\"@flashType\\\"],[[30,1],[30,2],[28,[32,1],[\\\"chat.channel_delete.title\\\"],null],[30,0,[\\\"flash\\\"]],[30,0,[\\\"flashType\\\"]]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,2],[14,0,\\\"chat-modal-delete-channel__instructions\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"instructionsText\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,2],null,[[\\\"@value\\\",\\\"@id\\\",\\\"@placeholderKey\\\",\\\"@autocorrect\\\",\\\"@autocapitalize\\\"],[[30,0,[\\\"channelNameConfirmation\\\"]],\\\"channel-delete-confirm-name\\\",\\\"chat.channel_delete.confirm_channel_name\\\",\\\"off\\\",\\\"off\\\"]],null],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,1,\\\"chat-confirm-delete-channel\\\"],[24,0,\\\"btn-danger\\\"]],[[\\\"@disabled\\\",\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"buttonDisabled\\\"]],[30,0,[\\\"deleteChannel\\\"]],\\\"chat.channel_delete.confirm\\\"]],null],[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,0,\\\"btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"cancel\\\",[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/delete-channel.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _textField.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"channelNameConfirmation\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"deleting\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"confirmed\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"flash\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"flashType\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"deleteChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteChannel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-description\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"discourse/lib/ajax-error\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _object, _service, _ajaxError, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <DModal\n    @closeModal={{@closeModal}}\n    class=\"chat-modal-edit-channel-description\"\n    @inline={{@inline}}\n    @title={{i18n \"chat.channel_edit_description_modal.title\"}}\n    @flash={{this.flash}}\n  >\n    <:body>\n      <span class=\"chat-modal-edit-channel-description__description\">{{i18n\n          \"chat.channel_edit_description_modal.description\"\n        }}</span>\n      <CharCounter\n        @value={{this.editedDescription}}\n        @max={{this.descriptionMaxLength}}\n      >\n        <textarea\n          {{on\n            \"input\"\n            (action this.onChangeChatChannelDescription value=\"target.value\")\n          }}\n          class=\"chat-modal-edit-channel-description__description-input\"\n          placeholder={{i18n\n            \"chat.channel_edit_description_modal.input_placeholder\"\n          }}\n        >{{this.editedDescription}}</textarea>\n      </CharCounter>\n    </:body>\n    <:footer>\n      <DButton\n        @action={{this.onSaveChatChannelDescription}}\n        @label=\"save\"\n        @disabled={{this.isSaveDisabled}}\n        class=\"btn-primary create\"\n      />\n      <DModalCancel @close={{@closeModal}} />\n    </:footer>\n  </DModal>\n  */\n  {\n    \"id\": \"TZprB0qD\",\n    \"block\": \"[[[8,[39,0],[[24,0,\\\"chat-modal-edit-channel-description\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\",\\\"@flash\\\"],[[30,1],[30,2],[28,[37,1],[\\\"chat.channel_edit_description_modal.title\\\"],null],[30,0,[\\\"flash\\\"]]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n    \\\"],[10,1],[14,0,\\\"chat-modal-edit-channel-description__description\\\"],[12],[1,[28,[35,1],[\\\"chat.channel_edit_description_modal.description\\\"],null]],[13],[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@value\\\",\\\"@max\\\"],[[30,0,[\\\"editedDescription\\\"]],[30,0,[\\\"descriptionMaxLength\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[11,\\\"textarea\\\"],[24,0,\\\"chat-modal-edit-channel-description__description-input\\\"],[16,\\\"placeholder\\\",[28,[37,1],[\\\"chat.channel_edit_description_modal.input_placeholder\\\"],null]],[4,[38,3],[\\\"input\\\",[28,[37,4],[[30,0],[30,0,[\\\"onChangeChatChannelDescription\\\"]]],[[\\\"value\\\"],[\\\"target.value\\\"]]]],null],[12],[1,[30,0,[\\\"editedDescription\\\"]]],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[]],[[[1,\\\"\\\\n    \\\"],[8,[39,5],[[24,0,\\\"btn-primary create\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@disabled\\\"],[[30,0,[\\\"onSaveChatChannelDescription\\\"]],\\\"save\\\",[30,0,[\\\"isSaveDisabled\\\"]]]],null],[1,\\\"\\\\n    \\\"],[8,[39,6],null,[[\\\"@close\\\"],[[30,1]]],null],[1,\\\"\\\\n  \\\"]],[]]]]]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[\\\"d-modal\\\",\\\"i18n\\\",\\\"char-counter\\\",\\\"on\\\",\\\"action\\\",\\\"d-button\\\",\\\"d-modal-cancel\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-description.hbs\",\n    \"isStrictMode\": false\n  });\n  const DESCRIPTION_MAX_LENGTH = 280;\n  let ChatModalEditChannelDescription = _exports.default = (_class = class ChatModalEditChannelDescription extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"editedDescription\", _descriptor2, this);\n      _initializerDefineProperty(this, \"flash\", _descriptor3, this);\n    }\n    get channel() {\n      return this.args.model;\n    }\n    get isSaveDisabled() {\n      return this.channel.description === this.editedDescription || this.editedDescription?.length > DESCRIPTION_MAX_LENGTH;\n    }\n    get descriptionMaxLength() {\n      return DESCRIPTION_MAX_LENGTH;\n    }\n    async onSaveChatChannelDescription() {\n      try {\n        const result = await this.chatApi.updateChannel(this.channel.id, {\n          description: this.editedDescription\n        });\n        this.channel.description = result.channel.description;\n        this.args.closeModal();\n      } catch (error) {\n        this.flash = (0, _ajaxError.extractError)(error);\n      }\n    }\n    onChangeChatChannelDescription(description) {\n      this.flash = null;\n      this.editedDescription = description;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"editedDescription\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return this.channel.description || \"\";\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"flash\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onSaveChatChannelDescription\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSaveChatChannelDescription\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChangeChatChannelDescription\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeChatChannelDescription\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatModalEditChannelDescription);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/component\", \"@ember/modifier\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/components/d-modal-cancel\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/debounce\", \"float-kit/components/d-tooltip\", \"discourse/plugins/chat/discourse/lib/slugify-channel\", \"@ember/template-factory\"], function (_exports, _component, _tracking, _component2, _modifier, _object, _runloop, _service, _dButton, _dModal, _dModalCancel, _ajax, _ajaxError, _i18n, _debounce, _dTooltip, _slugifyChannel, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _class2, _generateSlugHandler, _debouncedGenerateSlug, _generateSlug;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n  function _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const SLUG_MAX_LENGTH = 100;\n  let ChatModalEditChannelName = _exports.default = (_class = (_generateSlugHandler = /*#__PURE__*/new WeakMap(), _debouncedGenerateSlug = /*#__PURE__*/new WeakSet(), _generateSlug = /*#__PURE__*/new WeakSet(), (_class2 = class ChatModalEditChannelName extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _generateSlug);\n      _classPrivateMethodInitSpec(this, _debouncedGenerateSlug);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor3, this);\n      _initializerDefineProperty(this, \"editedName\", _descriptor4, this);\n      _initializerDefineProperty(this, \"editedSlug\", _descriptor5, this);\n      _initializerDefineProperty(this, \"autoGeneratedSlug\", _descriptor6, this);\n      _initializerDefineProperty(this, \"flash\", _descriptor7, this);\n      _classPrivateFieldInitSpec(this, _generateSlugHandler, {\n        writable: true,\n        value: null\n      });\n    }\n    get channel() {\n      return this.args.model;\n    }\n    get isSaveDisabled() {\n      return this.channel.title === this.editedName && this.channel.slug === this.editedSlug || this.editedName?.length > this.siteSettings.max_topic_title_length || this.editedSlug?.length > SLUG_MAX_LENGTH;\n    }\n    async onSave() {\n      try {\n        const result1 = await this.chatApi.updateChannel(this.channel.id, {\n          name: this.editedName,\n          slug: this.editedSlug || this.autoGeneratedSlug || this.channel.slug\n        });\n        this.channel.title = result1.channel.title;\n        this.channel.slug = result1.channel.slug;\n        await this.args.closeModal();\n        await this.router.replaceWith(\"chat.channel\", ...this.channel.routeModels);\n      } catch (error1) {\n        this.flash = (0, _ajaxError.extractError)(error1);\n      }\n    }\n    onChangeChatChannelName(event1) {\n      this.flash = null;\n      _classPrivateMethodGet(this, _debouncedGenerateSlug, _debouncedGenerateSlug2).call(this, event1?.target?.value);\n    }\n    onChangeChatChannelSlug() {\n      this.flash = null;\n      _classPrivateMethodGet(this, _debouncedGenerateSlug, _debouncedGenerateSlug2).call(this, this.editedName);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-edit-channel-name\"\n        @inline={{@inline}}\n        @title={{i18n \"chat.channel_edit_name_slug_modal.title\"}}\n        @flash={{this.flash}}\n      >\n        <:body>\n          <div class=\"edit-channel-control\">\n            <label for=\"channel-name\" class=\"edit-channel-label\">\n              {{i18n \"chat.channel_edit_name_slug_modal.name\"}}\n            </label>\n            <Input\n              name=\"channel-name\"\n              class=\"chat-channel-edit-name-slug-modal__name-input\"\n              placeholder={{i18n\n                \"chat.channel_edit_name_slug_modal.input_placeholder\"\n              }}\n              @type=\"text\"\n              @value={{this.editedName}}\n              {{on \"input\" this.onChangeChatChannelName}}\n            />\n          </div>\n  \n          <div class=\"edit-channel-control\">\n            <label for=\"channel-slug\" class=\"edit-channel-label\">\n              {{i18n \"chat.channel_edit_name_slug_modal.slug\"}}&nbsp;\n              <DTooltip\n                @icon=\"info-circle\"\n                @content={{i18n\n                  \"chat.channel_edit_name_slug_modal.slug_description\"\n                }}\n              />\n            </label>\n            <Input\n              name=\"channel-slug\"\n              class=\"chat-channel-edit-name-slug-modal__slug-input\"\n              placeholder={{this.autoGeneratedSlug}}\n              {{on \"input\" this.onChangeChatChannelSlug}}\n              @type=\"text\"\n              @value={{this.editedSlug}}\n            />\n          </div>\n        </:body>\n        <:footer>\n          <DButton\n            @action={{this.onSave}}\n            @label=\"save\"\n            @disabled={{this.isSaveDisabled}}\n            class=\"btn-primary create\"\n          />\n          <DModalCancel @close={{@closeModal}} />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"QeXyydzv\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-edit-channel-name\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\",\\\"@flash\\\"],[[30,1],[30,2],[28,[32,1],[\\\"chat.channel_edit_name_slug_modal.title\\\"],null],[30,0,[\\\"flash\\\"]]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"edit-channel-control\\\"],[12],[1,\\\"\\\\n          \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"channel-name\\\"],[14,0,\\\"edit-channel-label\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,1],[\\\"chat.channel_edit_name_slug_modal.name\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n          \\\"],[8,[32,2],[[24,3,\\\"channel-name\\\"],[24,0,\\\"chat-channel-edit-name-slug-modal__name-input\\\"],[16,\\\"placeholder\\\",[28,[32,1],[\\\"chat.channel_edit_name_slug_modal.input_placeholder\\\"],null]],[4,[32,3],[\\\"input\\\",[30,0,[\\\"onChangeChatChannelName\\\"]]],null]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"editedName\\\"]]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[10,0],[14,0,\\\"edit-channel-control\\\"],[12],[1,\\\"\\\\n          \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"channel-slug\\\"],[14,0,\\\"edit-channel-label\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,1],[\\\"chat.channel_edit_name_slug_modal.slug\\\"],null]],[1,\\\" \\\\n            \\\"],[8,[32,4],null,[[\\\"@icon\\\",\\\"@content\\\"],[\\\"info-circle\\\",[28,[32,1],[\\\"chat.channel_edit_name_slug_modal.slug_description\\\"],null]]],null],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n          \\\"],[8,[32,2],[[24,3,\\\"channel-slug\\\"],[24,0,\\\"chat-channel-edit-name-slug-modal__slug-input\\\"],[16,\\\"placeholder\\\",[30,0,[\\\"autoGeneratedSlug\\\"]]],[4,[32,3],[\\\"input\\\",[30,0,[\\\"onChangeChatChannelSlug\\\"]]],null]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"editedSlug\\\"]]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,5],[[24,0,\\\"btn-primary create\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@disabled\\\"],[[30,0,[\\\"onSave\\\"]],\\\"save\\\",[30,0,[\\\"isSaveDisabled\\\"]]]],null],[1,\\\"\\\\n        \\\"],[8,[32,6],null,[[\\\"@close\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _component2.Input, _modifier.on, _dTooltip.default, _dButton.default, _dModalCancel.default],\n    \"isStrictMode\": true\n  }), _class2), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"editedName\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return this.channel.title;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"editedSlug\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return this.channel.slug;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"autoGeneratedSlug\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return this.channel.slug ?? (0, _slugifyChannel.default)(this.channel);\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"flash\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onSave\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSave\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChangeChatChannelName\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeChatChannelName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChangeChatChannelSlug\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeChatChannelSlug\"), _class.prototype)), _class);\n  function _debouncedGenerateSlug2(name1) {\n    (0, _runloop.cancel)(_classPrivateFieldGet(this, _generateSlugHandler));\n    this.autoGeneratedSlug = \"\";\n    if (!name1) {\n      return;\n    }\n    _classPrivateFieldSet(this, _generateSlugHandler, (0, _debounce.default)(this, _classPrivateMethodGet(this, _generateSlug, _generateSlug2), name1, 300));\n  }\n  async function _generateSlug2(name1) {\n    try {\n      await (0, _ajax.ajax)(\"/slugs.json\", {\n        type: \"POST\",\n        data: {\n          name: name1\n        }\n      }).then(response1 => {\n        this.autoGeneratedSlug = response1.slug;\n      });\n    } catch (error1) {\n      // eslint-disable-next-line no-console\n      console.log(error1);\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/move-message-to-channel\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"@ember/utils\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-channel-chooser\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _template, _utils, _dButton, _dModal, _ajaxError, _i18n, _discourseI18n, _chatChannelChooser, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalMoveMessageToChannel = _exports.default = (_class = (_class2 = class ChatModalMoveMessageToChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor4, this);\n      _initializerDefineProperty(this, \"destinationChannelId\", _descriptor5, this);\n    }\n    get sourceChannel() {\n      return this.args.model.sourceChannel;\n    }\n    get selectedMessageIds() {\n      return this.args.model.selectedMessageIds;\n    }\n    get selectedMessageCount() {\n      return this.selectedMessageIds?.length;\n    }\n    get disableMoveButton() {\n      return (0, _utils.isBlank)(this.destinationChannelId);\n    }\n    get availableChannels() {\n      return (this.args.model.availableChannels || this.chatChannelsManager.publicMessageChannels).rejectBy(\"id\", this.sourceChannel.id);\n    }\n    get instructionsText() {\n      return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.move_to_channel.instructions\", {\n        channelTitle: this.sourceChannel.escapedTitle,\n        count: this.selectedMessageCount\n      }));\n    }\n    moveMessages() {\n      return this.chatApi.moveChannelMessages(this.sourceChannel.id, {\n        message_ids: this.selectedMessageIds,\n        destination_channel_id: this.destinationChannelId\n      }).then(response1 => {\n        this.args.closeModal();\n        this.router.transitionTo(\"chat.channel.near-message\", \"-\", response1.destination_channel_id, response1.first_moved_message_id);\n      }).catch(_ajaxError.popupAjaxError);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-move-message-to-channel\"\n        @inline={{@inline}}\n        @title={{i18n \"chat.move_to_channel.title\"}}\n      >\n        <:body>\n          {{#if this.selectedMessageCount}}\n            <p>{{this.instructionsText}}</p>\n          {{/if}}\n  \n          <ChatChannelChooser\n            @content={{this.availableChannels}}\n            @value={{this.destinationChannelId}}\n            @nameProperty=\"title\"\n            class=\"chat-modal-move-message-to-channel__channel-chooser\"\n          />\n        </:body>\n        <:footer>\n          <DButton\n            @icon=\"sign-out-alt\"\n            @disabled={{this.disableMoveButton}}\n            @action={{this.moveMessages}}\n            @label=\"chat.move_to_channel.confirm_move\"\n            class=\"btn-primary\"\n          />\n          <DButton @label=\"cancel\" @action={{@closeModal}} class=\"btn-flat\" />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"El4/l4po\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-move-message-to-channel\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\"],[[30,1],[30,2],[28,[32,1],[\\\"chat.move_to_channel.title\\\"],null]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"selectedMessageCount\\\"]],[[[1,\\\"          \\\"],[10,2],[12],[1,[30,0,[\\\"instructionsText\\\"]]],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[8,[32,2],[[24,0,\\\"chat-modal-move-message-to-channel__channel-chooser\\\"]],[[\\\"@content\\\",\\\"@value\\\",\\\"@nameProperty\\\"],[[30,0,[\\\"availableChannels\\\"]],[30,0,[\\\"destinationChannelId\\\"]],\\\"title\\\"]],null],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,0,\\\"btn-primary\\\"]],[[\\\"@icon\\\",\\\"@disabled\\\",\\\"@action\\\",\\\"@label\\\"],[\\\"sign-out-alt\\\",[30,0,[\\\"disableMoveButton\\\"]],[30,0,[\\\"moveMessages\\\"]],\\\"chat.move_to_channel.confirm_move\\\"]],null],[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,0,\\\"btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"cancel\\\",[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/move-message-to-channel.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _chatChannelChooser.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"destinationChannelId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"moveMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"moveMessages\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/new-message\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/components/d-modal\", \"discourse/plugins/chat/discourse/components/chat/message-creator\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _dModal, _messageCreator, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalNewMessage = _exports.default = (_class = (_class2 = class ChatModalNewMessage extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n    }\n    get shouldRender() {\n      return this.siteSettings.enable_public_channels || this.chat.userCanDirectMessage;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <DModal\n          @closeModal={{@closeModal}}\n          class=\"chat-modal-new-message\"\n          @title=\"chat.new_message_modal.title\"\n          @inline={{@inline}}\n          @hideHeader={{true}}\n        >\n          <MessageCreator @onClose={{@closeModal}} @channel={{@model}} />\n        </DModal>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"93ffwj30\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"chat-modal-new-message\\\"]],[[\\\"@closeModal\\\",\\\"@title\\\",\\\"@inline\\\",\\\"@hideHeader\\\"],[[30,1],\\\"chat.new_message_modal.title\\\",[30,2],true]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[32,1],null,[[\\\"@onClose\\\",\\\"@channel\\\"],[[30,1],[30,3]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@model\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/new-message.js\",\n    \"scope\": () => [_dModal.default, _messageCreator.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/thread-settings\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"@ember/template-factory\"], function (_exports, _component, _tracking, _component2, _object, _service, _dButton, _dModal, _ajaxError, _i18n, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalThreadSettings = _exports.default = (_class = (_class2 = class ChatModalThreadSettings extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"editedTitle\", _descriptor2, this);\n      _initializerDefineProperty(this, \"saving\", _descriptor3, this);\n    }\n    get buttonDisabled() {\n      return this.saving;\n    }\n    get thread() {\n      return this.args.model;\n    }\n    saveThread() {\n      this.saving = true;\n      this.chatApi.editThread(this.thread.channel.id, this.thread.id, {\n        title: this.editedTitle\n      }).then(() => {\n        this.thread.title = this.editedTitle;\n        this.args.closeModal();\n      }).catch(_ajaxError.popupAjaxError).finally(() => {\n        this.saving = false;\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-thread-settings\"\n        @inline={{@inline}}\n        @title={{i18n \"chat.thread.settings\"}}\n      >\n        <:body>\n          <label for=\"thread-title\" class=\"thread-title-label\">\n            {{i18n \"chat.thread.title\"}}\n          </label>\n          <Input\n            name=\"thread-title\"\n            class=\"chat-modal-thread-settings__title-input\"\n            @type=\"text\"\n            @value={{this.editedTitle}}\n          />\n        </:body>\n        <:footer>\n          <DButton\n            @disabled={{this.buttonDisabled}}\n            @action={{this.saveThread}}\n            @label=\"save\"\n            class=\"btn-primary\"\n          />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"DemsKV13\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-thread-settings\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\"],[[30,1],[30,2],[28,[32,1],[\\\"chat.thread.settings\\\"],null]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"thread-title\\\"],[14,0,\\\"thread-title-label\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,1],[\\\"chat.thread.title\\\"],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n        \\\"],[8,[32,2],[[24,3,\\\"thread-title\\\"],[24,0,\\\"chat-modal-thread-settings__title-input\\\"]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"editedTitle\\\"]]]],null],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,3],[[24,0,\\\"btn-primary\\\"]],[[\\\"@disabled\\\",\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"buttonDisabled\\\"]],[30,0,[\\\"saveThread\\\"]],\\\"save\\\"]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/thread-settings.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _component2.Input, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"editedTitle\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return this.thread.title || \"\";\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"saving\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"saveThread\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"saveThread\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/modal/toggle-channel-status\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"@ember/template\", \"discourse/components/d-button\", \"discourse/components/d-modal\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _template, _dButton, _dModal, _ajaxError, _i18n, _discourseI18n, _chatChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatModalToggleChannelStatus = _exports.default = (_class = (_class2 = class ChatModalToggleChannelStatus extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n    }\n    get channel() {\n      return this.args.model;\n    }\n    get buttonLabel() {\n      if (this.channel?.isClosed) {\n        return \"chat.channel_settings.open_channel\";\n      } else {\n        return \"chat.channel_settings.close_channel\";\n      }\n    }\n    get instructions() {\n      if (this.channel?.isClosed) {\n        return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.channel_open.instructions\"));\n      } else {\n        return (0, _template.htmlSafe)(_discourseI18n.default.t(\"chat.channel_close.instructions\"));\n      }\n    }\n    get modalTitle() {\n      if (this.channel?.isClosed) {\n        return \"chat.channel_open.title\";\n      } else {\n        return \"chat.channel_close.title\";\n      }\n    }\n    onStatusChange() {\n      const status1 = this.channel.isClosed ? _chatChannel.CHANNEL_STATUSES.open : _chatChannel.CHANNEL_STATUSES.closed;\n      return this.chatApi.updateChannelStatus(this.channel.id, status1).then(() => {\n        this.args.closeModal();\n        this.router.transitionTo(\"chat.channel\", ...this.channel.routeModels);\n      }).catch(_ajaxError.popupAjaxError);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DModal\n        @closeModal={{@closeModal}}\n        class=\"chat-modal-toggle-channel-status\"\n        @inline={{@inline}}\n        @title={{i18n this.modalTitle}}\n      >\n        <:body>\n          <p\n            class=\"chat-modal-toggle-channel-status__instructions\"\n          >{{this.instructions}}</p>\n        </:body>\n        <:footer>\n          <DButton\n            @action={{this.onStatusChange}}\n            @label={{this.buttonLabel}}\n            id=\"chat-channel-toggle-btn\"\n            class=\"btn-primary\"\n          />\n        </:footer>\n      </DModal>\n    \n  */\n  {\n    \"id\": \"Giqdp62A\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"chat-modal-toggle-channel-status\\\"]],[[\\\"@closeModal\\\",\\\"@inline\\\",\\\"@title\\\"],[[30,1],[30,2],[28,[32,1],[[30,0,[\\\"modalTitle\\\"]]],null]]],[[\\\"body\\\",\\\"footer\\\"],[[[[1,\\\"\\\\n        \\\"],[10,2],[14,0,\\\"chat-modal-toggle-channel-status__instructions\\\"],[12],[1,[30,0,[\\\"instructions\\\"]]],[13],[1,\\\"\\\\n      \\\"]],[]],[[[1,\\\"\\\\n        \\\"],[8,[32,2],[[24,1,\\\"chat-channel-toggle-btn\\\"],[24,0,\\\"btn-primary\\\"]],[[\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"onStatusChange\\\"]],[30,0,[\\\"buttonLabel\\\"]]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"@closeModal\\\",\\\"@inline\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/modal/toggle-channel-status.js\",\n    \"scope\": () => [_dModal.default, _i18n.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onStatusChange\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onStatusChange\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/actions\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"discourse/plugins/chat/discourse/components/chat/navbar/close-drawer-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/close-thread-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/close-threads-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/full-page-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/new-channel-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/open-drawer-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/thread-settings-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/thread-tracking-dropdown\", \"discourse/plugins/chat/discourse/components/chat/navbar/threads-list-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/toggle-drawer-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _closeDrawerButton, _closeThreadButton, _closeThreadsButton, _fullPageButton, _newChannelButton, _openDrawerButton, _threadSettingsButton, _threadTrackingDropdown, _threadsListButton, _toggleDrawerButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbarActions extends _component.default {\n    get openDrawerButtonComponent() {\n      return _openDrawerButton.default;\n    }\n    get newChannelButtonComponent() {\n      return _newChannelButton.default;\n    }\n    get threadTrackingDropdownComponent() {\n      return _threadTrackingDropdown.default;\n    }\n    get closeThreadButtonComponent() {\n      return _closeThreadButton.default;\n    }\n    get closeThreadsButtonComponent() {\n      return _closeThreadsButton.default;\n    }\n    get threadSettingsButtonComponent() {\n      return _threadSettingsButton.default;\n    }\n    get threadsListButtonComponent() {\n      return _threadsListButton.default;\n    }\n    get closeDrawerButtonComponent() {\n      return _closeDrawerButton.default;\n    }\n    get toggleDrawerButtonComponent() {\n      return _toggleDrawerButton.default;\n    }\n    get chatNavbarFullPageButtonComponent() {\n      return _fullPageButton.default;\n    }\n  }\n  _exports.default = ChatNavbarActions;\n  _class = ChatNavbarActions;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <nav class=\"c-navbar__actions\">\n        {{yield\n          (hash\n            OpenDrawerButton=this.openDrawerButtonComponent\n            NewChannelButton=this.newChannelButtonComponent\n            ThreadTrackingDropdown=this.threadTrackingDropdownComponent\n            CloseThreadButton=this.closeThreadButtonComponent\n            CloseThreadsButton=this.closeThreadsButtonComponent\n            ThreadSettingsButton=this.threadSettingsButtonComponent\n            ThreadsListButton=this.threadsListButtonComponent\n            CloseDrawerButton=this.closeDrawerButtonComponent\n            ToggleDrawerButton=this.toggleDrawerButtonComponent\n            FullPageButton=this.chatNavbarFullPageButtonComponent\n          )\n        }}\n      </nav>\n    \n  */\n  {\n    \"id\": \"/nIuE8aR\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,\\\"nav\\\"],[14,0,\\\"c-navbar__actions\\\"],[12],[1,\\\"\\\\n      \\\"],[18,1,[[28,[32,0],null,[[\\\"OpenDrawerButton\\\",\\\"NewChannelButton\\\",\\\"ThreadTrackingDropdown\\\",\\\"CloseThreadButton\\\",\\\"CloseThreadsButton\\\",\\\"ThreadSettingsButton\\\",\\\"ThreadsListButton\\\",\\\"CloseDrawerButton\\\",\\\"ToggleDrawerButton\\\",\\\"FullPageButton\\\"],[[30,0,[\\\"openDrawerButtonComponent\\\"]],[30,0,[\\\"newChannelButtonComponent\\\"]],[30,0,[\\\"threadTrackingDropdownComponent\\\"]],[30,0,[\\\"closeThreadButtonComponent\\\"]],[30,0,[\\\"closeThreadsButtonComponent\\\"]],[30,0,[\\\"threadSettingsButtonComponent\\\"]],[30,0,[\\\"threadsListButtonComponent\\\"]],[30,0,[\\\"closeDrawerButtonComponent\\\"]],[30,0,[\\\"toggleDrawerButtonComponent\\\"]],[30,0,[\\\"chatNavbarFullPageButtonComponent\\\"]]]]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"&default\\\"],false,[\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/actions.js\",\n    \"scope\": () => [_helper.hash],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/back-button\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"discourse-common/helpers/d-icon\", \"I18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _dIcon, _I18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbarBackButton extends _component.default {\n    get icon() {\n      return this.args.icon ?? \"chevron-left\";\n    }\n    get title() {\n      return this.args.title ?? _I18n.default.t(\"chat.browse.back\");\n    }\n  }\n  _exports.default = ChatNavbarBackButton;\n  _class = ChatNavbarBackButton;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @routeModels}}\n        <LinkTo\n          @route={{@route}}\n          @models={{@routeModels}}\n          class=\"c-navbar__back-button no-text btn-flat btn\"\n          title={{this.title}}\n        >\n          {{#if (has-block)}}\n            {{yield}}\n          {{else}}\n            {{icon this.icon}}\n          {{/if}}\n        </LinkTo>\n      {{else}}\n        <LinkTo\n          @route=\"chat\"\n          class=\"c-navbar__back-button no-text btn-flat btn\"\n          title={{this.title}}\n        >\n          {{#if (has-block)}}\n            {{yield}}\n          {{else}}\n            {{icon this.icon}}\n          {{/if}}\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"qVK5pZx5\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__back-button no-text btn-flat btn\\\"],[16,\\\"title\\\",[30,0,[\\\"title\\\"]]]],[[\\\"@route\\\",\\\"@models\\\"],[[30,2],[30,1]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[48,[30,3]],[[[1,\\\"          \\\"],[18,3,null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[1,[28,[32,1],[[30,0,[\\\"icon\\\"]]],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__back-button no-text btn-flat btn\\\"],[16,\\\"title\\\",[30,0,[\\\"title\\\"]]]],[[\\\"@route\\\"],[\\\"chat\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[48,[30,3]],[[[1,\\\"          \\\"],[18,3,null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[1,[28,[32,1],[[30,0,[\\\"icon\\\"]]],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"]],[\\\"@routeModels\\\",\\\"@route\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"has-block\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/back-button.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/channel-title\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"discourse/plugins/chat/discourse/components/channel-title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _channelTitle, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbarChannelTitle extends _component.default {}\n  _exports.default = ChatNavbarChannelTitle;\n  _class = ChatNavbarChannelTitle;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @channel}}\n        <LinkTo\n          @route=\"chat.channel.info.members\"\n          @models={{@channel.routeModels}}\n          class=\"c-navbar__channel-title\"\n        >\n          <ChannelTitle @channel={{@channel}} />\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"ZQRhpR+Y\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__channel-title\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.info.members\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[32,1],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/channel-title.js\",\n    \"scope\": () => [_routing.LinkTo, _channelTitle.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/close-drawer-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarCloseDrawerButton = _exports.default = (_class = (_class2 = class ChatNavbarCloseDrawerButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n    }\n    closeDrawer() {\n      this.chatStateManager.didCloseDrawer();\n      this.chat.activeChannel = null;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DButton\n        @icon=\"times\"\n        @action={{this.closeDrawer}}\n        @title=\"chat.close\"\n        class=\"btn-flat no-text c-navbar__close-drawer-button\"\n      />\n    \n  */\n  {\n    \"id\": \"zicjDYDB\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"btn-flat no-text c-navbar__close-drawer-button\\\"]],[[\\\"@icon\\\",\\\"@action\\\",\\\"@title\\\"],[\\\"times\\\",[30,0,[\\\"closeDrawer\\\"]],\\\"chat.close\\\"]],null],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/close-drawer-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"closeDrawer\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"closeDrawer\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/close-thread-button\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/service\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _service, _dIcon, _i18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarCloseThreadButton = _exports.default = (_class = (_class2 = class ChatNavbarCloseThreadButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.site.desktopView}}\n        <LinkTo\n          class=\"c-navbar__close-thread-button btn-flat btn btn-icon no-text\"\n          @route=\"chat.channel\"\n          @models={{@thread.channel.routeModels}}\n          title={{i18n \"chat.thread.close\"}}\n        >\n          {{icon \"times\"}}\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"x2e1SnTB\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__close-thread-button btn-flat btn btn-icon no-text\\\"],[16,\\\"title\\\",[28,[32,1],[\\\"chat.thread.close\\\"],null]]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel\\\",[30,1,[\\\"channel\\\",\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[\\\"times\\\"],null]],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@thread\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/close-thread-button.js\",\n    \"scope\": () => [_routing.LinkTo, _i18n.default, _dIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/close-threads-button\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/service\", \"discourse-common/helpers/d-icon\", \"I18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _service, _dIcon, _I18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarCloseThreadsButton = _exports.default = (_class = (_class2 = class ChatNavbarCloseThreadsButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _defineProperty(this, \"closeButtonTitle\", _I18n.default.t(\"chat.thread.close\"));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.site.desktopView}}\n        <LinkTo\n          class=\"c-navbar__close-threads-button btn-flat btn btn-icon no-text\"\n          @route=\"chat.channel\"\n          @models={{@channel.routeModels}}\n          title={{this.closeButtonTitle}}\n        >\n          {{icon \"times\"}}\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"O5YY7Q/Y\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__close-threads-button btn-flat btn btn-icon no-text\\\"],[16,\\\"title\\\",[30,0,[\\\"closeButtonTitle\\\"]]]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,1],[\\\"times\\\"],null]],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/close-threads-button.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/full-page-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/url\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _runloop, _service, _dButton, _url, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarFullPageButton = _exports.default = (_class = (_class2 = class ChatNavbarFullPageButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n    }\n    async openInFullPage() {\n      this.chatStateManager.storeAppURL();\n      this.chatStateManager.prefersFullPage();\n      this.chat.activeChannel = null;\n      await new Promise(resolve1 => (0, _runloop.next)(resolve1));\n      _url.default.routeTo(this.chatStateManager.lastKnownChatURL);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.chatStateManager.isDrawerExpanded}}\n        <DButton\n          @icon=\"discourse-expand\"\n          class=\"btn-flat no-text c-navbar__full-page-button\"\n          @title=\"chat.open_full_page\"\n          @action={{this.openInFullPage}}\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"hlvBMIWv\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"btn-flat no-text c-navbar__full-page-button\\\"]],[[\\\"@icon\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"discourse-expand\\\",\\\"chat.open_full_page\\\",[30,0,[\\\"openInFullPage\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/full-page-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openInFullPage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openInFullPage\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/index\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/modifier\", \"discourse/helpers/concat-class\", \"discourse/helpers/noop\", \"discourse/plugins/chat/discourse/components/chat/navbar/actions\", \"discourse/plugins/chat/discourse/components/chat/navbar/back-button\", \"discourse/plugins/chat/discourse/components/chat/navbar/channel-title\", \"discourse/plugins/chat/discourse/components/chat/navbar/title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _modifier, _concatClass, _noop, _actions, _backButton, _channelTitle, _title, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbar extends _component.default {\n    get buttonComponent() {\n      return _backButton.default;\n    }\n    get titleComponent() {\n      return _title.default;\n    }\n    get actionsComponent() {\n      return _actions.default;\n    }\n    get channelTitleComponent() {\n      return _channelTitle.default;\n    }\n  }\n  _exports.default = ChatNavbar;\n  _class = ChatNavbar;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{! template-lint-disable no-invalid-interactive }}\n      <div\n        class={{concatClass \"c-navbar-container\" (if @onClick \"-clickable\")}}\n        {{on \"click\" (if @onClick @onClick (noop))}}\n      >\n        <nav class=\"c-navbar\">\n          {{yield\n            (hash\n              BackButton=this.buttonComponent\n              ChannelTitle=this.channelTitleComponent\n              Title=this.titleComponent\n              Actions=this.actionsComponent\n            )\n          }}\n        </nav>\n      </div>\n    \n  */\n  {\n    \"id\": \"rwNYu4xG\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[1,\\\"    \\\"],[11,0],[16,0,[28,[32,0],[\\\"c-navbar-container\\\",[52,[30,1],\\\"-clickable\\\"]],null]],[4,[32,1],[\\\"click\\\",[52,[30,1],[30,1],[28,[32,2],null,null]]],null],[12],[1,\\\"\\\\n      \\\"],[10,\\\"nav\\\"],[14,0,\\\"c-navbar\\\"],[12],[1,\\\"\\\\n        \\\"],[18,2,[[28,[32,3],null,[[\\\"BackButton\\\",\\\"ChannelTitle\\\",\\\"Title\\\",\\\"Actions\\\"],[[30,0,[\\\"buttonComponent\\\"]],[30,0,[\\\"channelTitleComponent\\\"]],[30,0,[\\\"titleComponent\\\"]],[30,0,[\\\"actionsComponent\\\"]]]]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@onClick\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/index.js\",\n    \"scope\": () => [_concatClass.default, _modifier.on, _noop.default, _helper.hash],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/new-channel-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse/plugins/chat/discourse/components/chat/modal/create-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _concatClass, _createChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarNewChannelButton = _exports.default = (_class = (_class2 = class ChatNavbarNewChannelButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor3, this);\n      _initializerDefineProperty(this, \"site\", _descriptor4, this);\n    }\n    createChannel() {\n      this.modal.show(_createChannel.default);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.currentUser.staff}}\n        <DButton\n          @action={{this.createChannel}}\n          @icon=\"plus\"\n          @label={{if this.site.desktopView \"chat.create_channel.title\"}}\n          class={{concatClass\n            \"c-navbar__new-channel-button\"\n            (if this.site.mobileView \"btn-flat\")\n          }}\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"BJYKFxNi\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"currentUser\\\",\\\"staff\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"c-navbar__new-channel-button\\\",[52,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],\\\"btn-flat\\\"]],null]]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@label\\\"],[[30,0,[\\\"createChannel\\\"]],\\\"plus\\\",[52,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],\\\"chat.create_channel.title\\\"]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/new-channel-button.js\",\n    \"scope\": () => [_dButton.default, _concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"createChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"createChannel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/open-drawer-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/url\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _url, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarOpenDrawerButton = _exports.default = (_class = (_class2 = class ChatNavbarOpenDrawerButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n    }\n    async openDrawer() {\n      this.chatStateManager.prefersDrawer();\n      _url.default.routeTo(this.chatStateManager.lastKnownAppURL).then(() => {\n        _url.default.routeTo(this.chatStateManager.lastKnownChatURL);\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.site.desktopView}}\n        <DButton\n          @icon=\"discourse-compress\"\n          @title=\"chat.close_full_page\"\n          class=\"c-navbar__open-drawer-button btn-flat\"\n          @action={{this.openDrawer}}\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"nLyI9zmn\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"desktopView\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-navbar__open-drawer-button btn-flat\\\"]],[[\\\"@icon\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"discourse-compress\\\",\\\"chat.close_full_page\\\",[30,0,[\\\"openDrawer\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/open-drawer-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openDrawer\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openDrawer\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/sub-title\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/chat/navbar/sub-title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _subTitle, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbarSubTitle extends _component.default {\n    get subTitleComponent() {\n      return _subTitle.default;\n    }\n  }\n  _exports.default = ChatNavbarSubTitle;\n  _class = ChatNavbarSubTitle;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-navbar__sub-title\">\n        {{#if (has-block)}}\n          {{yield}}\n        {{else}}\n          {{@title}}\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"5TC5a5Cp\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-navbar__sub-title\\\"],[12],[1,\\\"\\\\n\\\"],[41,[48,[30,2]],[[[1,\\\"        \\\"],[18,2,null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[1,[30,1]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@title\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"has-block\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/sub-title.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/thread-settings-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/plugins/chat/discourse/components/chat/modal/thread-settings\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _threadSettings, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarThreadSettingsButton = _exports.default = (_class = (_class2 = class ChatNavbarThreadSettingsButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor2, this);\n    }\n    get canChangeThreadSettings() {\n      if (!this.args.thread) {\n        return false;\n      }\n      return this.currentUser.staff || this.currentUser.id === this.args.thread.originalMessage.user.id;\n    }\n    openThreadSettings() {\n      this.modal.show(_threadSettings.default, {\n        model: this.args.thread\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.canChangeThreadSettings}}\n        <DButton\n          @action={{this.openThreadSettings}}\n          @icon=\"cog\"\n          @title=\"chat.thread.settings\"\n          class=\"btn-flat c-navbar__thread-settings-button\"\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"Opl4Cf1A\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"canChangeThreadSettings\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"btn-flat c-navbar__thread-settings-button\\\"]],[[\\\"@action\\\",\\\"@icon\\\",\\\"@title\\\"],[[30,0,[\\\"openThreadSettings\\\"]],\\\"cog\\\",\\\"chat.thread.settings\\\"]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/thread-settings-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openThreadSettings\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openThreadSettings\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/thread-tracking-dropdown\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse/lib/notification-levels\", \"discourse/plugins/chat/discourse/components/chat-thread-tracking-dropdown\", \"discourse/plugins/chat/discourse/models/user-chat-thread-membership\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _object, _service, _concatClass, _ajaxError, _notificationLevels, _chatThreadTrackingDropdown, _userChatThreadMembership, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarThreadTrackingDropdown = _exports.default = (_class = (_class2 = class ChatNavbarThreadTrackingDropdown extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"persistedNotificationLevel\", _descriptor2, this);\n    }\n    get threadNotificationLevel() {\n      return this.membership?.notificationLevel || _notificationLevels.NotificationLevels.REGULAR;\n    }\n    get membership() {\n      return this.args.thread.currentUserMembership;\n    }\n    async updateThreadNotificationLevel(newNotificationLevel1) {\n      this.persistedNotificationLevel = false;\n      let currentNotificationLevel1;\n      if (this.membership) {\n        currentNotificationLevel1 = this.membership.notificationLevel;\n        this.membership.notificationLevel = newNotificationLevel1;\n      } else {\n        this.args.thread.currentUserMembership = _userChatThreadMembership.default.create({\n          notification_level: newNotificationLevel1,\n          last_read_message_id: null\n        });\n      }\n      try {\n        const response1 = await this.chatApi.updateCurrentUserThreadNotificationsSettings(this.args.thread.channel.id, this.args.thread.id, {\n          notificationLevel: newNotificationLevel1\n        });\n        this.membership.last_read_message_id = response1.membership.last_read_message_id;\n        this.persistedNotificationLevel = true;\n      } catch (error1) {\n        this.membership.notificationLevel = currentNotificationLevel1;\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <ThreadTrackingDropdown\n        @value={{this.threadNotificationLevel}}\n        @onChange={{this.updateThreadNotificationLevel}}\n        @class={{concatClass\n          \"c-navbar__thread-tracking-dropdown\"\n          (if this.persistedNotificationLevel \"-persisted\")\n        }}\n      />\n    \n  */\n  {\n    \"id\": \"y/h2GPtP\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,[[\\\"@value\\\",\\\"@onChange\\\",\\\"@class\\\"],[[30,0,[\\\"threadNotificationLevel\\\"]],[30,0,[\\\"updateThreadNotificationLevel\\\"]],[28,[32,1],[\\\"c-navbar__thread-tracking-dropdown\\\",[52,[30,0,[\\\"persistedNotificationLevel\\\"]],\\\"-persisted\\\"]],null]]],null],[1,\\\"\\\\n  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/thread-tracking-dropdown.js\",\n    \"scope\": () => [_chatThreadTrackingDropdown.default, _concatClass.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"persistedNotificationLevel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"updateThreadNotificationLevel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateThreadNotificationLevel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/threads-list-button\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/d-icon\", \"I18n\", \"discourse/plugins/chat/discourse/components/chat/thread/header-unread-indicator\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _service, _concatClass, _dIcon, _I18n, _headerUnreadIndicator, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarThreadsListButton = _exports.default = (_class = (_class2 = class ChatNavbarThreadsListButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _defineProperty(this, \"threadsListLabel\", _I18n.default.t(\"chat.threads.list\"));\n    }\n    get showThreadsListButton() {\n      return this.args.channel?.threadingEnabled && this.router.currentRoute.name !== \"chat.channel.threads\" && this.router.currentRoute.name !== \"chat.channel.thread\" && this.router.currentRoute.name !== \"chat.channel.thread.index\";\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showThreadsListButton}}\n        <LinkTo\n          @route=\"chat.channel.threads\"\n          @models={{@channel.routeModels}}\n          title={{this.threadsListLabel}}\n          class={{concatClass\n            \"c-navbar__threads-list-button\"\n            \"btn\"\n            \"no-text\"\n            \"btn-flat\"\n            (if @channel.threadsManager.unreadThreadCount \"has-unreads\")\n          }}\n        >\n          {{icon \"discourse-threads\"}}\n          <ThreadHeaderUnreadIndicator @channel={{@channel}} />\n        </LinkTo>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"HA85r+jQ\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showThreadsListButton\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[16,\\\"title\\\",[30,0,[\\\"threadsListLabel\\\"]]],[16,0,[28,[32,1],[\\\"c-navbar__threads-list-button\\\",\\\"btn\\\",\\\"no-text\\\",\\\"btn-flat\\\",[52,[30,1,[\\\"threadsManager\\\",\\\"unreadThreadCount\\\"]],\\\"has-unreads\\\"]],null]]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.threads\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[\\\"discourse-threads\\\"],null]],[1,\\\"\\\\n        \\\"],[8,[32,3],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/threads-list-button.js\",\n    \"scope\": () => [_routing.LinkTo, _concatClass.default, _dIcon.default, _headerUnreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/title\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"discourse-common/helpers/d-icon\", \"discourse/plugins/chat/discourse/components/chat/navbar/sub-title\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _dIcon, _subTitle, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatNavbarTitle extends _component.default {\n    get subTitleComponent() {\n      return _subTitle.default;\n    }\n  }\n  _exports.default = ChatNavbarTitle;\n  _class = ChatNavbarTitle;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div title={{@title}} class=\"c-navbar__title\">\n        {{#if (has-block)}}\n          {{#if @icon}}\n            {{icon @icon}}\n          {{/if}}\n          {{@title}}\n          {{yield (hash SubTitle=this.subTitleComponent)}}\n        {{else}}\n          {{#if @icon}}\n            {{icon @icon}}\n          {{/if}}\n          {{@title}}\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"x03onRkI\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[15,\\\"title\\\",[30,1]],[14,0,\\\"c-navbar__title\\\"],[12],[1,\\\"\\\\n\\\"],[41,[48,[30,3]],[[[41,[30,2],[[[1,\\\"          \\\"],[1,[28,[32,0],[[30,2]],null]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[1,[30,1]],[1,\\\"\\\\n        \\\"],[18,3,[[28,[32,1],null,[[\\\"SubTitle\\\"],[[30,0,[\\\"subTitleComponent\\\"]]]]]]],[1,\\\"\\\\n\\\"]],[]],[[[41,[30,2],[[[1,\\\"          \\\"],[1,[28,[32,0],[[30,2]],null]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[1,[30,1]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@title\\\",\\\"@icon\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"has-block\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/title.js\",\n    \"scope\": () => [_dIcon.default, _helper.hash],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/navbar/toggle-drawer-button\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/components/d-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _dButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNavbarToggleDrawerButton = _exports.default = (_class = (_class2 = class ChatNavbarToggleDrawerButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <DButton\n        @icon={{if\n          this.chatStateManager.isDrawerExpanded\n          \"angle-double-down\"\n          \"angle-double-up\"\n        }}\n        @action={{this.chat.toggleDrawer}}\n        @title={{if\n          this.chatStateManager.isDrawerExpanded\n          \"chat.collapse\"\n          \"chat.expand\"\n        }}\n        class=\"btn-flat no-text c-navbar__toggle-drawer-button\"\n      />\n    \n  */\n  {\n    \"id\": \"NabQDrml\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"btn-flat no-text c-navbar__toggle-drawer-button\\\"]],[[\\\"@icon\\\",\\\"@action\\\",\\\"@title\\\"],[[52,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],\\\"angle-double-down\\\",\\\"angle-double-up\\\"],[30,0,[\\\"chat\\\",\\\"toggleDrawer\\\"]],[52,[30,0,[\\\"chatStateManager\\\",\\\"isDrawerExpanded\\\"]],\\\"chat.collapse\\\",\\\"chat.expand\\\"]]],null],[1,\\\"\\\\n  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/navbar/toggle-drawer-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/notices/mention_without_membership\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/modifier\", \"@ember/object\", \"@ember/service\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/modifiers/chat/later-fn\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _modifier, _object, _service, _ajaxError, _dIcon, _i18n, _laterFn, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let MentionWithoutMembership = _exports.default = (_dec = (0, _service.inject)(\"chat-api\"), (_class = (_class2 = class MentionWithoutMembership extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"invitationsSent\", _descriptor2, this);\n    }\n    get userIds() {\n      return this.args.notice.data.user_ids;\n    }\n    async sendInvitations(event1) {\n      // preventDefault to avoid a refresh\n      event1.preventDefault();\n      try {\n        await this.chatApi.invite(this.args.channel.id, this.userIds, {\n          messageId: this.args.notice.data.messageId\n        });\n        this.invitationsSent = true;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"mention-without-membership-notice\">\n        {{#if this.invitationsSent}}\n          <span\n            class=\"mention-without-membership-notice__invitation-sent\"\n            {{laterFn @clearNotice 3000}}\n          >\n            {{dIcon \"check\"}}\n            <span>\n              {{i18n\n                \"chat.mention_warning.invitations_sent\"\n                count=this.userIds.length\n              }}\n            </span>\n          </span>\n        {{else}}\n          <p class=\"mention-without-membership-notice__body -without-membership\">\n            <span\n              class=\"mention-without-membership-notice__body__text\"\n            >{{@notice.data.text}}</span>\n            <a\n              class=\"mention-without-membership-notice__body__link\"\n              href\n              {{on \"click\" this.sendInvitations}}\n            >\n              {{i18n \"chat.mention_warning.invite\"}}\n            </a>\n          </p>\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"AEIwRYlh\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"mention-without-membership-notice\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"invitationsSent\\\"]],[[[1,\\\"        \\\"],[11,1],[24,0,\\\"mention-without-membership-notice__invitation-sent\\\"],[4,[32,0],[[30,1],3000],null],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,1],[\\\"check\\\"],null]],[1,\\\"\\\\n          \\\"],[10,1],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,2],[\\\"chat.mention_warning.invitations_sent\\\"],[[\\\"count\\\"],[[30,0,[\\\"userIds\\\",\\\"length\\\"]]]]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[10,2],[14,0,\\\"mention-without-membership-notice__body -without-membership\\\"],[12],[1,\\\"\\\\n          \\\"],[10,1],[14,0,\\\"mention-without-membership-notice__body__text\\\"],[12],[1,[30,2,[\\\"data\\\",\\\"text\\\"]]],[13],[1,\\\"\\\\n          \\\"],[11,3],[24,0,\\\"mention-without-membership-notice__body__link\\\"],[24,6,\\\"\\\"],[4,[32,3],[\\\"click\\\",[30,0,[\\\"sendInvitations\\\"]]],null],[12],[1,\\\"\\\\n            \\\"],[1,[28,[32,2],[\\\"chat.mention_warning.invite\\\"],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@clearNotice\\\",\\\"@notice\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/notices/mention_without_membership.js\",\n    \"scope\": () => [_laterFn.default, _dIcon.default, _i18n.default, _modifier.on],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"invitationsSent\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"sendInvitations\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"sendInvitations\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/browse\", [\"exports\", \"@glimmer/tracking\", \"@ember/component\", \"@ember/helper\", \"@ember/object\", \"@ember/render-modifiers/modifiers/did-insert\", \"@ember/routing\", \"@ember/runloop\", \"@ember/service\", \"discourse/components/d-button\", \"discourse-common/config/environment\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/debounce\", \"discourse/plugins/chat/discourse/components/chat/list\", \"discourse/plugins/chat/discourse/components/chat/modal/new-message\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-channel-card\", \"discourse/plugins/chat/discourse/components/dc-filter-input\", \"@ember/template-factory\"], function (_exports, _tracking, _component, _helper, _object, _didInsert, _routing, _runloop, _service, _dButton, _environment, _i18n, _debounce, _list, _newMessage, _navbar, _chatChannelCard, _dcFilterInput, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const TABS = [\"all\", \"open\", \"closed\", \"archived\"];\n  let ChatRoutesBrowse = _exports.default = (_dec = (0, _object.computed)(\"siteSettings.chat_allow_archiving_channels\"), (_class = (_class2 = class ChatRoutesBrowse extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor2, this);\n      _initializerDefineProperty(this, \"filter\", _descriptor3, this);\n    }\n    get channelsCollection() {\n      return this.chatApi.channels({\n        filter: this.filter,\n        status: this.attrs.status\n      });\n    }\n    get tabs() {\n      if (this.siteSettings.chat_allow_archiving_channels) {\n        return TABS;\n      } else {\n        return [...TABS].removeObject(\"archived\");\n      }\n    }\n    showChatNewMessageModal() {\n      this.modal.show(_newMessage.default);\n    }\n    setFilter(event1) {\n      this.filter = event1.target.value;\n      (0, _debounce.default)(this.debouncedLoad, _environment.INPUT_DELAY);\n    }\n    debouncedLoad() {\n      this.channelsCollection.load({\n        limit: 10\n      });\n    }\n    focusFilterInput(input1) {\n      (0, _runloop.schedule)(\"afterRender\", () => input1?.focus());\n    }\n  }, (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-browse\">\n        <Navbar as |navbar|>\n          <navbar.BackButton />\n          <navbar.Title @title={{i18n \"chat.browse.title\"}} />\n  \n          <navbar.Actions as |action|>\n            <action.NewChannelButton />\n          </navbar.Actions>\n        </Navbar>\n  \n        <div class=\"chat-browse-view\">\n          <div class=\"chat-browse-view__actions\">\n            <nav>\n              <ul class=\"nav-pills chat-browse-view__filters\">\n                {{#each this.tabs as |tab|}}\n                  <li class={{concat \"chat-browse-view__filter -\" tab}}>\n                    <LinkTo\n                      @route={{concat \"chat.browse.\" tab}}\n                      class={{concat \"chat-browse-view__filter-link -\" tab}}\n                    >\n                      {{i18n (concat \"chat.browse.filter_\" tab)}}\n                    </LinkTo>\n                  </li>\n                {{/each}}\n              </ul>\n            </nav>\n  \n            <DcFilterInput\n              {{didInsert this.focusFilterInput}}\n              @filterAction={{this.setFilter}}\n              @icons={{hash right=\"search\"}}\n              @containerClass=\"filter-input\"\n              placeholder={{i18n \"chat.browse.filter_input_placeholder\"}}\n            />\n          </div>\n  \n          <div class=\"chat-browse-view__content_wrapper\">\n            <div class=\"chat-browse-view__content\">\n              <List\n                @collection={{this.channelsCollection}}\n                class=\"chat-browse-view__cards\"\n                as |list|\n              >\n                <list.Item as |channel|>\n                  <ChatChannelCard @channel={{channel}} />\n                </list.Item>\n  \n                <list.EmptyState>\n                  <span class=\"empty-state-title\">\n                    {{i18n \"chat.empty_state.title\"}}\n                  </span>\n                  <div class=\"empty-state-body\">\n                    <p>{{i18n \"chat.empty_state.direct_message\"}}</p>\n                    <DButton\n                      @action={{this.showChatNewMessageModal}}\n                      @label=\"chat.empty_state.direct_message_cta\"\n                    />\n                  </div>\n                </list.EmptyState>\n              </List>\n            </div>\n          </div>\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"SwXrcns3\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-browse\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\"],[[28,[32,1],[\\\"chat.browse.title\\\"],null]]],null],[1,\\\"\\\\n\\\\n        \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"NewChannelButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"]],[2]]]]],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"chat-browse-view\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-browse-view__actions\\\"],[12],[1,\\\"\\\\n          \\\"],[10,\\\"nav\\\"],[12],[1,\\\"\\\\n            \\\"],[10,\\\"ul\\\"],[14,0,\\\"nav-pills chat-browse-view__filters\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[30,0,[\\\"tabs\\\"]]],null]],null],null,[[[1,\\\"                \\\"],[10,\\\"li\\\"],[15,0,[28,[32,2],[\\\"chat-browse-view__filter -\\\",[30,3]],null]],[12],[1,\\\"\\\\n                  \\\"],[8,[32,3],[[16,0,[28,[32,2],[\\\"chat-browse-view__filter-link -\\\",[30,3]],null]]],[[\\\"@route\\\"],[[28,[32,2],[\\\"chat.browse.\\\",[30,3]],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                    \\\"],[1,[28,[32,1],[[28,[32,2],[\\\"chat.browse.filter_\\\",[30,3]],null]],null]],[1,\\\"\\\\n                  \\\"]],[]]]]],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n\\\"]],[3]],null],[1,\\\"            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[8,[32,4],[[16,\\\"placeholder\\\",[28,[32,1],[\\\"chat.browse.filter_input_placeholder\\\"],null]],[4,[32,6],[[30,0,[\\\"focusFilterInput\\\"]]],null]],[[\\\"@filterAction\\\",\\\"@icons\\\",\\\"@containerClass\\\"],[[30,0,[\\\"setFilter\\\"]],[28,[32,5],null,[[\\\"right\\\"],[\\\"search\\\"]]],\\\"filter-input\\\"]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[10,0],[14,0,\\\"chat-browse-view__content_wrapper\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-browse-view__content\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,7],[[24,0,\\\"chat-browse-view__cards\\\"]],[[\\\"@collection\\\"],[[30,0,[\\\"channelsCollection\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[8,[30,4,[\\\"Item\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n                \\\"],[8,[32,8],null,[[\\\"@channel\\\"],[[30,5]]],null],[1,\\\"\\\\n              \\\"]],[5]]]]],[1,\\\"\\\\n\\\\n              \\\"],[8,[30,4,[\\\"EmptyState\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n                \\\"],[10,1],[14,0,\\\"empty-state-title\\\"],[12],[1,\\\"\\\\n                  \\\"],[1,[28,[32,1],[\\\"chat.empty_state.title\\\"],null]],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n                \\\"],[10,0],[14,0,\\\"empty-state-body\\\"],[12],[1,\\\"\\\\n                  \\\"],[10,2],[12],[1,[28,[32,1],[\\\"chat.empty_state.direct_message\\\"],null]],[13],[1,\\\"\\\\n                  \\\"],[8,[32,9],null,[[\\\"@action\\\",\\\"@label\\\"],[[30,0,[\\\"showChatNewMessageModal\\\"]],\\\"chat.empty_state.direct_message_cta\\\"]],null],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n              \\\"]],[]]]]],[1,\\\"\\\\n            \\\"]],[4]]]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"action\\\",\\\"tab\\\",\\\"list\\\",\\\"channel\\\"],false,[\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/browse.js\",\n    \"scope\": () => [_navbar.default, _i18n.default, _helper.concat, _routing.LinkTo, _dcFilterInput.default, _helper.hash, _didInsert.default, _list.default, _chatChannelCard.default, _dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"filter\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"channelsCollection\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"channelsCollection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"tabs\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"tabs\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showChatNewMessageModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"showChatNewMessageModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"setFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"debouncedLoad\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"debouncedLoad\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"focusFilterInput\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"focusFilterInput\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel-info-members\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/routing\", \"@ember/service\", \"ember-modifier\", \"discourse/lib/is-element-in-viewport\", \"discourse/lib/url\", \"discourse/modifiers/auto-focus\", \"discourse-common/config/environment\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse-common/lib/debounce\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/message-creator\", \"discourse/plugins/chat/discourse/components/chat/message-creator/constants\", \"discourse/plugins/chat/discourse/components/chat-user-info\", \"discourse/plugins/chat/discourse/components/dc-filter-input\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _modifier, _object, _routing, _service, _emberModifier, _isElementInViewport, _url, _autoFocus, _environment, _dIcon, _i18n, _debounce, _discourseI18n, _messageCreator, _constants, _chatUserInfo, _dcFilterInput, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRouteChannelInfoMembers = _exports.default = (_class = (_class2 = class ChatRouteChannelInfoMembers extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor3, this);\n      _initializerDefineProperty(this, \"loadingSlider\", _descriptor4, this);\n      _initializerDefineProperty(this, \"site\", _descriptor5, this);\n      _initializerDefineProperty(this, \"filter\", _descriptor6, this);\n      _initializerDefineProperty(this, \"showAddMembers\", _descriptor7, this);\n      _defineProperty(this, \"addMemberLabel\", _discourseI18n.default.t(\"chat.members_view.add_member\"));\n      _defineProperty(this, \"filterPlaceholder\", _discourseI18n.default.t(\"chat.members_view.filter_placeholder\"));\n      _defineProperty(this, \"noMembershipsFoundLabel\", _discourseI18n.default.t(\"chat.channel.no_memberships_found\"));\n      _defineProperty(this, \"noMembershipsLabel\", _discourseI18n.default.t(\"chat.channel.no_memberships\"));\n      _defineProperty(this, \"onEnter\", (0, _emberModifier.modifier)((element1, [callback1]) => {\n        const handler1 = event1 => {\n          if (event1.key !== \"Enter\") {\n            return;\n          }\n          callback1(event1);\n        };\n        element1.addEventListener(\"keydown\", handler1);\n        return () => {\n          element1.removeEventListener(\"keydown\", handler1);\n        };\n      }));\n      _defineProperty(this, \"fill\", (0, _emberModifier.modifier)(element1 => {\n        this.resizeObserver = new ResizeObserver(() => {\n          if ((0, _isElementInViewport.default)(element1)) {\n            this.load();\n          }\n        });\n        this.resizeObserver.observe(element1);\n        return () => {\n          this.resizeObserver.disconnect();\n        };\n      }));\n      _defineProperty(this, \"loadMore\", (0, _emberModifier.modifier)(element1 => {\n        this.intersectionObserver = new IntersectionObserver(this.load);\n        this.intersectionObserver.observe(element1);\n        return () => {\n          this.intersectionObserver.disconnect();\n        };\n      }));\n    }\n    get noResults() {\n      return this.members.fetchedOnce && !this.members.loading;\n    }\n    get members() {\n      const params1 = {};\n      if (this.filter?.length) {\n        params1.username = this.filter;\n      }\n      return this.chatApi.listChannelMemberships(this.args.channel.id, params1);\n    }\n    load() {\n      (0, _debounce.default)(this, this.debouncedLoad, _environment.INPUT_DELAY);\n    }\n    mutFilter(event1) {\n      this.filter = event1.target.value;\n      this.load();\n    }\n    addMember() {\n      this.showAddMembers = true;\n    }\n    hideAddMember() {\n      this.showAddMembers = false;\n    }\n    openMemberCard(user1, event1) {\n      event1.preventDefault();\n      _url.default.routeTo((0, _url.userPath)(user1.username_lower));\n    }\n    async debouncedLoad() {\n      this.loadingSlider.transitionStarted();\n      await this.members.load({\n        limit: 20\n      });\n      this.loadingSlider.transitionEnded();\n    }\n    get addMembersMode() {\n      return _constants.MODES.add_members;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.site.mobileView}}\n        <LinkTo\n          class=\"c-back-button\"\n          @route=\"chat.channel.info.settings\"\n          @model={{@channel}}\n        >\n          {{icon \"chevron-left\"}}\n          {{i18n \"chat.members_view.back_to_settings\"}}\n        </LinkTo>\n      {{/if}}\n      {{#if this.showAddMembers}}\n        <MessageCreator\n          @mode={{this.addMembersMode}}\n          @channel={{@channel}}\n          @onClose={{this.hideAddMember}}\n          @onCancel={{this.hideAddMember}}\n        />\n      {{else}}\n        <div class=\"c-channel-members\">\n          <DcFilterInput\n            {{autoFocus}}\n            @filterAction={{this.mutFilter}}\n            @icons={{hash right=\"search\"}}\n            @containerClass=\"c-channel-members__filter\"\n            placeholder={{this.filterPlaceholder}}\n          />\n  \n          <ul class=\"c-channel-members__list\" {{this.fill}}>\n            {{#if @channel.chatable.group}}\n              <li\n                class=\"c-channel-members__list-item -add-member\"\n                role=\"button\"\n                {{on \"click\" this.addMember}}\n                {{this.onEnter this.addMember}}\n                tabindex=\"0\"\n              >\n                {{icon \"plus\"}}\n                <span>{{this.addMemberLabel}}</span>\n              </li>\n            {{/if}}\n            {{#each this.members as |membership|}}\n              <li\n                class=\"c-channel-members__list-item -member\"\n                {{on \"click\" (fn this.openMemberCard membership.user)}}\n                {{this.onEnter (fn this.openMemberCard membership.user)}}\n                tabindex=\"0\"\n              >\n                <ChatUserInfo\n                  @user={{membership.user}}\n                  @avatarSize=\"tiny\"\n                  @interactive={{false}}\n                />\n              </li>\n            {{else}}\n              {{#if this.noResults}}\n                <li\n                  class=\"c-channel-members__list-item -no-results alert alert-info\"\n                >\n                  {{this.noMembershipsFoundLabel}}\n                </li>\n              {{/if}}\n            {{/each}}\n          </ul>\n  \n          <div {{this.loadMore}}>\n            <br />\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"qmJ/TaGh\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"c-back-button\\\"]],[[\\\"@route\\\",\\\"@model\\\"],[\\\"chat.channel.info.settings\\\",[30,1]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,1],[\\\"chevron-left\\\"],null]],[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[\\\"chat.members_view.back_to_settings\\\"],null]],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[41,[30,0,[\\\"showAddMembers\\\"]],[[[1,\\\"      \\\"],[8,[32,3],null,[[\\\"@mode\\\",\\\"@channel\\\",\\\"@onClose\\\",\\\"@onCancel\\\"],[[30,0,[\\\"addMembersMode\\\"]],[30,1],[30,0,[\\\"hideAddMember\\\"]],[30,0,[\\\"hideAddMember\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"c-channel-members\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,4],[[16,\\\"placeholder\\\",[30,0,[\\\"filterPlaceholder\\\"]]],[4,[32,6],null,null]],[[\\\"@filterAction\\\",\\\"@icons\\\",\\\"@containerClass\\\"],[[30,0,[\\\"mutFilter\\\"]],[28,[32,5],null,[[\\\"right\\\"],[\\\"search\\\"]]],\\\"c-channel-members__filter\\\"]],null],[1,\\\"\\\\n\\\\n        \\\"],[11,\\\"ul\\\"],[24,0,\\\"c-channel-members__list\\\"],[4,[30,0,[\\\"fill\\\"]],null,null],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"chatable\\\",\\\"group\\\"]],[[[1,\\\"            \\\"],[11,\\\"li\\\"],[24,0,\\\"c-channel-members__list-item -add-member\\\"],[24,\\\"role\\\",\\\"button\\\"],[24,\\\"tabindex\\\",\\\"0\\\"],[4,[32,7],[\\\"click\\\",[30,0,[\\\"addMember\\\"]]],null],[4,[30,0,[\\\"onEnter\\\"]],[[30,0,[\\\"addMember\\\"]]],null],[12],[1,\\\"\\\\n              \\\"],[1,[28,[32,1],[\\\"plus\\\"],null]],[1,\\\"\\\\n              \\\"],[10,1],[12],[1,[30,0,[\\\"addMemberLabel\\\"]]],[13],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[42,[28,[31,2],[[28,[31,2],[[30,0,[\\\"members\\\"]]],null]],null],null,[[[1,\\\"            \\\"],[11,\\\"li\\\"],[24,0,\\\"c-channel-members__list-item -member\\\"],[24,\\\"tabindex\\\",\\\"0\\\"],[4,[32,7],[\\\"click\\\",[28,[32,8],[[30,0,[\\\"openMemberCard\\\"]],[30,2,[\\\"user\\\"]]],null]],null],[4,[30,0,[\\\"onEnter\\\"]],[[28,[32,8],[[30,0,[\\\"openMemberCard\\\"]],[30,2,[\\\"user\\\"]]],null]],null],[12],[1,\\\"\\\\n              \\\"],[8,[32,9],null,[[\\\"@user\\\",\\\"@avatarSize\\\",\\\"@interactive\\\"],[[30,2,[\\\"user\\\"]],\\\"tiny\\\",false]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[2]],[[[41,[30,0,[\\\"noResults\\\"]],[[[1,\\\"              \\\"],[10,\\\"li\\\"],[14,0,\\\"c-channel-members__list-item -no-results alert alert-info\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[30,0,[\\\"noMembershipsFoundLabel\\\"]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null]],[]]],[1,\\\"        \\\"],[13],[1,\\\"\\\\n\\\\n        \\\"],[11,0],[4,[30,0,[\\\"loadMore\\\"]],null,null],[12],[1,\\\"\\\\n          \\\"],[10,\\\"br\\\"],[12],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"]],[\\\"@channel\\\",\\\"membership\\\"],false,[\\\"if\\\",\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel-info-members.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default, _i18n.default, _messageCreator.default, _dcFilterInput.default, _helper.hash, _autoFocus.default, _modifier.on, _helper.fn, _chatUserInfo.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"loadingSlider\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"filter\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return \"\";\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"showAddMembers\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"members\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"members\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"load\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"load\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"mutFilter\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"mutFilter\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addMember\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"addMember\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"hideAddMember\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"hideAddMember\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openMemberCard\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openMemberCard\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel-info-settings\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/routing\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/components/d-toggle-switch\", \"discourse/helpers/category-badge\", \"discourse/helpers/replace-emoji\", \"discourse/lib/ajax-error\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"select-kit/components/combo-box\", \"discourse/plugins/chat/discourse/components/chat/form\", \"discourse/plugins/chat/discourse/components/chat/modal/archive-channel\", \"discourse/plugins/chat/discourse/components/chat/modal/delete-channel\", \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-description\", \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name\", \"discourse/plugins/chat/discourse/components/chat/modal/toggle-channel-status\", \"discourse/plugins/chat/discourse/components/chat-retention-reminder-text\", \"discourse/plugins/chat/discourse/components/toggle-channel-membership-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _modifier, _object, _routing, _service, _dButton, _dToggleSwitch, _categoryBadge, _replaceEmoji, _ajaxError, _dIcon, _i18n, _discourseI18n, _comboBox, _form, _archiveChannel, _deleteChannel, _editChannelDescription, _editChannelName, _toggleChannelStatus, _chatRetentionReminderText, _toggleChannelMembershipButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const NOTIFICATION_LEVELS = [{\n    name: _discourseI18n.default.t(\"chat.notification_levels.never\"),\n    value: \"never\"\n  }, {\n    name: _discourseI18n.default.t(\"chat.notification_levels.mention\"),\n    value: \"mention\"\n  }, {\n    name: _discourseI18n.default.t(\"chat.notification_levels.always\"),\n    value: \"always\"\n  }];\n  let ChatRouteChannelInfoSettings = _exports.default = (_class = (_class2 = class ChatRouteChannelInfoSettings extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatGuardian\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor5, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor6, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor7, this);\n      _initializerDefineProperty(this, \"site\", _descriptor8, this);\n      _initializerDefineProperty(this, \"toasts\", _descriptor9, this);\n      _initializerDefineProperty(this, \"router\", _descriptor10, this);\n      _defineProperty(this, \"notificationLevels\", NOTIFICATION_LEVELS);\n      _defineProperty(this, \"settingsSectionTitle\", _discourseI18n.default.t(\"chat.settings.settings_title\"));\n      _defineProperty(this, \"channelInfoSectionTitle\", _discourseI18n.default.t(\"chat.settings.info_title\"));\n      _defineProperty(this, \"categoryLabel\", _discourseI18n.default.t(\"chat.settings.category_label\"));\n      _defineProperty(this, \"historyLabel\", _discourseI18n.default.t(\"chat.settings.history_label\"));\n      _defineProperty(this, \"adminSectionTitle\", _discourseI18n.default.t(\"chat.settings.admin_title\"));\n      _defineProperty(this, \"membersLabel\", _discourseI18n.default.t(\"chat.channel_info.tabs.members\"));\n      _defineProperty(this, \"descriptionSectionTitle\", _discourseI18n.default.t(\"chat.about_view.description\"));\n      _defineProperty(this, \"titleSectionTitle\", _discourseI18n.default.t(\"chat.about_view.title\"));\n      _defineProperty(this, \"descriptionPlaceholder\", _discourseI18n.default.t(\"chat.channel_edit_description_modal.description\"));\n      _defineProperty(this, \"toggleThreadingLabel\", _discourseI18n.default.t(\"chat.settings.channel_threading_label\"));\n      _defineProperty(this, \"toggleThreadingDescription\", _discourseI18n.default.t(\"chat.settings.channel_threading_description\"));\n      _defineProperty(this, \"muteSectionLabel\", _discourseI18n.default.t(\"chat.settings.mute\"));\n      _defineProperty(this, \"channelWideMentionsLabel\", _discourseI18n.default.t(\"chat.settings.channel_wide_mentions_label\"));\n      _defineProperty(this, \"autoJoinLabel\", _discourseI18n.default.t(\"chat.settings.auto_join_users_label\"));\n      _defineProperty(this, \"desktopNotificationsLevelLabel\", _discourseI18n.default.t(\"chat.settings.desktop_notification_level\"));\n      _defineProperty(this, \"mobileNotificationsLevelLabel\", _discourseI18n.default.t(\"chat.settings.mobile_notification_level\"));\n    }\n    get canEditChannel() {\n      if (this.args.channel.isCategoryChannel && this.chatGuardian.canEditChatChannel()) {\n        return true;\n      }\n      if (this.args.channel.isDirectMessageChannel && this.args.channel.chatable.group) {\n        return true;\n      }\n      return false;\n    }\n    get shouldRenderDescriptionSection() {\n      return this.args.channel.isCategoryChannel;\n    }\n    get shouldRenderStatusSection() {\n      return this.args.channel.isCategoryChannel;\n    }\n    get shouldRenderArchiveRow() {\n      return this.chatGuardian.canArchiveChannel(this.args.channel);\n    }\n    get toggleChannelWideMentionsAvailable() {\n      return this.args.channel.isCategoryChannel && this.args.channel.isOpen;\n    }\n    get toggleThreadingAvailable() {\n      return this.args.channel.isCategoryChannel && this.args.channel.isOpen;\n    }\n    get channelWideMentionsDescription() {\n      return _discourseI18n.default.t(\"chat.settings.channel_wide_mentions_description\", {\n        channel: this.args.channel.title\n      });\n    }\n    get isChannelMuted() {\n      return this.args.channel.currentUserMembership.muted;\n    }\n    get shouldRenderChannelWideMentionsAvailable() {\n      return this.args.channel.isCategoryChannel;\n    }\n    get shouldRenderDesktopNotificationsLevelSection() {\n      return !this.isChannelMuted;\n    }\n    get shouldRenderMobileNotificationsLevelSection() {\n      return !this.isChannelMuted;\n    }\n    get autoJoinAvailable() {\n      return this.siteSettings.max_chat_auto_joined_users > 0 && this.args.channel.isCategoryChannel && this.args.channel.isOpen;\n    }\n    get shouldRenderAdminSection() {\n      return this.canEditChannel && (this.toggleChannelWideMentionsAvailable || this.args.channel.isCategoryChannel);\n    }\n    async onToggleChannelWideMentions() {\n      const newValue1 = !this.args.channel.allowChannelWideMentions;\n      if (this.args.channel.allowChannelWideMentions === newValue1) {\n        return;\n      }\n      try {\n        this.args.channel.allowChannelWideMentions = newValue1;\n        const result1 = await this._updateChannelProperty(this.args.channel, \"allow_channel_wide_mentions\", newValue1);\n        this.args.channel.allowChannelWideMentions = result1.channel.allow_channel_wide_mentions;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n    async onToggleAutoJoinUsers() {\n      if (this.args.channel.autoJoinUsers) {\n        return await this.onDisableAutoJoinUsers();\n      }\n      return await this.onEnableAutoJoinUsers();\n    }\n    async onDisableAutoJoinUsers() {\n      if (this.args.channel.autoJoinUsers === false) {\n        return;\n      }\n      try {\n        this.args.channel.autoJoinUsers = false;\n        const result1 = await this._updateChannelProperty(this.args.channel, \"auto_join_users\", false);\n        this.args.channel.autoJoinUsers = result1.channel.auto_join_users;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n    onEnableAutoJoinUsers() {\n      if (this.args.channel.autoJoinUsers === true) {\n        return;\n      }\n      return this.dialog.confirm({\n        message: _discourseI18n.default.t(\"chat.settings.auto_join_users_warning\", {\n          category: this.args.channel.chatable.name\n        }),\n        didConfirm: async () => {\n          try {\n            const result1 = await this._updateChannelProperty(this.args.channel, \"auto_join_users\", true);\n            this.args.channel.autoJoinUsers = result1.channel.auto_join_users;\n          } catch (error1) {\n            (0, _ajaxError.popupAjaxError)(error1);\n          }\n        }\n      });\n    }\n    onToggleMuted() {\n      const newValue1 = !this.args.channel.currentUserMembership.muted;\n      this.saveNotificationSettings(\"muted\", \"muted\", newValue1);\n    }\n    async saveNotificationSettings(frontendKey1, backendKey1, newValue1) {\n      if (this.args.channel.currentUserMembership[frontendKey1] === newValue1) {\n        return;\n      }\n      this.args.channel.currentUserMembership[frontendKey1] = newValue1;\n      const settings1 = {};\n      settings1[backendKey1] = newValue1;\n      try {\n        const result1 = await this.chatApi.updateCurrentUserChannelNotificationsSettings(this.args.channel.id, settings1);\n        this.args.channel.currentUserMembership[frontendKey1] = result1.membership[backendKey1];\n        this.toasts.success({\n          data: {\n            message: _discourseI18n.default.t(\"saved\")\n          }\n        });\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n    async _updateChannelProperty(channel1, property1, value1) {\n      try {\n        const result1 = await this.chatApi.updateChannel(channel1.id, {\n          [property1]: value1\n        });\n        this.toasts.success({\n          data: {\n            message: _discourseI18n.default.t(\"saved\")\n          }\n        });\n        return result1;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n    async onToggleThreadingEnabled(value1) {\n      try {\n        this.args.channel.threadingEnabled = !value1;\n        const result1 = await this._updateChannelProperty(this.args.channel, \"threading_enabled\", !value1);\n        this.args.channel.threadingEnabled = result1.channel.threading_enabled;\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n    onToggleChannelState() {\n      return this.modal.show(_toggleChannelStatus.default, {\n        model: this.args.channel\n      });\n    }\n    onArchiveChannel() {\n      return this.modal.show(_archiveChannel.default, {\n        model: {\n          channel: this.args.channel\n        }\n      });\n    }\n    onDeleteChannel() {\n      return this.modal.show(_deleteChannel.default, {\n        model: {\n          channel: this.args.channel\n        }\n      });\n    }\n    onEditChannelTitle() {\n      return this.modal.show(_editChannelName.default, {\n        model: this.args.channel\n      });\n    }\n    onLeaveChannel(channel1) {\n      this.chatChannelsManager.remove(channel1);\n      return this.router.transitionTo(\"chat\");\n    }\n    onEditChannelDescription() {\n      return this.modal.show(_editChannelDescription.default, {\n        model: this.args.channel\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-channel-settings\">\n        <ChatForm as |form|>\n          <form.section @title={{this.titleSectionTitle}} as |section|>\n            <section.row>\n              <:default>\n                <div class=\"c-channel-settings__name\">\n                  {{replaceEmoji @channel.title}}\n                </div>\n  \n                {{#if @channel.isCategoryChannel}}\n                  <div class=\"c-channel-settings__slug\">\n                    <LinkTo\n                      @route=\"chat.channel\"\n                      @models={{@channel.routeModels}}\n                    >\n                      /chat/c/{{@channel.slug}}/{{@channel.id}}\n                    </LinkTo>\n                  </div>\n                {{/if}}\n              </:default>\n  \n              <:action>\n                {{#if this.canEditChannel}}\n                  <DButton\n                    @label=\"chat.channel_settings.edit\"\n                    @action={{this.onEditChannelTitle}}\n                    class=\"edit-name-slug-btn btn-flat\"\n                  />\n                {{/if}}\n              </:action>\n  \n            </section.row>\n          </form.section>\n  \n          {{#if this.shouldRenderDescriptionSection}}\n            <form.section @title={{this.descriptionSectionTitle}} as |section|>\n              <section.row>\n                <:default>\n                  {{#if @channel.description.length}}\n                    {{@channel.description}}\n                  {{else}}\n                    {{this.descriptionPlaceholder}}\n                  {{/if}}\n                </:default>\n  \n                <:action>\n                  {{#if this.canEditChannel}}\n                    <DButton\n                      @label={{if\n                        @channel.description.length\n                        \"chat.channel_settings.edit\"\n                        \"chat.channel_settings.add\"\n                      }}\n                      @action={{this.onEditChannelDescription}}\n                      class=\"edit-description-btn btn-flat\"\n                    />\n                  {{/if}}\n                </:action>\n              </section.row>\n            </form.section>\n          {{/if}}\n  \n          {{#if this.site.mobileView}}\n            <form.section as |section|>\n              <section.row\n                @label={{this.membersLabel}}\n                @route=\"chat.channel.info.members\"\n                @routeModels={{@channel.routeModels}}\n              />\n            </form.section>\n          {{/if}}\n  \n          {{#if @channel.isOpen}}\n            <form.section @title={{this.settingsSectionTitle}} as |section|>\n              <section.row @label={{this.muteSectionLabel}}>\n                <:action>\n                  <DToggleSwitch\n                    @state={{@channel.currentUserMembership.muted}}\n                    class=\"c-channel-settings__mute-switch\"\n                    {{on \"click\" this.onToggleMuted}}\n                  />\n                </:action>\n              </section.row>\n  \n              {{#if this.shouldRenderDesktopNotificationsLevelSection}}\n                <section.row @label={{this.desktopNotificationsLevelLabel}}>\n                  <:action>\n                    <ComboBox\n                      @content={{this.notificationLevels}}\n                      @value={{@channel.currentUserMembership.desktopNotificationLevel}}\n                      @valueProperty=\"value\"\n                      @onChange={{fn\n                        this.saveNotificationSettings\n                        \"desktopNotificationLevel\"\n                        \"desktop_notification_level\"\n                      }}\n                      class=\"c-channel-settings__selector c-channel-settings__desktop-notifications-selector\"\n                    />\n                  </:action>\n                </section.row>\n              {{/if}}\n  \n              {{#if this.shouldRenderMobileNotificationsLevelSection}}\n                <section.row @label={{this.mobileNotificationsLevelLabel}}>\n                  <:action>\n                    <ComboBox\n                      @content={{this.notificationLevels}}\n                      @value={{@channel.currentUserMembership.mobileNotificationLevel}}\n                      @valueProperty=\"value\"\n                      @onChange={{fn\n                        this.saveNotificationSettings\n                        \"mobileNotificationLevel\"\n                        \"mobile_notification_level\"\n                      }}\n                      class=\"c-channel-settings__selector c-channel-settings__mobile-notifications-selector\"\n                    />\n                  </:action>\n                </section.row>\n              {{/if}}\n            </form.section>\n          {{/if}}\n  \n          <form.section @title={{this.channelInfoSectionTitle}} as |section|>\n            {{#if @channel.isCategoryChannel}}\n              <section.row @label={{this.categoryLabel}}>\n                {{categoryBadge\n                  @channel.chatable\n                  link=true\n                  allowUncategorized=true\n                }}\n              </section.row>\n            {{/if}}\n  \n            <section.row @label={{this.historyLabel}}>\n              <ChatRetentionReminderText @channel={{@channel}} @type=\"short\" />\n            </section.row>\n          </form.section>\n  \n          {{#if this.shouldRenderAdminSection}}\n            <form.section\n              @title={{this.adminSectionTitle}}\n              data-section=\"admin\"\n              as |section|\n            >\n              {{#if this.autoJoinAvailable}}\n                <section.row @label={{this.autoJoinLabel}}>\n                  <:action>\n                    <DToggleSwitch\n                      @state={{@channel.autoJoinUsers}}\n                      class=\"c-channel-settings__auto-join-switch\"\n                      {{on\n                        \"click\"\n                        (fn this.onToggleAutoJoinUsers @channel.autoJoinUsers)\n                      }}\n                    />\n                  </:action>\n                </section.row>\n              {{/if}}\n  \n              {{#if this.toggleChannelWideMentionsAvailable}}\n                <section.row @label={{this.channelWideMentionsLabel}}>\n                  <:action>\n                    <DToggleSwitch\n                      class=\"c-channel-settings__channel-wide-mentions\"\n                      @state={{@channel.allowChannelWideMentions}}\n                      {{on\n                        \"click\"\n                        (fn\n                          this.onToggleChannelWideMentions\n                          @channel.allowChannelWideMentions\n                        )\n                      }}\n                    />\n                  </:action>\n  \n                  <:description>\n                    {{this.channelWideMentionsDescription}}\n                  </:description>\n                </section.row>\n              {{/if}}\n  \n              {{#if this.toggleThreadingAvailable}}\n                <section.row @label={{this.toggleThreadingLabel}}>\n                  <:action>\n                    <DToggleSwitch\n                      @state={{@channel.threadingEnabled}}\n                      class=\"c-channel-settings__threading-switch\"\n                      {{on\n                        \"click\"\n                        (fn\n                          this.onToggleThreadingEnabled @channel.threadingEnabled\n                        )\n                      }}\n                    />\n                  </:action>\n  \n                  <:description>\n                    {{this.toggleThreadingDescription}}\n                  </:description>\n                </section.row>\n              {{/if}}\n  \n              {{#if this.shouldRenderStatusSection}}\n                {{#if this.shouldRenderArchiveRow}}\n                  <section.row>\n                    <:action>\n                      <DButton\n                        @action={{this.onArchiveChannel}}\n                        @label=\"chat.channel_settings.archive_channel\"\n                        @icon=\"archive\"\n                        class=\"archive-btn chat-form__btn btn-flat\"\n                      />\n                    </:action>\n                  </section.row>\n                {{/if}}\n  \n                <section.row>\n                  <:action>\n                    {{#if @channel.isOpen}}\n                      <DButton\n                        @action={{this.onToggleChannelState}}\n                        @label=\"chat.channel_settings.close_channel\"\n                        @icon=\"lock\"\n                        class=\"close-btn chat-form__btn btn-flat\"\n                      />\n                    {{else}}\n                      <DButton\n                        @action={{this.onToggleChannelState}}\n                        @label=\"chat.channel_settings.open_channel\"\n                        @icon=\"unlock\"\n                        class=\"open-btn chat-form__btn btn-flat\"\n                      />\n                    {{/if}}\n                  </:action>\n                </section.row>\n  \n                <section.row>\n                  <:action>\n                    <DButton\n                      @action={{this.onDeleteChannel}}\n                      @label=\"chat.channel_settings.delete_channel\"\n                      @icon=\"trash-alt\"\n                      class=\"delete-btn chat-form__btn btn-flat\"\n                    />\n                  </:action>\n                </section.row>\n              {{/if}}\n  \n            </form.section>\n          {{/if}}\n  \n          <form.section as |section|>\n            <section.row>\n              <:action>\n                <ToggleChannelMembershipButton\n                  @channel={{@channel}}\n                  @onLeave={{this.onLeaveChannel}}\n                  @options={{hash\n                    joinClass=\"btn-primary\"\n                    leaveClass=\"btn-danger\"\n                    joinIcon=\"sign-in-alt\"\n                    leaveIcon=\"sign-out-alt\"\n                  }}\n                />\n              </:action>\n            </section.row>\n            {{#if @channel.chatable.group}}\n              <div class=\"c-channel-settings__leave-info\">\n                {{icon \"exclamation-triangle\"}}\n                {{i18n \"chat.channel_settings.leave_groupchat_info\"}}\n              </div>\n            {{/if}}\n          </form.section>\n        </ChatForm>\n      </div>\n    \n  */\n  {\n    \"id\": \"CJg1ImHg\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-channel-settings\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"section\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"titleSectionTitle\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"row\\\"]],null,null,[[\\\"default\\\",\\\"action\\\"],[[[[1,\\\"\\\\n              \\\"],[10,0],[14,0,\\\"c-channel-settings__name\\\"],[12],[1,\\\"\\\\n                \\\"],[1,[28,[32,1],[[30,3,[\\\"title\\\"]]],null]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,3,[\\\"isCategoryChannel\\\"]],[[[1,\\\"                \\\"],[10,0],[14,0,\\\"c-channel-settings__slug\\\"],[12],[1,\\\"\\\\n                  \\\"],[8,[32,2],null,[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel\\\",[30,3,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                    /chat/c/\\\"],[1,[30,3,[\\\"slug\\\"]]],[1,\\\"/\\\"],[1,[30,3,[\\\"id\\\"]]],[1,\\\"\\\\n                  \\\"]],[]]]]],[1,\\\"\\\\n                \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"]],[]],[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"canEditChannel\\\"]],[[[1,\\\"                \\\"],[8,[32,3],[[24,0,\\\"edit-name-slug-btn btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"chat.channel_settings.edit\\\",[30,0,[\\\"onEditChannelTitle\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"]],[]]]]],[1,\\\"\\\\n        \\\"]],[2]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"shouldRenderDescriptionSection\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"section\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"descriptionSectionTitle\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[8,[30,4,[\\\"row\\\"]],null,null,[[\\\"default\\\",\\\"action\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"description\\\",\\\"length\\\"]],[[[1,\\\"                  \\\"],[1,[30,3,[\\\"description\\\"]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                  \\\"],[1,[30,0,[\\\"descriptionPlaceholder\\\"]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"              \\\"]],[]],[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"canEditChannel\\\"]],[[[1,\\\"                  \\\"],[8,[32,3],[[24,0,\\\"edit-description-btn btn-flat\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[[52,[30,3,[\\\"description\\\",\\\"length\\\"]],\\\"chat.channel_settings.edit\\\",\\\"chat.channel_settings.add\\\"],[30,0,[\\\"onEditChannelDescription\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"              \\\"]],[]]]]],[1,\\\"\\\\n          \\\"]],[4]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"section\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[8,[30,5,[\\\"row\\\"]],null,[[\\\"@label\\\",\\\"@route\\\",\\\"@routeModels\\\"],[[30,0,[\\\"membersLabel\\\"]],\\\"chat.channel.info.members\\\",[30,3,[\\\"routeModels\\\"]]]],null],[1,\\\"\\\\n          \\\"]],[5]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"isOpen\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"section\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"settingsSectionTitle\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[8,[30,6,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"muteSectionLabel\\\"]]]],[[\\\"action\\\"],[[[[1,\\\"\\\\n                \\\"],[8,[32,4],[[24,0,\\\"c-channel-settings__mute-switch\\\"],[4,[32,5],[\\\"click\\\",[30,0,[\\\"onToggleMuted\\\"]]],null]],[[\\\"@state\\\"],[[30,3,[\\\"currentUserMembership\\\",\\\"muted\\\"]]]],null],[1,\\\"\\\\n              \\\"]],[]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"shouldRenderDesktopNotificationsLevelSection\\\"]],[[[1,\\\"              \\\"],[8,[30,6,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"desktopNotificationsLevelLabel\\\"]]]],[[\\\"action\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,6],[[24,0,\\\"c-channel-settings__selector c-channel-settings__desktop-notifications-selector\\\"]],[[\\\"@content\\\",\\\"@value\\\",\\\"@valueProperty\\\",\\\"@onChange\\\"],[[30,0,[\\\"notificationLevels\\\"]],[30,3,[\\\"currentUserMembership\\\",\\\"desktopNotificationLevel\\\"]],\\\"value\\\",[28,[32,7],[[30,0,[\\\"saveNotificationSettings\\\"]],\\\"desktopNotificationLevel\\\",\\\"desktop_notification_level\\\"],null]]],null],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRenderMobileNotificationsLevelSection\\\"]],[[[1,\\\"              \\\"],[8,[30,6,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"mobileNotificationsLevelLabel\\\"]]]],[[\\\"action\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,6],[[24,0,\\\"c-channel-settings__selector c-channel-settings__mobile-notifications-selector\\\"]],[[\\\"@content\\\",\\\"@value\\\",\\\"@valueProperty\\\",\\\"@onChange\\\"],[[30,0,[\\\"notificationLevels\\\"]],[30,3,[\\\"currentUserMembership\\\",\\\"mobileNotificationLevel\\\"]],\\\"value\\\",[28,[32,7],[[30,0,[\\\"saveNotificationSettings\\\"]],\\\"mobileNotificationLevel\\\",\\\"mobile_notification_level\\\"],null]]],null],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"          \\\"]],[6]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"section\\\"]],null,[[\\\"@title\\\"],[[30,0,[\\\"channelInfoSectionTitle\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"isCategoryChannel\\\"]],[[[1,\\\"            \\\"],[8,[30,7,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"categoryLabel\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[1,[28,[32,8],[[30,3,[\\\"chatable\\\"]]],[[\\\"link\\\",\\\"allowUncategorized\\\"],[true,true]]]],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n          \\\"],[8,[30,7,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"historyLabel\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n            \\\"],[8,[32,9],null,[[\\\"@channel\\\",\\\"@type\\\"],[[30,3],\\\"short\\\"]],null],[1,\\\"\\\\n          \\\"]],[]]]]],[1,\\\"\\\\n        \\\"]],[7]]]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"shouldRenderAdminSection\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"section\\\"]],[[24,\\\"data-section\\\",\\\"admin\\\"]],[[\\\"@title\\\"],[[30,0,[\\\"adminSectionTitle\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"autoJoinAvailable\\\"]],[[[1,\\\"              \\\"],[8,[30,8,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"autoJoinLabel\\\"]]]],[[\\\"action\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,4],[[24,0,\\\"c-channel-settings__auto-join-switch\\\"],[4,[32,5],[\\\"click\\\",[28,[32,7],[[30,0,[\\\"onToggleAutoJoinUsers\\\"]],[30,3,[\\\"autoJoinUsers\\\"]]],null]],null]],[[\\\"@state\\\"],[[30,3,[\\\"autoJoinUsers\\\"]]]],null],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"toggleChannelWideMentionsAvailable\\\"]],[[[1,\\\"              \\\"],[8,[30,8,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"channelWideMentionsLabel\\\"]]]],[[\\\"action\\\",\\\"description\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,4],[[24,0,\\\"c-channel-settings__channel-wide-mentions\\\"],[4,[32,5],[\\\"click\\\",[28,[32,7],[[30,0,[\\\"onToggleChannelWideMentions\\\"]],[30,3,[\\\"allowChannelWideMentions\\\"]]],null]],null]],[[\\\"@state\\\"],[[30,3,[\\\"allowChannelWideMentions\\\"]]]],null],[1,\\\"\\\\n                \\\"]],[]],[[[1,\\\"\\\\n                  \\\"],[1,[30,0,[\\\"channelWideMentionsDescription\\\"]]],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"toggleThreadingAvailable\\\"]],[[[1,\\\"              \\\"],[8,[30,8,[\\\"row\\\"]],null,[[\\\"@label\\\"],[[30,0,[\\\"toggleThreadingLabel\\\"]]]],[[\\\"action\\\",\\\"description\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,4],[[24,0,\\\"c-channel-settings__threading-switch\\\"],[4,[32,5],[\\\"click\\\",[28,[32,7],[[30,0,[\\\"onToggleThreadingEnabled\\\"]],[30,3,[\\\"threadingEnabled\\\"]]],null]],null]],[[\\\"@state\\\"],[[30,3,[\\\"threadingEnabled\\\"]]]],null],[1,\\\"\\\\n                \\\"]],[]],[[[1,\\\"\\\\n                  \\\"],[1,[30,0,[\\\"toggleThreadingDescription\\\"]]],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRenderStatusSection\\\"]],[[[41,[30,0,[\\\"shouldRenderArchiveRow\\\"]],[[[1,\\\"                \\\"],[8,[30,8,[\\\"row\\\"]],null,null,[[\\\"action\\\"],[[[[1,\\\"\\\\n                    \\\"],[8,[32,3],[[24,0,\\\"archive-btn chat-form__btn btn-flat\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@icon\\\"],[[30,0,[\\\"onArchiveChannel\\\"]],\\\"chat.channel_settings.archive_channel\\\",\\\"archive\\\"]],null],[1,\\\"\\\\n                  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n              \\\"],[8,[30,8,[\\\"row\\\"]],null,null,[[\\\"action\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"isOpen\\\"]],[[[1,\\\"                    \\\"],[8,[32,3],[[24,0,\\\"close-btn chat-form__btn btn-flat\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@icon\\\"],[[30,0,[\\\"onToggleChannelState\\\"]],\\\"chat.channel_settings.close_channel\\\",\\\"lock\\\"]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                    \\\"],[8,[32,3],[[24,0,\\\"open-btn chat-form__btn btn-flat\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@icon\\\"],[[30,0,[\\\"onToggleChannelState\\\"]],\\\"chat.channel_settings.open_channel\\\",\\\"unlock\\\"]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"                \\\"]],[]]]]],[1,\\\"\\\\n\\\\n              \\\"],[8,[30,8,[\\\"row\\\"]],null,null,[[\\\"action\\\"],[[[[1,\\\"\\\\n                  \\\"],[8,[32,3],[[24,0,\\\"delete-btn chat-form__btn btn-flat\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@icon\\\"],[[30,0,[\\\"onDeleteChannel\\\"]],\\\"chat.channel_settings.delete_channel\\\",\\\"trash-alt\\\"]],null],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n          \\\"]],[8]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"section\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,9,[\\\"row\\\"]],null,null,[[\\\"action\\\"],[[[[1,\\\"\\\\n              \\\"],[8,[32,10],null,[[\\\"@channel\\\",\\\"@onLeave\\\",\\\"@options\\\"],[[30,3],[30,0,[\\\"onLeaveChannel\\\"]],[28,[32,11],null,[[\\\"joinClass\\\",\\\"leaveClass\\\",\\\"joinIcon\\\",\\\"leaveIcon\\\"],[\\\"btn-primary\\\",\\\"btn-danger\\\",\\\"sign-in-alt\\\",\\\"sign-out-alt\\\"]]]]],null],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n\\\"],[41,[30,3,[\\\"chatable\\\",\\\"group\\\"]],[[[1,\\\"            \\\"],[10,0],[14,0,\\\"c-channel-settings__leave-info\\\"],[12],[1,\\\"\\\\n              \\\"],[1,[28,[32,12],[\\\"exclamation-triangle\\\"],null]],[1,\\\"\\\\n              \\\"],[1,[28,[32,13],[\\\"chat.channel_settings.leave_groupchat_info\\\"],null]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"]],[9]]]]],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"form\\\",\\\"section\\\",\\\"@channel\\\",\\\"section\\\",\\\"section\\\",\\\"section\\\",\\\"section\\\",\\\"section\\\",\\\"section\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel-info-settings.js\",\n    \"scope\": () => [_form.default, _replaceEmoji.default, _routing.LinkTo, _dButton.default, _dToggleSwitch.default, _modifier.on, _comboBox.default, _helper.fn, _categoryBadge.default, _chatRetentionReminderText.default, _toggleChannelMembershipButton.default, _helper.hash, _dIcon.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatGuardian\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onToggleChannelWideMentions\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleChannelWideMentions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onToggleAutoJoinUsers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleAutoJoinUsers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDisableAutoJoinUsers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onDisableAutoJoinUsers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onEnableAutoJoinUsers\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onEnableAutoJoinUsers\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onToggleMuted\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleMuted\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"saveNotificationSettings\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"saveNotificationSettings\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_updateChannelProperty\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"_updateChannelProperty\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onToggleThreadingEnabled\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleThreadingEnabled\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onToggleChannelState\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onToggleChannelState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onArchiveChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onArchiveChannel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onDeleteChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onDeleteChannel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onEditChannelTitle\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onEditChannelTitle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLeaveChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onLeaveChannel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onEditChannelDescription\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onEditChannelDescription\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel-info\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/routing\", \"@ember/service\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-channel-status\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _routing, _service, _discourseI18n, _editChannelName, _navbar, _chatChannelStatus, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRoutesChannelInfo = _exports.default = (_class = (_class2 = class ChatRoutesChannelInfo extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatChannelInfoRouteOriginManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatGuardian\", _descriptor4, this);\n      _defineProperty(this, \"membersLabel\", _discourseI18n.default.t(\"chat.channel_info.tabs.members\"));\n      _defineProperty(this, \"settingsLabel\", _discourseI18n.default.t(\"chat.channel_info.tabs.settings\"));\n      _defineProperty(this, \"backToChannelLabel\", _discourseI18n.default.t(\"chat.channel_info.back_to_all_channels\"));\n      _defineProperty(this, \"backToAllChannelsLabel\", _discourseI18n.default.t(\"chat.channel_info.back_to_channel\"));\n    }\n    get showTabs() {\n      return this.site.desktopView && this.args.channel.isOpen;\n    }\n    get canEditChannel() {\n      return this.chatGuardian.canEditChatChannel() && (this.args.channel.isCategoryChannel || this.args.channel.isDirectMessageChannel && this.args.channel.chatable.group);\n    }\n    editChannelTitle() {\n      return this.modal.show(_editChannelName.default, {\n        model: this.args.channel\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-channel-info\">\n        <Navbar as |navbar|>\n          {{#if this.chatChannelInfoRouteOriginManager.isBrowse}}\n            <navbar.BackButton\n              @route=\"chat.browse\"\n              @title={{this.backToAllChannelsLabel}}\n            />\n          {{else}}\n            <navbar.BackButton\n              @route=\"chat.channel\"\n              @routeModels={{@channel.routeModels}}\n              @title={{this.backToChannelLabel}}\n            />\n          {{/if}}\n          <navbar.ChannelTitle @channel={{@channel}} />\n        </Navbar>\n  \n        <ChatChannelStatus @channel={{@channel}} />\n  \n        <div class=\"c-channel-info\">\n          {{#if this.showTabs}}\n            <nav class=\"c-channel-info__nav\">\n              <ul class=\"nav nav-pills\">\n                <li>\n                  <LinkTo\n                    @route=\"chat.channel.info.settings\"\n                    @model={{@channel}}\n                    @replace={{true}}\n                  >\n                    {{this.settingsLabel}}\n                  </LinkTo>\n                </li>\n                <li>\n                  <LinkTo\n                    @route=\"chat.channel.info.members\"\n                    @model={{@channel}}\n                    @replace={{true}}\n                  >\n                    {{this.membersLabel}}\n                  </LinkTo>\n                </li>\n              </ul>\n            </nav>\n          {{/if}}\n  \n          {{outlet}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"QPwuZiXL\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-channel-info\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"chatChannelInfoRouteOriginManager\\\",\\\"isBrowse\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@route\\\",\\\"@title\\\"],[\\\"chat.browse\\\",[30,0,[\\\"backToAllChannelsLabel\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@route\\\",\\\"@routeModels\\\",\\\"@title\\\"],[\\\"chat.channel\\\",[30,2,[\\\"routeModels\\\"]],[30,0,[\\\"backToChannelLabel\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"        \\\"],[8,[30,1,[\\\"ChannelTitle\\\"]],null,[[\\\"@channel\\\"],[[30,2]]],null],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,1],null,[[\\\"@channel\\\"],[[30,2]]],null],[1,\\\"\\\\n\\\\n      \\\"],[10,0],[14,0,\\\"c-channel-info\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showTabs\\\"]],[[[1,\\\"          \\\"],[10,\\\"nav\\\"],[14,0,\\\"c-channel-info__nav\\\"],[12],[1,\\\"\\\\n            \\\"],[10,\\\"ul\\\"],[14,0,\\\"nav nav-pills\\\"],[12],[1,\\\"\\\\n              \\\"],[10,\\\"li\\\"],[12],[1,\\\"\\\\n                \\\"],[8,[32,2],null,[[\\\"@route\\\",\\\"@model\\\",\\\"@replace\\\"],[\\\"chat.channel.info.settings\\\",[30,2],true]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                  \\\"],[1,[30,0,[\\\"settingsLabel\\\"]]],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n              \\\"],[10,\\\"li\\\"],[12],[1,\\\"\\\\n                \\\"],[8,[32,2],null,[[\\\"@route\\\",\\\"@model\\\",\\\"@replace\\\"],[\\\"chat.channel.info.members\\\",[30,2],true]],[[\\\"default\\\"],[[[[1,\\\"\\\\n                  \\\"],[1,[30,0,[\\\"membersLabel\\\"]]],[1,\\\"\\\\n                \\\"]],[]]]]],[1,\\\"\\\\n              \\\"],[13],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[46,[28,[31,2],null,null],null,null,null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"@channel\\\"],false,[\\\"if\\\",\\\"component\\\",\\\"-outlet\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel-info.js\",\n    \"scope\": () => [_navbar.default, _chatChannelStatus.default, _routing.LinkTo],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelInfoRouteOriginManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatGuardian\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"editChannelTitle\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"editChannelTitle\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel-thread\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"discourse/plugins/chat/discourse/components/chat/thread/header\", \"discourse/plugins/chat/discourse/components/chat-thread\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _header, _chatThread, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatRoutesChannelThread extends _component.default {}\n  _exports.default = ChatRoutesChannelThread;\n  _class = ChatRoutesChannelThread;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-channel-thread\">\n        {{#each (array @thread) as |thread|}}\n          <ThreadHeader @thread={{thread}} />\n  \n          <Thread\n            @thread={{thread}}\n            @targetMessageId={{@targetMessageId}}\n            @includeHeader={{true}}\n          />\n        {{/each}}\n      </div>\n    \n  */\n  {\n    \"id\": \"HehJynEo\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-channel-thread\\\"],[12],[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[28,[32,0],[[30,1]],null]],null]],null],null,[[[1,\\\"        \\\"],[8,[32,1],null,[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,2],null,[[\\\"@thread\\\",\\\"@targetMessageId\\\",\\\"@includeHeader\\\"],[[30,2],[30,3],true]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@thread\\\",\\\"thread\\\",\\\"@targetMessageId\\\"],false,[\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel-thread.js\",\n    \"scope\": () => [_helper.array, _header.default, _chatThread.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel-threads\", [\"exports\", \"@glimmer/component\", \"discourse/plugins/chat/discourse/components/chat/thread-list/header\", \"discourse/plugins/chat/discourse/components/chat-thread-list\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _header, _chatThreadList, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatRoutesChannelThreads extends _component.default {}\n  _exports.default = ChatRoutesChannelThreads;\n  _class = ChatRoutesChannelThreads;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-channel-threads\">\n        <ChatThreadListHeader @channel={{@channel}} />\n        <ChatThreadList @channel={{@channel}} @includeHeader={{true}} />\n      </div>\n    \n  */\n  {\n    \"id\": \"gQz7I0oz\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-channel-threads\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,[[\\\"@channel\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"],[8,[32,1],null,[[\\\"@channel\\\",\\\"@includeHeader\\\"],[[30,1],true]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@channel\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel-threads.js\",\n    \"scope\": () => [_header.default, _chatThreadList.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/channel\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat-side-panel\", \"discourse/plugins/chat/discourse/components/full-page-chat\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _navbar, _chatSidePanel, _fullPageChat, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRoutesChannel = _exports.default = (_class = (_class2 = class ChatRoutesChannel extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-channel\">\n        <Navbar as |navbar|>\n          {{#if this.site.mobileView}}\n            <navbar.BackButton />\n          {{/if}}\n          <navbar.ChannelTitle @channel={{@channel}} />\n          <navbar.Actions as |action|>\n            <action.OpenDrawerButton />\n            <action.ThreadsListButton @channel={{@channel}} />\n          </navbar.Actions>\n        </Navbar>\n  \n        <FullPageChat\n          @channel={{@channel}}\n          @targetMessageId={{@targetMessageId}}\n        />\n      </div>\n  \n      <SidePanel>\n        {{outlet}}\n      </SidePanel>\n    \n  */\n  {\n    \"id\": \"qF+741y0\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-channel\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,null,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[8,[30,1,[\\\"ChannelTitle\\\"]],null,[[\\\"@channel\\\"],[[30,2]]],null],[1,\\\"\\\\n        \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,3,[\\\"OpenDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n          \\\"],[8,[30,3,[\\\"ThreadsListButton\\\"]],null,[[\\\"@channel\\\"],[[30,2]]],null],[1,\\\"\\\\n        \\\"]],[3]]]]],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,1],null,[[\\\"@channel\\\",\\\"@targetMessageId\\\"],[[30,2],[30,4]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[8,[32,2],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[46,[28,[31,2],null,null],null,null,null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"@channel\\\",\\\"action\\\",\\\"@targetMessageId\\\"],false,[\\\"if\\\",\\\"component\\\",\\\"-outlet\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/channel.js\",\n    \"scope\": () => [_navbar.default, _fullPageChat.default, _chatSidePanel.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/routes/threads\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse-common/helpers/i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/user-threads\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _i18n, _navbar, _userThreads, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRoutesThreads = _exports.default = (_class = (_class2 = class ChatRoutesThreads extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"c-routes-threads\">\n        <Navbar as |navbar|>\n          {{#if this.site.mobileView}}\n            <navbar.BackButton />\n          {{/if}}\n          <navbar.Title\n            @title={{i18n \"chat.my_threads.title\"}}\n            @icon=\"discourse-threads\"\n          />\n  \n          <navbar.Actions as |action|>\n            <action.OpenDrawerButton />\n          </navbar.Actions>\n        </Navbar>\n  \n        <UserThreads />\n      </div>\n    \n  */\n  {\n    \"id\": \"kCWIPot0\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"c-routes-threads\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[[[1,\\\"          \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,null,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"        \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\",\\\"@icon\\\"],[[28,[32,1],[\\\"chat.my_threads.title\\\"],null],\\\"discourse-threads\\\"]],null],[1,\\\"\\\\n\\\\n        \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[30,2,[\\\"OpenDrawerButton\\\"]],null,null,null],[1,\\\"\\\\n        \\\"]],[2]]]]],[1,\\\"\\\\n      \\\"]],[1]]]]],[1,\\\"\\\\n\\\\n      \\\"],[8,[32,2],null,null,null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/routes/threads.js\",\n    \"scope\": () => [_navbar.default, _i18n.default, _userThreads.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/scroll-to-bottom-arrow\", [\"exports\", \"discourse/components/d-button\", \"discourse/helpers/concat-class\", \"discourse-common/helpers/d-icon\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _dButton, _concatClass, _dIcon, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ScrollToBottomArrow = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <div class=\"chat-scroll-to-bottom\">\n      <DButton\n        class={{concatClass\n          \"btn-flat\"\n          \"chat-scroll-to-bottom__button\"\n          (if @isVisible \"visible\")\n        }}\n        @action={{@onScrollToBottom}}\n      >\n        <span class=\"chat-scroll-to-bottom__arrow\">\n          {{dIcon \"arrow-down\"}}\n        </span>\n      </DButton>\n    </div>\n  \n  */\n  {\n    \"id\": \"xc6rAyLi\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"chat-scroll-to-bottom\\\"],[12],[1,\\\"\\\\n    \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"btn-flat\\\",\\\"chat-scroll-to-bottom__button\\\",[52,[30,1],\\\"visible\\\"]],null]]],[[\\\"@action\\\"],[[30,2]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[10,1],[14,0,\\\"chat-scroll-to-bottom__arrow\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[32,2],[\\\"arrow-down\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[\\\"@isVisible\\\",\\\"@onScrollToBottom\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/scroll-to-bottom-arrow.js\",\n    \"scope\": () => [_dButton.default, _concatClass.default, _dIcon.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ScrollToBottomArrow;\n});","define(\"discourse/plugins/chat/discourse/components/chat/selection-manager\", [\"exports\", \"@glimmer/component\", \"@ember/application\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/lib/ajax-error\", \"discourse/lib/utilities\", \"discourse-common/config/environment\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"truth-helpers/helpers/not\", \"discourse/plugins/chat/discourse/components/chat/modal/move-message-to-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _application, _object, _service, _dButton, _ajaxError, _utilities, _environment, _decorators, _discourseI18n, _not, _moveMessageToChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatSelectionManager = _exports.default = (_dec = (0, _service.inject)(\"composer\"), _dec2 = (0, _service.inject)(\"chat-api\"), (_class = (_class2 = class ChatSelectionManager extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"topicComposer\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor3, this);\n      _initializerDefineProperty(this, \"site\", _descriptor4, this);\n      _initializerDefineProperty(this, \"toasts\", _descriptor5, this);\n      _initializerDefineProperty(this, \"api\", _descriptor6, this);\n    }\n    get enableMove() {\n      return this.args.enableMove ?? false;\n    }\n    get anyMessagesSelected() {\n      return this.args.pane.selectedMessageIds.length > 0;\n    }\n    async generateQuote() {\n      const {\n        markdown: markdown1\n      } = await this.api.generateQuote(this.args.pane.channel.id, this.args.pane.selectedMessageIds);\n      return new Blob([markdown1], {\n        type: \"text/plain\"\n      });\n    }\n    openMoveMessageModal() {\n      this.modal.show(_moveMessageToChannel.default, {\n        model: {\n          sourceChannel: this.args.pane.channel,\n          selectedMessageIds: this.args.pane.selectedMessageIds\n        }\n      });\n    }\n    async quoteMessages() {\n      let quoteMarkdown1;\n      try {\n        const quoteMarkdownBlob1 = await this.generateQuote();\n        quoteMarkdown1 = await quoteMarkdownBlob1.text();\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n      const openOpts1 = {};\n      if (this.args.pane.channel.isCategoryChannel) {\n        openOpts1.categoryId = this.args.pane.channel.chatableId;\n      }\n      if (this.site.mobileView) {\n        // go to the relevant chatable (e.g. category) and open the\n        // composer to insert text\n        if (this.args.pane.channel.chatableUrl) {\n          this.router.transitionTo(this.args.pane.channel.chatableUrl);\n        }\n        await this.topicComposer.focusComposer({\n          fallbackToNewTopic: true,\n          insertText: quoteMarkdown1,\n          openOpts: openOpts1\n        });\n      } else {\n        // open the composer and insert text, reply to the current\n        // topic if there is one, use the active draft if there is one\n        const container1 = (0, _application.getOwner)(this);\n        const topic1 = container1.lookup(\"controller:topic\");\n        await this.topicComposer.focusComposer({\n          fallbackToNewTopic: true,\n          topic: topic1?.model,\n          insertText: quoteMarkdown1,\n          openOpts: openOpts1\n        });\n      }\n    }\n    async copyMessages() {\n      try {\n        if (!(0, _environment.isTesting)()) {\n          // clipboard API throws errors in tests\n          await (0, _utilities.clipboardCopyAsync)(this.generateQuote);\n          this.toasts.success({\n            duration: 3000,\n            data: {\n              message: _discourseI18n.default.t(\"chat.quote.copy_success\")\n            }\n          });\n        }\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class=\"chat-selection-management\"\n        data-last-copy-successful={{this.lastCopySuccessful}}\n      >\n        <div class=\"chat-selection-management__buttons\">\n          <DButton\n            @icon=\"quote-left\"\n            @label=\"chat.selection.quote_selection\"\n            @disabled={{not this.anyMessagesSelected}}\n            @action={{this.quoteMessages}}\n            id=\"chat-quote-btn\"\n          />\n  \n          <DButton\n            @icon=\"copy\"\n            @label=\"chat.selection.copy\"\n            @disabled={{not this.anyMessagesSelected}}\n            @action={{this.copyMessages}}\n            id=\"chat-copy-btn\"\n          />\n  \n          {{#if this.enableMove}}\n            <DButton\n              @icon=\"sign-out-alt\"\n              @label=\"chat.selection.move_selection_to_channel\"\n              @disabled={{not this.anyMessagesSelected}}\n              @action={{this.openMoveMessageModal}}\n              id=\"chat-move-to-channel-btn\"\n            />\n          {{/if}}\n  \n          <DButton\n            @icon=\"times\"\n            @label=\"chat.selection.cancel\"\n            @action={{@pane.cancelSelecting}}\n            id=\"chat-cancel-selection-btn\"\n            class=\"btn-secondary cancel-btn\"\n          />\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"/CdXegRl\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat-selection-management\\\"],[15,\\\"data-last-copy-successful\\\",[30,0,[\\\"lastCopySuccessful\\\"]]],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-selection-management__buttons\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,0],[[24,1,\\\"chat-quote-btn\\\"]],[[\\\"@icon\\\",\\\"@label\\\",\\\"@disabled\\\",\\\"@action\\\"],[\\\"quote-left\\\",\\\"chat.selection.quote_selection\\\",[28,[32,1],[[30,0,[\\\"anyMessagesSelected\\\"]]],null],[30,0,[\\\"quoteMessages\\\"]]]],null],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,0],[[24,1,\\\"chat-copy-btn\\\"]],[[\\\"@icon\\\",\\\"@label\\\",\\\"@disabled\\\",\\\"@action\\\"],[\\\"copy\\\",\\\"chat.selection.copy\\\",[28,[32,1],[[30,0,[\\\"anyMessagesSelected\\\"]]],null],[30,0,[\\\"copyMessages\\\"]]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"enableMove\\\"]],[[[1,\\\"          \\\"],[8,[32,0],[[24,1,\\\"chat-move-to-channel-btn\\\"]],[[\\\"@icon\\\",\\\"@label\\\",\\\"@disabled\\\",\\\"@action\\\"],[\\\"sign-out-alt\\\",\\\"chat.selection.move_selection_to_channel\\\",[28,[32,1],[[30,0,[\\\"anyMessagesSelected\\\"]]],null],[30,0,[\\\"openMoveMessageModal\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[8,[32,0],[[24,1,\\\"chat-cancel-selection-btn\\\"],[24,0,\\\"btn-secondary cancel-btn\\\"]],[[\\\"@icon\\\",\\\"@label\\\",\\\"@action\\\"],[\\\"times\\\",\\\"chat.selection.cancel\\\",[30,1,[\\\"cancelSelecting\\\"]]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@pane\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/selection-manager.js\",\n    \"scope\": () => [_dButton.default, _not.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"topicComposer\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"api\", [_dec2], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"generateQuote\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"generateQuote\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openMoveMessageModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openMoveMessageModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"quoteMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"quoteMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"copyMessages\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"copyMessages\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/components/chat/thread-list/header\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"@ember/template\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/i18n\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _template, _replaceEmoji, _i18n, _discourseI18n, _navbar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadListHeader = _exports.default = (_class = (_class2 = class ChatThreadListHeader extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _defineProperty(this, \"threadListTitle\", _discourseI18n.default.t(\"chat.threads.list\"));\n    }\n    get title() {\n      let title1 = (0, _replaceEmoji.default)(this.threadListTitle);\n      if (this.site.mobileView) {\n        title1 += \" - \" + (0, _replaceEmoji.default)(this.args.channel.title);\n      }\n      return (0, _template.htmlSafe)(title1);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar as |navbar|>\n        {{#if this.site.mobileView}}\n          <navbar.BackButton\n            @route=\"chat.channel\"\n            @routeModels={{@channel.routeModels}}\n            @title={{i18n \"chat.return_to_channel\"}}\n          />\n        {{/if}}\n  \n        <navbar.Title @title={{this.title}} @icon=\"discourse-threads\" />\n  \n        <navbar.Actions as |action|>\n          <action.CloseThreadsButton @channel={{@channel}} />\n        </navbar.Actions>\n      </Navbar>\n    \n  */\n  {\n    \"id\": \"nUBTwzYk\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"site\\\",\\\"mobileView\\\"]],[[[1,\\\"        \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@route\\\",\\\"@routeModels\\\",\\\"@title\\\"],[\\\"chat.channel\\\",[30,2,[\\\"routeModels\\\"]],[28,[32,1],[\\\"chat.return_to_channel\\\"],null]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\",\\\"@icon\\\"],[[30,0,[\\\"title\\\"]],\\\"discourse-threads\\\"]],null],[1,\\\"\\\\n\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"CloseThreadsButton\\\"]],null,[[\\\"@channel\\\"],[[30,2]]],null],[1,\\\"\\\\n      \\\"]],[3]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"@channel\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/thread-list/header.js\",\n    \"scope\": () => [_navbar.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/thread-list/item\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/modifier\", \"@ember/object\", \"@ember/service\", \"discourse/helpers/concat-class\", \"discourse/helpers/format-date\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/i18n\", \"truth-helpers/helpers/gt\", \"discourse/plugins/chat/discourse/components/thread-unread-indicator\", \"discourse/plugins/chat/discourse/components/chat-thread-participants\", \"discourse/plugins/chat/discourse/components/chat-user-avatar\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _modifier, _object, _service, _concatClass, _formatDate, _replaceEmoji, _i18n, _gt, _threadUnreadIndicator, _chatThreadParticipants, _chatUserAvatar, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadListItem = _exports.default = (_class = (_class2 = class ChatThreadListItem extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    openThread(thread1) {\n      this.router.transitionTo(\"chat.channel.thread\", ...thread1.routeModels);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          \"chat-thread-list-item\"\n          (if (gt @thread.tracking.unreadCount 0) \"-is-unread\")\n        }}\n        data-thread-id={{@thread.id}}\n        ...attributes\n      >\n        <div class=\"chat-thread-list-item__main\">\n          <div\n            title={{i18n \"chat.thread.view_thread\"}}\n            role=\"button\"\n            class=\"chat-thread-list-item__open-button\"\n            {{on \"click\" (fn this.openThread @thread) passive=true}}\n          >\n            <div class=\"chat-thread-list-item__header\">\n              <div class=\"chat-thread-list-item__title\">\n                {{#if @thread.title}}\n                  {{replaceEmoji @thread.title}}\n                {{else}}\n                  {{replaceEmoji @thread.originalMessage.excerpt}}\n                {{/if}}\n              </div>\n              <div class=\"chat-thread-list-item__unread-indicator\">\n                <ThreadUnreadIndicator @thread={{@thread}} />\n              </div>\n            </div>\n  \n            <div class=\"chat-thread-list-item__metadata\">\n              <div class=\"chat-thread-list-item__members\">\n                <ChatUserAvatar\n                  @user={{@thread.originalMessage.user}}\n                  @showPresence={{false}}\n                  @interactive={{false}}\n                />\n                <ChatThreadParticipants\n                  @thread={{@thread}}\n                  @includeOriginalMessageUser={{false}}\n                  class=\"chat-thread-list-item__participants\"\n                />\n              </div>\n  \n              <div class=\"chat-thread-list-item__last-reply-timestamp\">\n                {{#if @thread.preview.lastReplyCreatedAt}}\n                  {{formatDate\n                    @thread.preview.lastReplyCreatedAt\n                    leaveAgo=\"true\"\n                  }}\n                {{/if}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"iZfquziH\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[11,0],[16,0,[28,[32,0],[\\\"chat-thread-list-item\\\",[52,[28,[32,1],[[30,1,[\\\"tracking\\\",\\\"unreadCount\\\"]],0],null],\\\"-is-unread\\\"]],null]],[16,\\\"data-thread-id\\\",[30,1,[\\\"id\\\"]]],[17,2],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat-thread-list-item__main\\\"],[12],[1,\\\"\\\\n        \\\"],[11,0],[16,\\\"title\\\",[28,[32,2],[\\\"chat.thread.view_thread\\\"],null]],[24,\\\"role\\\",\\\"button\\\"],[24,0,\\\"chat-thread-list-item__open-button\\\"],[4,[32,3],[\\\"click\\\",[28,[32,4],[[30,0,[\\\"openThread\\\"]],[30,1]],null]],[[\\\"passive\\\"],[true]]],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"chat-thread-list-item__header\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-thread-list-item__title\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"title\\\"]],[[[1,\\\"                \\\"],[1,[28,[32,5],[[30,1,[\\\"title\\\"]]],null]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[1,[28,[32,5],[[30,1,[\\\"originalMessage\\\",\\\"excerpt\\\"]]],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"            \\\"],[13],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-thread-list-item__unread-indicator\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,6],null,[[\\\"@thread\\\"],[[30,1]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[10,0],[14,0,\\\"chat-thread-list-item__metadata\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"chat-thread-list-item__members\\\"],[12],[1,\\\"\\\\n              \\\"],[8,[32,7],null,[[\\\"@user\\\",\\\"@showPresence\\\",\\\"@interactive\\\"],[[30,1,[\\\"originalMessage\\\",\\\"user\\\"]],false,false]],null],[1,\\\"\\\\n              \\\"],[8,[32,8],[[24,0,\\\"chat-thread-list-item__participants\\\"]],[[\\\"@thread\\\",\\\"@includeOriginalMessageUser\\\"],[[30,1],false]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\\n            \\\"],[10,0],[14,0,\\\"chat-thread-list-item__last-reply-timestamp\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"preview\\\",\\\"lastReplyCreatedAt\\\"]],[[[1,\\\"                \\\"],[1,[28,[32,9],[[30,1,[\\\"preview\\\",\\\"lastReplyCreatedAt\\\"]]],[[\\\"leaveAgo\\\"],[\\\"true\\\"]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@thread\\\",\\\"&attrs\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/thread-list/item.js\",\n    \"scope\": () => [_concatClass.default, _gt.default, _i18n.default, _modifier.on, _helper.fn, _replaceEmoji.default, _threadUnreadIndicator.default, _chatUserAvatar.default, _chatThreadParticipants.default, _formatDate.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openThread\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openThread\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/thread/header-unread-indicator\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"I18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _I18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ThreadHeaderUnreadIndicator = _exports.default = (_class = (_class2 = class ThreadHeaderUnreadIndicator extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _defineProperty(this, \"unreadCountLabel\", _I18n.default.t(\"chat.unread_threads_count\", {\n        count: this.cappedUnreadCount\n      }));\n    }\n    get unreadCount() {\n      return this.args.channel.threadsManager.unreadThreadCount;\n    }\n    get showUnreadIndicator() {\n      return !this.currentUser.isInDoNotDisturb() && this.unreadCount > 0;\n    }\n    get cappedUnreadCount() {\n      return this.unreadCount > 99 ? \"99+\" : this.unreadCount;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showUnreadIndicator}}\n        <div\n          class=\"chat-thread-header-unread-indicator\"\n          title={{this.unreadCountLabel}}\n        >\n          <div\n            class=\"chat-thread-header-unread-indicator__number\"\n          >{{this.cappedUnreadCount}}</div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"6SK42Com\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showUnreadIndicator\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-thread-header-unread-indicator\\\"],[15,\\\"title\\\",[30,0,[\\\"unreadCountLabel\\\"]]],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-thread-header-unread-indicator__number\\\"],[12],[1,[30,0,[\\\"cappedUnreadCount\\\"]]],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/thread/header-unread-indicator.js\",\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/thread/header\", [\"exports\", \"@glimmer/component\", \"@ember/service\", \"discourse/helpers/replace-emoji\", \"discourse-common/helpers/d-icon\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/navbar\", \"discourse/plugins/chat/discourse/components/chat/thread/header-unread-indicator\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _service, _replaceEmoji, _dIcon, _discourseI18n, _navbar, _headerUnreadIndicator, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadHeader = _exports.default = (_class = (_class2 = class ChatThreadHeader extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatHistory\", _descriptor2, this);\n      _initializerDefineProperty(this, \"site\", _descriptor3, this);\n    }\n    get backLink() {\n      const prevPage1 = this.chatHistory.previousRoute?.name;\n      let route1, title1, models1;\n      if (prevPage1 === \"chat.channel.threads\") {\n        route1 = \"chat.channel.threads\";\n        title1 = _discourseI18n.default.t(\"chat.return_to_threads_list\");\n        models1 = this.channel?.routeModels;\n      } else if (prevPage1 === \"chat.channel.index\" && !this.site.mobileView) {\n        route1 = \"chat.channel.threads\";\n        title1 = _discourseI18n.default.t(\"chat.return_to_threads_list\");\n        models1 = this.channel?.routeModels;\n      } else if (!this.currentUser.isInDoNotDisturb() && this.unreadCount > 0) {\n        route1 = \"chat.channel.threads\";\n        title1 = _discourseI18n.default.t(\"chat.return_to_threads_list\");\n        models1 = this.channel?.routeModels;\n      } else if (prevPage1 === \"chat.threads\") {\n        route1 = \"chat.threads\";\n        title1 = _discourseI18n.default.t(\"chat.my_threads.title\");\n        models1 = [];\n      } else {\n        route1 = \"chat.channel.index\";\n        title1 = _discourseI18n.default.t(\"chat.return_to_channel\");\n        models1 = this.channel?.routeModels;\n      }\n      return {\n        route: route1,\n        models: models1,\n        title: title1\n      };\n    }\n    get channel() {\n      return this.args.thread?.channel;\n    }\n    get headerTitle() {\n      return this.args.thread?.title ?? _discourseI18n.default.t(\"chat.thread.label\");\n    }\n    get unreadCount() {\n      return this.channel?.threadsManager?.unreadThreadCount;\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <Navbar as |navbar|>\n        {{#if @thread}}\n          <navbar.BackButton\n            @route={{this.backLink.route}}\n            @routeModels={{this.backLink.models}}\n            @title={{this.backLink.title}}\n          >\n            <ChatThreadHeaderUnreadIndicator @channel={{this.channel}} />\n            {{icon \"chevron-left\"}}\n          </navbar.BackButton>\n        {{/if}}\n  \n        <navbar.Title @title={{replaceEmoji this.headerTitle}} />\n        <navbar.Actions as |action|>\n          <action.ThreadTrackingDropdown @thread={{@thread}} />\n          <action.ThreadSettingsButton @thread={{@thread}} />\n          <action.CloseThreadButton @thread={{@thread}} />\n        </navbar.Actions>\n      </Navbar>\n    \n  */\n  {\n    \"id\": \"FrahXW0d\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,2],[[[1,\\\"        \\\"],[8,[30,1,[\\\"BackButton\\\"]],null,[[\\\"@route\\\",\\\"@routeModels\\\",\\\"@title\\\"],[[30,0,[\\\"backLink\\\",\\\"route\\\"]],[30,0,[\\\"backLink\\\",\\\"models\\\"]],[30,0,[\\\"backLink\\\",\\\"title\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[32,1],null,[[\\\"@channel\\\"],[[30,0,[\\\"channel\\\"]]]],null],[1,\\\"\\\\n          \\\"],[1,[28,[32,2],[\\\"chevron-left\\\"],null]],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Title\\\"]],null,[[\\\"@title\\\"],[[28,[32,3],[[30,0,[\\\"headerTitle\\\"]]],null]]],null],[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Actions\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"ThreadTrackingDropdown\\\"]],null,[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"ThreadSettingsButton\\\"]],null,[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n        \\\"],[8,[30,3,[\\\"CloseThreadButton\\\"]],null,[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n      \\\"]],[3]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n  \\\"]],[\\\"navbar\\\",\\\"@thread\\\",\\\"action\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/thread/header.js\",\n    \"scope\": () => [_navbar.default, _headerUnreadIndicator.default, _dIcon.default, _replaceEmoji.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatHistory\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/chat/user-card-button\", [\"exports\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _object, _service, _dButton, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatUserCardButton = _exports.default = (_class = (_class2 = class ChatUserCardButton extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n    }\n    get shouldRender() {\n      return this.chat.userCanDirectMessage && !this.args.user.suspended;\n    }\n    startChatting() {\n      return this.chat.upsertDmChannelForUsernames([this.args.user.username]).then(channel1 => {\n        this.router.transitionTo(\"chat.channel\", ...channel1.routeModels);\n        this.appEvents.trigger(\"card:close\");\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.shouldRender}}\n        <DButton\n          @action={{this.startChatting}}\n          @label=\"chat.title_capitalized\"\n          @icon=\"d-chat\"\n          class=\"btn-primary chat-user-card-btn\"\n        />\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"YKGgpomU\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldRender\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[24,0,\\\"btn-primary chat-user-card-btn\\\"]],[[\\\"@action\\\",\\\"@label\\\",\\\"@icon\\\"],[[30,0,[\\\"startChatting\\\"]],\\\"chat.title_capitalized\\\",\\\"d-chat\\\"]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/chat/user-card-button.js\",\n    \"scope\": () => [_dButton.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"startChatting\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"startChatting\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/collapser\", [\"exports\", \"@ember/component\", \"@ember/object\", \"@ember/template-factory\"], function (_exports, _component, _object, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _obj;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"chat-message-collapser-header\">\n    {{this.header}}\n  \n    {{#if this.collapsed}}\n      <DButton\n        @action={{this.open}}\n        @icon=\"caret-right\"\n        class=\"chat-message-collapser-button chat-message-collapser-closed\"\n      />\n    {{else}}\n      <DButton\n        @action={{this.close}}\n        @icon=\"caret-down\"\n        class=\"chat-message-collapser-button chat-message-collapser-opened\"\n      />\n    {{/if}}\n  </div>\n  \n  <div\n    class={{concat-class\n      \"chat-message-collapser-body\"\n      (if this.collapsed \"hidden\")\n    }}\n  >\n    {{yield this.collapsed}}\n  </div>\n  */\n  {\n    \"id\": \"hDh7V21u\",\n    \"block\": \"[[[10,0],[14,0,\\\"chat-message-collapser-header\\\"],[12],[1,\\\"\\\\n  \\\"],[1,[30,0,[\\\"header\\\"]]],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"collapsed\\\"]],[[[1,\\\"    \\\"],[8,[39,1],[[24,0,\\\"chat-message-collapser-button chat-message-collapser-closed\\\"]],[[\\\"@action\\\",\\\"@icon\\\"],[[30,0,[\\\"open\\\"]],\\\"caret-right\\\"]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"    \\\"],[8,[39,1],[[24,0,\\\"chat-message-collapser-button chat-message-collapser-opened\\\"]],[[\\\"@action\\\",\\\"@icon\\\"],[[30,0,[\\\"close\\\"]],\\\"caret-down\\\"]],null],[1,\\\"\\\\n\\\"]],[]]],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[15,0,[28,[37,2],[\\\"chat-message-collapser-body\\\",[52,[30,0,[\\\"collapsed\\\"]],\\\"hidden\\\"]],null]],[12],[1,\\\"\\\\n  \\\"],[18,1,[[30,0,[\\\"collapsed\\\"]]]],[1,\\\"\\\\n\\\"],[13]],[\\\"&default\\\"],false,[\\\"if\\\",\\\"d-button\\\",\\\"concat-class\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/collapser.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, _component.default.extend((_obj = {\n    tagName: \"\",\n    collapsed: false,\n    header: null,\n    onToggle: null,\n    open() {\n      this.set(\"collapsed\", false);\n      this.onToggle?.(false);\n    },\n    close() {\n      this.set(\"collapsed\", true);\n      this.onToggle?.(true);\n    }\n  }, (_applyDecoratedDescriptor(_obj, \"open\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"open\"), _obj), _applyDecoratedDescriptor(_obj, \"close\", [_object.action], Object.getOwnPropertyDescriptor(_obj, \"close\"), _obj)), _obj)));\n});","define(\"discourse/plugins/chat/discourse/components/dc-filter-input\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/component\", \"@ember/modifier\", \"ember-modifier\", \"discourse/helpers/concat-class\", \"discourse/helpers/noop\", \"discourse-common/helpers/d-icon\", \"@ember/template-factory\"], function (_exports, _component, _tracking, _component2, _modifier, _emberModifier, _concatClass, _noop, _dIcon, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let DcFilterInput = _exports.default = (_class = (_class2 = class DcFilterInput extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"isFocused\", _descriptor, this);\n      _defineProperty(this, \"focusState\", (0, _emberModifier.modifier)(element1 => {\n        const focusInHandler1 = () => {\n          this.isFocused = true;\n        };\n        const focusOutHandler1 = () => {\n          this.isFocused = false;\n        };\n        element1.addEventListener(\"focusin\", focusInHandler1);\n        element1.addEventListener(\"focusout\", focusOutHandler1);\n        return () => {\n          element1.removeEventListener(\"focusin\", focusInHandler1);\n          element1.removeEventListener(\"focusout\", focusOutHandler1);\n        };\n      }));\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div\n        class={{concatClass\n          @containerClass\n          \"dc-filter-input-container\"\n          (if this.isFocused \"is-focused\")\n        }}\n      >\n        {{#if @icons.left}}\n          {{icon @icons.left class=\"-left\"}}\n        {{/if}}\n  \n        <Input\n          {{this.focusState}}\n          {{on \"input\" (if @filterAction @filterAction (noop))}}\n          @value={{@value}}\n          class=\"dc-filter-input\"\n          ...attributes\n        />\n  \n        {{yield}}\n  \n        {{#if @icons.right}}\n          {{icon @icons.right class=\"-right\"}}\n        {{/if}}\n      </div>\n    \n  */\n  {\n    \"id\": \"uxTMiScj\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[15,0,[28,[32,0],[[30,1],\\\"dc-filter-input-container\\\",[52,[30,0,[\\\"isFocused\\\"]],\\\"is-focused\\\"]],null]],[12],[1,\\\"\\\\n\\\"],[41,[30,2,[\\\"left\\\"]],[[[1,\\\"        \\\"],[1,[28,[32,1],[[30,2,[\\\"left\\\"]]],[[\\\"class\\\"],[\\\"-left\\\"]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[8,[32,2],[[24,0,\\\"dc-filter-input\\\"],[17,3],[4,[30,0,[\\\"focusState\\\"]],null,null],[4,[32,3],[\\\"input\\\",[52,[30,5],[30,5],[28,[32,4],null,null]]],null]],[[\\\"@value\\\"],[[30,4]]],null],[1,\\\"\\\\n\\\\n      \\\"],[18,6,null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,2,[\\\"right\\\"]],[[[1,\\\"        \\\"],[1,[28,[32,1],[[30,2,[\\\"right\\\"]]],[[\\\"class\\\"],[\\\"-right\\\"]]]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@containerClass\\\",\\\"@icons\\\",\\\"&attrs\\\",\\\"@value\\\",\\\"@filterAction\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/dc-filter-input.js\",\n    \"scope\": () => [_concatClass.default, _dIcon.default, _component2.Input, _modifier.on, _noop.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isFocused\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/full-page-chat\", [\"exports\", \"@glimmer/component\", \"@ember/helper\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _helper, _service, _chatChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let FullPageChat = _exports.default = (_class = (_class2 = class FullPageChat extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#each (array @channel) as |channel|}}\n        <ChatChannel @channel={{channel}} @targetMessageId={{@targetMessageId}} />\n      {{/each}}\n    \n  */\n  {\n    \"id\": \"r5mKnoFH\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[42,[28,[31,1],[[28,[31,1],[[28,[32,0],[[30,1]],null]],null]],null],null,[[[1,\\\"      \\\"],[8,[32,1],null,[[\\\"@channel\\\",\\\"@targetMessageId\\\"],[[30,2],[30,3]]],null],[1,\\\"\\\\n\\\"]],[2]],null],[1,\\\"  \\\"]],[\\\"@channel\\\",\\\"channel\\\",\\\"@targetMessageId\\\"],false,[\\\"each\\\",\\\"-track-array\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/full-page-chat.js\",\n    \"scope\": () => [_helper.array, _chatChannel.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/components/reviewable-chat-message\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/routing\", \"@ember/service\", \"discourse/components/reviewable-created-by\", \"discourse/components/reviewable-post-header\", \"discourse-common/helpers/html-safe\", \"discourse-common/helpers/i18n\", \"truth-helpers/helpers/or\", \"discourse/plugins/chat/discourse/components/channel-title\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _routing, _service, _reviewableCreatedBy, _reviewablePostHeader, _htmlSafe, _i18n, _or, _channelTitle, _chatChannel, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ReviewableChatMessage = _exports.default = (_class = (_class2 = class ReviewableChatMessage extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"store\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n    }\n    get channel() {\n      if (!this.args.reviewable.chat_channel) {\n        return;\n      }\n      return _chatChannel.default.create(this.args.reviewable.chat_channel);\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.channel}}\n        <div class=\"flagged-post-header\">\n          <LinkTo\n            @route=\"chat.channel.near-message\"\n            @models={{array\n              this.channel.slugifiedTitle\n              this.channel.id\n              @reviewable.target_id\n            }}\n          >\n            <ChannelTitle @channel={{this.channel}} />\n          </LinkTo>\n        </div>\n      {{/if}}\n  \n      <div class=\"post-contents-wrapper\">\n        <ReviewableCreatedBy\n          @user={{@reviewable.target_created_by}}\n          @tagName=\"\"\n        />\n        <div class=\"post-contents\">\n          <ReviewablePostHeader\n            @reviewable={{@reviewable}}\n            @createdBy={{@reviewable.target_created_by}}\n            @tagName=\"\"\n          />\n  \n          <div class=\"post-body\">\n            {{htmlSafe\n              (or @reviewable.payload.message_cooked @reviewable.cooked)\n            }}\n          </div>\n  \n          {{#if @reviewable.payload.transcript_topic_id}}\n            <div class=\"transcript\">\n              <LinkTo\n                @route=\"topic\"\n                @models={{array \"-\" @reviewable.payload.transcript_topic_id}}\n                class=\"btn btn-small\"\n              >\n                {{i18n \"review.transcript.view\"}}\n              </LinkTo>\n            </div>\n          {{/if}}\n  \n          {{yield}}\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"Lxi8Ztjm\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"channel\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"flagged-post-header\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,0],null,[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.near-message\\\",[28,[32,1],[[30,0,[\\\"channel\\\",\\\"slugifiedTitle\\\"]],[30,0,[\\\"channel\\\",\\\"id\\\"]],[30,1,[\\\"target_id\\\"]]],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[8,[32,2],null,[[\\\"@channel\\\"],[[30,0,[\\\"channel\\\"]]]],null],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"post-contents-wrapper\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,3],null,[[\\\"@user\\\",\\\"@tagName\\\"],[[30,1,[\\\"target_created_by\\\"]],\\\"\\\"]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"post-contents\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,4],null,[[\\\"@reviewable\\\",\\\"@createdBy\\\",\\\"@tagName\\\"],[[30,1],[30,1,[\\\"target_created_by\\\"]],\\\"\\\"]],null],[1,\\\"\\\\n\\\\n        \\\"],[10,0],[14,0,\\\"post-body\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[28,[32,5],[[28,[32,6],[[30,1,[\\\"payload\\\",\\\"message_cooked\\\"]],[30,1,[\\\"cooked\\\"]]],null]],null]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,1,[\\\"payload\\\",\\\"transcript_topic_id\\\"]],[[[1,\\\"          \\\"],[10,0],[14,0,\\\"transcript\\\"],[12],[1,\\\"\\\\n            \\\"],[8,[32,0],[[24,0,\\\"btn btn-small\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"topic\\\",[28,[32,1],[\\\"-\\\",[30,1,[\\\"payload\\\",\\\"transcript_topic_id\\\"]]],null]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n              \\\"],[1,[28,[32,7],[\\\"review.transcript.view\\\"],null]],[1,\\\"\\\\n            \\\"]],[]]]]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n        \\\"],[18,2,null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@reviewable\\\",\\\"&default\\\"],false,[\\\"if\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/reviewable-chat-message.js\",\n    \"scope\": () => [_routing.LinkTo, _helper.array, _channelTitle.default, _reviewableCreatedBy.default, _reviewablePostHeader.default, _htmlSafe.default, _or.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"store\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"channel\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"channel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-composer-message-details\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _object, _service, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<ChatComposerMessageDetails>\">\n    <Styleguide::Component>\n      <ChatComposerMessageDetails @message={{this.message}} />\n    </Styleguide::Component>\n  \n    <Styleguide::Controls>\n      <Styleguide::Controls::Row @name=\"Mode\">\n        {{#if this.message.editing}}\n          <DButton @action={{this.toggleMode}} @translatedLabel=\"Reply\" />\n        {{else}}\n          <DButton @action={{this.toggleMode}} @translatedLabel=\"Editing\" />\n        {{/if}}\n      </Styleguide::Controls::Row>\n    </Styleguide::Controls>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"UdTTMEaX\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<ChatComposerMessageDetails>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@message\\\"],[[30,0,[\\\"message\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,3],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Mode\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"message\\\",\\\"editing\\\"]],[[[1,\\\"        \\\"],[8,[39,6],null,[[\\\"@action\\\",\\\"@translatedLabel\\\"],[[30,0,[\\\"toggleMode\\\"]],\\\"Reply\\\"]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"        \\\"],[8,[39,6],null,[[\\\"@action\\\",\\\"@translatedLabel\\\"],[[30,0,[\\\"toggleMode\\\"]],\\\"Editing\\\"]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/component\\\",\\\"chat-composer-message-details\\\",\\\"styleguide/controls\\\",\\\"styleguide/controls/row\\\",\\\"if\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-composer-message-details.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatComposerMessageDetails = _exports.default = (_class = class ChatStyleguideChatComposerMessageDetails extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _initializerDefineProperty(this, \"session\", _descriptor2, this);\n      _initializerDefineProperty(this, \"keyValueStore\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n    }\n    get message() {\n      return _fabricators.default.message({\n        user: this.currentUser\n      });\n    }\n    toggleMode() {\n      if (this.message.editing) {\n        this.message.editing = false;\n        this.message.inReplyTo = _fabricators.default.message();\n      } else {\n        this.message.editing = true;\n        this.message.inReplyTo = null;\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"session\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"keyValueStore\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"message\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"message\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleMode\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleMode\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatComposerMessageDetails);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-composer\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _fabricators, _chatChannel, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<ChatComposer>\">\n    <Styleguide::Component>\n      <Chat::Composer::Channel\n        @channel={{this.channel}}\n        @onSendMessage={{this.onSendMessage}}\n      />\n    </Styleguide::Component>\n  \n    <Styleguide::Controls>\n      <Styleguide::Controls::Row @name=\"Disabled\">\n        <DToggleSwitch\n          @state={{this.channel.isReadOnly}}\n          {{on \"click\" this.toggleDisabled}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Sending\">\n        <DToggleSwitch\n          @state={{this.chatChannelPane.sending}}\n          {{on \"click\" this.toggleSending}}\n        />\n      </Styleguide::Controls::Row>\n    </Styleguide::Controls>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"44rPT0VR\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<ChatComposer>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@channel\\\",\\\"@onSendMessage\\\"],[[30,0,[\\\"channel\\\"]],[30,0,[\\\"onSendMessage\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,3],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Disabled\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleDisabled\\\"]]],null]],[[\\\"@state\\\"],[[30,0,[\\\"channel\\\",\\\"isReadOnly\\\"]]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Sending\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleSending\\\"]]],null]],[[\\\"@state\\\"],[[30,0,[\\\"chatChannelPane\\\",\\\"sending\\\"]]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/component\\\",\\\"chat/composer/channel\\\",\\\"styleguide/controls\\\",\\\"styleguide/controls/row\\\",\\\"d-toggle-switch\\\",\\\"on\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-composer.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatComposer = _exports.default = (_class = class ChatStyleguideChatComposer extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatChannelComposer\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelPane\", _descriptor2, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel({\n        id: -999\n      }));\n    }\n    toggleDisabled() {\n      if (this.channel.status === _chatChannel.CHANNEL_STATUSES.open) {\n        this.channel.status = _chatChannel.CHANNEL_STATUSES.readOnly;\n      } else {\n        this.channel.status = _chatChannel.CHANNEL_STATUSES.open;\n      }\n    }\n    toggleSending() {\n      this.chatChannelPane.sending = !this.chatChannelPane.sending;\n    }\n    onSendMessage() {\n      this.chatChannelComposer.reset();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelComposer\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"toggleDisabled\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleDisabled\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleSending\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleSending\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSendMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSendMessage\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatComposer);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-header-icon\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/object\", \"discourse/plugins/chat/discourse/controllers/preferences-chat\", \"@ember/template-factory\"], function (_exports, _component, _component2, _tracking, _object, _preferencesChat, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Header::Icon>\">\n    <Styleguide::Component>\n      <header\n        class=\"d-header\"\n        style=\"display: flex; align-items: center; justify-content: center;\"\n      >\n        <ul class=\"d-header-icons\">\n          <li class=\"header-dropdown-toggle chat-header-icon\">\n            <Chat::Header::Icon\n              @isActive={{this.isActive}}\n              @currentUserInDnD={{this.currentUserInDnD}}\n              @unreadCount={{this.unreadCount}}\n              @urgentCount={{this.urgentCount}}\n              @indicatorPreference={{this.indicatorPreference}}\n            />\n          </li>\n        </ul>\n      </header>\n    </Styleguide::Component>\n  \n    <Styleguide::Controls>\n      <Styleguide::Controls::Row @name=\"isActive\">\n        <DToggleSwitch\n          @state={{this.isActive}}\n          {{on \"click\" this.toggleIsActive}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"currentUserInDnD\">\n        <DToggleSwitch\n          @state={{this.currentUserInDnD}}\n          {{on \"click\" this.toggleCurrentUserInDnD}}\n        />\n      </Styleguide::Controls::Row>\n    </Styleguide::Controls>\n    <Styleguide::Controls::Row @name=\"Unread count\">\n      <input\n        type=\"number\"\n        {{on \"input\" this.updateUnreadCount}}\n        value={{this.unreadCount}}\n      />\n    </Styleguide::Controls::Row>\n    <Styleguide::Controls::Row @name=\"Urgent count\">\n      <input\n        type=\"number\"\n        {{on \"input\" this.updateUrgentCount}}\n        value={{this.urgentCount}}\n      />\n    </Styleguide::Controls::Row>\n    <Styleguide::Controls::Row @name=\"Indicator preference\">\n      <ComboBox\n        @value={{this.indicatorPreference}}\n        @content={{this.indicatorPreferences}}\n        @onChange={{this.updateIndicatorPreference}}\n        @valueProperty={{null}}\n        @nameProperty={{null}}\n      />\n  \n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"3vsUy2AB\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Header::Icon>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[10,\\\"header\\\"],[14,0,\\\"d-header\\\"],[14,5,\\\"display: flex; align-items: center; justify-content: center;\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"ul\\\"],[14,0,\\\"d-header-icons\\\"],[12],[1,\\\"\\\\n        \\\"],[10,\\\"li\\\"],[14,0,\\\"header-dropdown-toggle chat-header-icon\\\"],[12],[1,\\\"\\\\n          \\\"],[8,[39,2],null,[[\\\"@isActive\\\",\\\"@currentUserInDnD\\\",\\\"@unreadCount\\\",\\\"@urgentCount\\\",\\\"@indicatorPreference\\\"],[[30,0,[\\\"isActive\\\"]],[30,0,[\\\"currentUserInDnD\\\"]],[30,0,[\\\"unreadCount\\\"]],[30,0,[\\\"urgentCount\\\"]],[30,0,[\\\"indicatorPreference\\\"]]]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,3],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"isActive\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleIsActive\\\"]]],null]],[[\\\"@state\\\"],[[30,0,[\\\"isActive\\\"]]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"currentUserInDnD\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleCurrentUserInDnD\\\"]]],null]],[[\\\"@state\\\"],[[30,0,[\\\"currentUserInDnD\\\"]]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n  \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Unread count\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[11,\\\"input\\\"],[16,2,[30,0,[\\\"unreadCount\\\"]]],[24,4,\\\"number\\\"],[4,[38,6],[\\\"input\\\",[30,0,[\\\"updateUnreadCount\\\"]]],null],[12],[13],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n  \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Urgent count\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[11,\\\"input\\\"],[16,2,[30,0,[\\\"urgentCount\\\"]]],[24,4,\\\"number\\\"],[4,[38,6],[\\\"input\\\",[30,0,[\\\"updateUrgentCount\\\"]]],null],[12],[13],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n  \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Indicator preference\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,7],null,[[\\\"@value\\\",\\\"@content\\\",\\\"@onChange\\\",\\\"@valueProperty\\\",\\\"@nameProperty\\\"],[[30,0,[\\\"indicatorPreference\\\"]],[30,0,[\\\"indicatorPreferences\\\"]],[30,0,[\\\"updateIndicatorPreference\\\"]],null,null]],null],[1,\\\"\\\\n\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/component\\\",\\\"chat/header/icon\\\",\\\"styleguide/controls\\\",\\\"styleguide/controls/row\\\",\\\"d-toggle-switch\\\",\\\"on\\\",\\\"combo-box\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-header-icon.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatHeaderIcon = _exports.default = (_class = class ChatStyleguideChatHeaderIcon extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"isActive\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUserInDnD\", _descriptor2, this);\n      _initializerDefineProperty(this, \"urgentCount\", _descriptor3, this);\n      _initializerDefineProperty(this, \"unreadCount\", _descriptor4, this);\n      _initializerDefineProperty(this, \"indicatorPreference\", _descriptor5, this);\n    }\n    get indicatorPreferences() {\n      return [_preferencesChat.HEADER_INDICATOR_PREFERENCE_ALL_NEW, _preferencesChat.HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS, _preferencesChat.HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS, _preferencesChat.HEADER_INDICATOR_PREFERENCE_NEVER];\n    }\n    toggleIsActive() {\n      this.isActive = !this.isActive;\n    }\n    toggleCurrentUserInDnD() {\n      this.currentUserInDnD = !this.currentUserInDnD;\n    }\n    updateUnreadCount(event) {\n      this.unreadCount = event.target.value;\n    }\n    updateUrgentCount(event) {\n      this.urgentCount = event.target.value;\n    }\n    updateIndicatorPreference(value) {\n      this.indicatorPreference = value;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"isActive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUserInDnD\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"urgentCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"unreadCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"indicatorPreference\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return _preferencesChat.HEADER_INDICATOR_PREFERENCE_ALL_NEW;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"toggleIsActive\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleIsActive\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleCurrentUserInDnD\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleCurrentUserInDnD\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateUnreadCount\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateUnreadCount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateUrgentCount\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateUrgentCount\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateIndicatorPreference\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateIndicatorPreference\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatHeaderIcon);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-message\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/application\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/lib/chat-messages-manager\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _application, _object, _service, _chatMessagesManager, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<ChatMessage>\">\n    <Styleguide::Component>\n      <ChatMessage @message={{this.message}} @context=\"channel\" />\n    </Styleguide::Component>\n  \n    <Styleguide::Controls>\n      <Styleguide::Controls::Row @name=\"Last Visit\">\n        <DToggleSwitch\n          @state={{this.message.newest}}\n          {{on \"click\" this.toggleLastVisit}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Deleted\">\n        <DToggleSwitch\n          @state={{not (not this.message.deletedAt)}}\n          {{on \"click\" this.toggleDeleted}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Bookmark\">\n        <DToggleSwitch\n          @state={{not (not this.message.bookmark)}}\n          {{on \"click\" this.toggleBookmarked}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Thread\">\n        <DToggleSwitch\n          @state={{not (not this.message.thread)}}\n          {{on \"click\" this.toggleThread}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Reactions\">\n        <DToggleSwitch\n          @state={{not (not this.message.reactions)}}\n          {{on \"click\" this.toggleReaction}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Upload\">\n        <DToggleSwitch\n          @state={{not (not this.message.uploads)}}\n          {{on \"click\" this.toggleUpload}}\n        />\n      </Styleguide::Controls::Row>\n      <Styleguide::Controls::Row @name=\"Message\">\n        <textarea\n          {{on \"input\" this.updateMessage}}\n        >{{this.message.message}}</textarea>\n      </Styleguide::Controls::Row>\n    </Styleguide::Controls>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"4ZwlpP03\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<ChatMessage>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@message\\\",\\\"@context\\\"],[[30,0,[\\\"message\\\"]],\\\"channel\\\"]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,3],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Last Visit\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleLastVisit\\\"]]],null]],[[\\\"@state\\\"],[[30,0,[\\\"message\\\",\\\"newest\\\"]]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Deleted\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleDeleted\\\"]]],null]],[[\\\"@state\\\"],[[28,[37,7],[[28,[37,7],[[30,0,[\\\"message\\\",\\\"deletedAt\\\"]]],null]],null]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Bookmark\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleBookmarked\\\"]]],null]],[[\\\"@state\\\"],[[28,[37,7],[[28,[37,7],[[30,0,[\\\"message\\\",\\\"bookmark\\\"]]],null]],null]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Thread\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleThread\\\"]]],null]],[[\\\"@state\\\"],[[28,[37,7],[[28,[37,7],[[30,0,[\\\"message\\\",\\\"thread\\\"]]],null]],null]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Reactions\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleReaction\\\"]]],null]],[[\\\"@state\\\"],[[28,[37,7],[[28,[37,7],[[30,0,[\\\"message\\\",\\\"reactions\\\"]]],null]],null]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Upload\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[39,5],[[4,[38,6],[\\\"click\\\",[30,0,[\\\"toggleUpload\\\"]]],null]],[[\\\"@state\\\"],[[28,[37,7],[[28,[37,7],[[30,0,[\\\"message\\\",\\\"uploads\\\"]]],null]],null]]],null],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[8,[39,4],null,[[\\\"@name\\\"],[\\\"Message\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[11,\\\"textarea\\\"],[4,[38,6],[\\\"input\\\",[30,0,[\\\"updateMessage\\\"]]],null],[12],[1,[30,0,[\\\"message\\\",\\\"message\\\"]]],[13],[1,\\\"\\\\n    \\\"]],[]]]]],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/component\\\",\\\"chat-message\\\",\\\"styleguide/controls\\\",\\\"styleguide/controls/row\\\",\\\"d-toggle-switch\\\",\\\"on\\\",\\\"not\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-message.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatMessage = _exports.default = (_class = class ChatStyleguideChatMessage extends _component2.default {\n    constructor() {\n      super(...arguments);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _defineProperty(this, \"manager\", new _chatMessagesManager.default((0, _application.getOwner)(this)));\n      this.message = _fabricators.default.message({\n        user: this.currentUser\n      });\n      this.message.cook();\n    }\n    toggleDeleted() {\n      if (this.message.deletedAt) {\n        this.message.deletedAt = null;\n      } else {\n        this.message.deletedAt = moment();\n      }\n    }\n    toggleBookmarked() {\n      if (this.message.bookmark) {\n        this.message.bookmark = null;\n      } else {\n        this.message.bookmark = _fabricators.default.bookmark();\n      }\n    }\n    toggleHighlighted() {\n      this.message.highlighted = !this.message.highlighted;\n    }\n    toggleEdited() {\n      this.message.edited = !this.message.edited;\n    }\n    toggleLastVisit() {\n      this.message.newest = !this.message.newest;\n    }\n    toggleThread() {\n      if (this.message.thread) {\n        this.message.channel.threadingEnabled = false;\n        this.message.thread = null;\n      } else {\n        this.message.thread = _fabricators.default.thread({\n          channel: this.message.channel\n        });\n        this.message.thread.preview.replyCount = 1;\n        this.message.channel.threadingEnabled = true;\n      }\n    }\n    async updateMessage(event) {\n      this.message.message = event.target.value;\n      await this.message.cook();\n    }\n    toggleReaction() {\n      if (this.message.reactions?.length) {\n        this.message.reactions = [];\n      } else {\n        this.message.reactions = [_fabricators.default.reaction({\n          emoji: \"heart\"\n        }), _fabricators.default.reaction({\n          emoji: \"rocket\",\n          reacted: true\n        })];\n      }\n    }\n    toggleUpload() {\n      if (this.message.uploads?.length) {\n        this.message.uploads = [];\n      } else {\n        this.message.uploads = [_fabricators.default.upload(), _fabricators.default.upload()];\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"toggleDeleted\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleDeleted\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleBookmarked\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleBookmarked\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleHighlighted\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleHighlighted\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleEdited\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleEdited\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleLastVisit\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleLastVisit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleThread\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleThread\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleReaction\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleReaction\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleUpload\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleUpload\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatMessage);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-archive-channel\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/archive-channel\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _archiveChannel, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::ArchiveChannel>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"6txBnytZ\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::ArchiveChannel>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-archive-channel.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalArchiveChannel = _exports.default = (_class = class ChatStyleguideChatModalArchiveChannel extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel());\n    }\n    openModal() {\n      return this.modal.show(_archiveChannel.default, {\n        model: {\n          channel: this.channel\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalArchiveChannel);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-channel-summary\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/channel-summary\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _channelSummary, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::ChannelSummary>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"9Nkr9oRZ\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::ChannelSummary>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-channel-summary.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalChannelSummary = _exports.default = (_class = class ChatStyleguideChatModalChannelSummary extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n    }\n    openModal() {\n      return this.modal.show(_channelSummary.default, {\n        model: {\n          channelId: _fabricators.default.channel().id\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalChannelSummary);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-create-channel\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/create-channel\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _createChannel, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::CreateChannel>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"W0WNy+Vl\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::CreateChannel>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-create-channel.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalCreateChannel = _exports.default = (_class = class ChatStyleguideChatModalCreateChannel extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n    }\n    openModal() {\n      return this.modal.show(_createChannel.default);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalCreateChannel);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-delete-channel\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/delete-channel\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _deleteChannel, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::DeleteChannel>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"RePA6/AH\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::DeleteChannel>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-delete-channel.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalDeleteChannel = _exports.default = (_class = class ChatStyleguideChatModalDeleteChannel extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel());\n    }\n    openModal() {\n      return this.modal.show(_deleteChannel.default, {\n        model: {\n          channel: this.channel\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalDeleteChannel);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-description\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-description\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _editChannelDescription, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::EditChannelDescription>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"3ae/A2qR\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::EditChannelDescription>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-description.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalEditChannelDescription = _exports.default = (_class = class ChatStyleguideChatModalEditChannelDescription extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel());\n    }\n    openModal() {\n      return this.modal.show(_editChannelDescription.default, {\n        model: this.channel\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalEditChannelDescription);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-name\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/edit-channel-name\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _editChannelName, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::EditChannelName>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"ilAVl2Kg\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::EditChannelName>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-name.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalEditChannelName = _exports.default = (_class = class ChatStyleguideChatModalEditChannelName extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel());\n    }\n    openModal() {\n      return this.modal.show(_editChannelName.default, {\n        model: this.channel\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalEditChannelName);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-move-message-to-channel\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/move-message-to-channel\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _moveMessageToChannel, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::MoveMessageToChannel>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"ATPl85dR\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::MoveMessageToChannel>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-move-message-to-channel.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalMoveMessageToChannel = _exports.default = (_class = class ChatStyleguideChatModalMoveMessageToChannel extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n      _defineProperty(this, \"channel\", _fabricators.default.channel());\n      _defineProperty(this, \"selectedMessageIds\", [_fabricators.default.message({\n        channel: this.channel\n      })].mapBy(\"id\"));\n    }\n    openModal() {\n      return this.modal.show(_moveMessageToChannel.default, {\n        model: {\n          sourceChannel: this.channel,\n          selectedMessageIds: [_fabricators.default.message({\n            channel: this.channel\n          })].mapBy(\"id\")\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalMoveMessageToChannel);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-new-message\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/new-message\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _newMessage, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::NewMessage>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"tf8RWlBH\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::NewMessage>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-new-message.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalNewMessage = _exports.default = (_class = class ChatStyleguideChatModalNewMessage extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n    }\n    openModal() {\n      return this.modal.show(_newMessage.default);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalNewMessage);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-thread-settings\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/thread-settings\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _threadSettings, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::ThreadSettings>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"fzsrgZZ3\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::ThreadSettings>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-thread-settings.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalThreadSettings = _exports.default = (_class = class ChatStyleguideChatModalThreadSettings extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n    }\n    openModal() {\n      return this.modal.show(_threadSettings.default, {\n        model: _fabricators.default.thread()\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalThreadSettings);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-modal-toggle-channel-status\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/object\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/modal/toggle-channel-status\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _object, _service, _toggleChannelStatus, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::Modal::ToggleChannelStatus>\">\n    <Styleguide::Controls::Row>\n      <DButton @translatedLabel=\"Open modal\" @action={{this.openModal}} />\n    </Styleguide::Controls::Row>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"h5sT+PPJ\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::Modal::ToggleChannelStatus>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@translatedLabel\\\",\\\"@action\\\"],[\\\"Open modal\\\",[30,0,[\\\"openModal\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/controls/row\\\",\\\"d-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-toggle-channel-status.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatModalToggleChannelStatus = _exports.default = (_class = class ChatStyleguideChatModalToggleChannelStatus extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"modal\", _descriptor, this);\n    }\n    openModal() {\n      return this.modal.show(_toggleChannelStatus.default, {\n        model: _fabricators.default.channel()\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"openModal\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openModal\"), _class.prototype)), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatModalToggleChannelStatus);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/chat-thread-list-item\", [\"exports\", \"@ember/component\", \"@glimmer/component\", \"@ember/service\", \"discourse/plugins/chat/discourse/lib/fabricators\", \"@ember/template-factory\"], function (_exports, _component, _component2, _service, _fabricators, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <StyleguideExample @title=\"<Chat::ThreadList::Item>\">\n    <Styleguide::Component>\n      <Chat::ThreadList::Item @thread={{this.thread}} />\n    </Styleguide::Component>\n  </StyleguideExample>\n  */\n  {\n    \"id\": \"lR91t83a\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@title\\\"],[\\\"<Chat::ThreadList::Item>\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n  \\\"],[8,[39,1],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n    \\\"],[8,[39,2],null,[[\\\"@thread\\\"],[[30,0,[\\\"thread\\\"]]]],null],[1,\\\"\\\\n  \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]]]]],[],false,[\\\"styleguide-example\\\",\\\"styleguide/component\\\",\\\"chat/thread-list/item\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/styleguide/chat-thread-list-item.hbs\",\n    \"isStrictMode\": false\n  });\n  let ChatStyleguideChatThreadListItem = _exports.default = (_class = class ChatStyleguideChatThreadListItem extends _component2.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _defineProperty(this, \"thread\", _fabricators.default.thread());\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, ChatStyleguideChatThreadListItem);\n});","define(\"discourse/plugins/chat/discourse/components/styleguide/organisms/chat\", [\"exports\", \"discourse/plugins/chat/discourse/components/styleguide/chat-composer\", \"discourse/plugins/chat/discourse/components/styleguide/chat-composer-message-details\", \"discourse/plugins/chat/discourse/components/styleguide/chat-header-icon\", \"discourse/plugins/chat/discourse/components/styleguide/chat-message\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-archive-channel\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-channel-summary\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-create-channel\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-delete-channel\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-description\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-edit-channel-name\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-move-message-to-channel\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-new-message\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-thread-settings\", \"discourse/plugins/chat/discourse/components/styleguide/chat-modal-toggle-channel-status\", \"discourse/plugins/chat/discourse/components/styleguide/chat-thread-list-item\", \"@ember/template-factory\", \"@ember/component\", \"@ember/component/template-only\"], function (_exports, _chatComposer, _chatComposerMessageDetails, _chatHeaderIcon, _chatMessage, _chatModalArchiveChannel, _chatModalChannelSummary, _chatModalCreateChannel, _chatModalDeleteChannel, _chatModalEditChannelDescription, _chatModalEditChannelName, _chatModalMoveMessageToChannel, _chatModalNewMessage, _chatModalThreadSettings, _chatModalToggleChannelStatus, _chatThreadListItem, _templateFactory, _component, _templateOnly) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const ChatOrganism = (0, _component.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n    <ChatMessage />\n    <ChatComposer />\n    <ChatThreadListItem />\n    <ChatComposerMessageDetails />\n    <ChatHeaderIcon />\n  \n    <h2>Modals</h2>\n  \n    <ChatModalArchiveChannel />\n    <ChatModalMoveMessageToChannel />\n    <ChatModalDeleteChannel />\n    <ChatModalEditChannelDescription />\n    <ChatModalEditChannelName />\n    <ChatModalThreadSettings />\n    <ChatModalCreateChannel />\n    <ChatModalToggleChannelStatus />\n    <ChatModalNewMessage />\n    <ChatModalChannelSummary />\n  \n  */\n  {\n    \"id\": \"0Q5u6U/P\",\n    \"block\": \"[[[1,\\\"\\\\n  \\\"],[8,[32,0],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,1],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,2],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,3],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,4],null,null,null],[1,\\\"\\\\n\\\\n  \\\"],[10,\\\"h2\\\"],[12],[1,\\\"Modals\\\"],[13],[1,\\\"\\\\n\\\\n  \\\"],[8,[32,5],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,6],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,7],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,8],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,9],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,10],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,11],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,12],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,13],null,null,null],[1,\\\"\\\\n  \\\"],[8,[32,14],null,null,null],[1,\\\"\\\\n\\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/styleguide/organisms/chat.js\",\n    \"scope\": () => [_chatMessage.default, _chatComposer.default, _chatThreadListItem.default, _chatComposerMessageDetails.default, _chatHeaderIcon.default, _chatModalArchiveChannel.default, _chatModalMoveMessageToChannel.default, _chatModalDeleteChannel.default, _chatModalEditChannelDescription.default, _chatModalEditChannelName.default, _chatModalThreadSettings.default, _chatModalCreateChannel.default, _chatModalToggleChannelStatus.default, _chatModalNewMessage.default, _chatModalChannelSummary.default],\n    \"isStrictMode\": true\n  }), (0, _templateOnly.default)());\n  var _default = _exports.default = ChatOrganism;\n});","define(\"discourse/plugins/chat/discourse/components/thread-title/index\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"@ember/template\", \"discourse/helpers/replace-emoji\", \"discourse/lib/utilities\", \"discourse/plugins/chat/discourse/components/thread-unread-indicator\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _template, _replaceEmoji, _utilities, _threadUnreadIndicator, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatThreadTitle extends _component.default {\n    get title() {\n      if (this.args.thread.title) {\n        return (0, _replaceEmoji.default)((0, _template.htmlSafe)((0, _utilities.escapeExpression)(this.args.thread.title)));\n      } else {\n        return (0, _replaceEmoji.default)((0, _template.htmlSafe)(this.args.thread.originalMessage.excerpt));\n      }\n    }\n  }\n  _exports.default = ChatThreadTitle;\n  _class = ChatThreadTitle;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <div class=\"chat__thread-title-container\">\n        <div class=\"chat__thread-title\">\n          <LinkTo\n            class=\"chat__thread-title__name\"\n            @route=\"chat.channel.thread\"\n            @models={{@thread.routeModels}}\n          >\n            {{this.title}}\n          </LinkTo>\n  \n          <ThreadUnreadIndicator @thread={{@thread}} />\n        </div>\n      </div>\n    \n  */\n  {\n    \"id\": \"+bZ4ABor\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"chat__thread-title-container\\\"],[12],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"chat__thread-title\\\"],[12],[1,\\\"\\\\n        \\\"],[8,[32,0],[[24,0,\\\"chat__thread-title__name\\\"]],[[\\\"@route\\\",\\\"@models\\\"],[\\\"chat.channel.thread\\\",[30,1,[\\\"routeModels\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"title\\\"]]],[1,\\\"\\\\n        \\\"]],[]]]]],[1,\\\"\\\\n\\\\n        \\\"],[8,[32,1],null,[[\\\"@thread\\\"],[[30,1]]],null],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[\\\"@thread\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/thread-title/index.js\",\n    \"scope\": () => [_routing.LinkTo, _threadUnreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/thread-unread-indicator/index\", [\"exports\", \"@glimmer/component\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatThreadUnreadIndicator extends _component.default {\n    get unreadCount() {\n      return this.args.thread.tracking.unreadCount;\n    }\n    get showUnreadIndicator() {\n      return this.unreadCount > 0;\n    }\n    get unreadCountLabel() {\n      return this.unreadCount > 99 ? \"99+\" : this.unreadCount;\n    }\n  }\n  _exports.default = ChatThreadUnreadIndicator;\n  _class = ChatThreadUnreadIndicator;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if this.showUnreadIndicator}}\n        <div class=\"chat-thread-list-item-unread-indicator\">\n          <div class=\"chat-thread-list-item-unread-indicator__number\">\n            {{this.unreadCountLabel}}\n          </div>\n        </div>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"eQU4Vn+R\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"showUnreadIndicator\\\"]],[[[1,\\\"      \\\"],[10,0],[14,0,\\\"chat-thread-list-item-unread-indicator\\\"],[12],[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"chat-thread-list-item-unread-indicator__number\\\"],[12],[1,\\\"\\\\n          \\\"],[1,[30,0,[\\\"unreadCountLabel\\\"]]],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"  \\\"]],[],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/thread-unread-indicator/index.js\",\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/components/toggle-channel-membership-button\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/helper\", \"@ember/object\", \"@ember/service\", \"discourse/components/d-button\", \"discourse/components/plugin-outlet\", \"discourse/helpers/concat-class\", \"discourse/lib/ajax-error\", \"discourse-i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _helper, _object, _service, _dButton, _pluginOutlet, _concatClass, _ajaxError, _discourseI18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ToggleChannelMembershipButton = _exports.default = (_class = (_class2 = class ToggleChannelMembershipButton extends _component.default {\n    constructor() {\n      super(...arguments);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"isLoading\", _descriptor3, this);\n      _defineProperty(this, \"options\", {});\n      this.options = {\n        labelType: \"normal\",\n        joinTitle: _discourseI18n.default.t(\"chat.channel_settings.join_channel\"),\n        joinIcon: \"\",\n        joinClass: \"\",\n        leaveTitle: _discourseI18n.default.t(\"chat.channel_settings.leave_channel\"),\n        leaveIcon: \"\",\n        leaveClass: \"\",\n        ...this.args.options\n      };\n    }\n    get label() {\n      if (this.options.labelType === \"none\") {\n        return \"\";\n      }\n      if (this.options.labelType === \"short\") {\n        if (this.args.channel.currentUserMembership.following) {\n          return _discourseI18n.default.t(\"chat.channel_settings.leave\");\n        } else {\n          return _discourseI18n.default.t(\"chat.channel_settings.join\");\n        }\n      }\n      if (this.args.channel.currentUserMembership.following) {\n        return _discourseI18n.default.t(\"chat.channel_settings.leave_channel\");\n      } else {\n        return _discourseI18n.default.t(\"chat.channel_settings.join_channel\");\n      }\n    }\n    onJoinChannel() {\n      this.isLoading = true;\n      return this.chat.followChannel(this.args.channel).then(() => {\n        this.args.onJoin?.(this.args.channel);\n      }).catch(_ajaxError.popupAjaxError).finally(() => {\n        if (this.isDestroying || this.isDestroyed) {\n          return;\n        }\n        this.isLoading = false;\n      });\n    }\n    async onLeaveChannel() {\n      this.isLoading = true;\n      try {\n        if (this.args.channel.chatable.group) {\n          await this.chatApi.leaveChannel(this.args.channel.id);\n        } else {\n          await this.chat.unfollowChannel(this.args.channel);\n        }\n        this.args.onLeave?.(this.args.channel);\n      } catch (error1) {\n        (0, _ajaxError.popupAjaxError)(error1);\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      {{#if @channel.currentUserMembership.following}}\n        <DButton\n          @action={{this.onLeaveChannel}}\n          @translatedLabel={{this.label}}\n          @translatedTitle={{this.options.leaveTitle}}\n          @icon={{this.options.leaveIcon}}\n          @disabled={{this.isLoading}}\n          class={{concatClass\n            \"toggle-channel-membership-button -leave\"\n            this.options.leaveClass\n          }}\n        />\n      {{else}}\n        <PluginOutlet\n          @name=\"chat-join-channel-button\"\n          @outletArgs={{hash\n            onJoinChannel=this.onJoinChannel\n            channel=@channel\n            icon=this.options.joinIcon\n            title=this.options.joinTitle\n            label=this.label\n            disabled=this.isLoading\n          }}\n          @defaultGlimmer={{true}}\n        >\n          <DButton\n            @action={{this.onJoinChannel}}\n            @translatedLabel={{this.label}}\n            @translatedTitle={{this.options.joinTitle}}\n            @icon={{this.options.joinIcon}}\n            @disabled={{this.isLoading}}\n            class={{concatClass\n              \"toggle-channel-membership-button -join\"\n              this.options.joinClass\n            }}\n          />\n        </PluginOutlet>\n      {{/if}}\n    \n  */\n  {\n    \"id\": \"FWAfHbQm\",\n    \"block\": \"[[[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"currentUserMembership\\\",\\\"following\\\"]],[[[1,\\\"      \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"toggle-channel-membership-button -leave\\\",[30,0,[\\\"options\\\",\\\"leaveClass\\\"]]],null]]],[[\\\"@action\\\",\\\"@translatedLabel\\\",\\\"@translatedTitle\\\",\\\"@icon\\\",\\\"@disabled\\\"],[[30,0,[\\\"onLeaveChannel\\\"]],[30,0,[\\\"label\\\"]],[30,0,[\\\"options\\\",\\\"leaveTitle\\\"]],[30,0,[\\\"options\\\",\\\"leaveIcon\\\"]],[30,0,[\\\"isLoading\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"      \\\"],[8,[32,2],null,[[\\\"@name\\\",\\\"@outletArgs\\\",\\\"@defaultGlimmer\\\"],[\\\"chat-join-channel-button\\\",[28,[32,3],null,[[\\\"onJoinChannel\\\",\\\"channel\\\",\\\"icon\\\",\\\"title\\\",\\\"label\\\",\\\"disabled\\\"],[[30,0,[\\\"onJoinChannel\\\"]],[30,1],[30,0,[\\\"options\\\",\\\"joinIcon\\\"]],[30,0,[\\\"options\\\",\\\"joinTitle\\\"]],[30,0,[\\\"label\\\"]],[30,0,[\\\"isLoading\\\"]]]]],true]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[8,[32,0],[[16,0,[28,[32,1],[\\\"toggle-channel-membership-button -join\\\",[30,0,[\\\"options\\\",\\\"joinClass\\\"]]],null]]],[[\\\"@action\\\",\\\"@translatedLabel\\\",\\\"@translatedTitle\\\",\\\"@icon\\\",\\\"@disabled\\\"],[[30,0,[\\\"onJoinChannel\\\"]],[30,0,[\\\"label\\\"]],[30,0,[\\\"options\\\",\\\"joinTitle\\\"]],[30,0,[\\\"options\\\",\\\"joinIcon\\\"]],[30,0,[\\\"isLoading\\\"]]]],null],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"]],[\\\"@channel\\\"],false,[\\\"if\\\"]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/toggle-channel-membership-button.js\",\n    \"scope\": () => [_dButton.default, _concatClass.default, _pluginOutlet.default, _helper.hash],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"isLoading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"onJoinChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onJoinChannel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onLeaveChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onLeaveChannel\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/components/user-menu/chat-notifications-list-empty-state\", [\"exports\", \"@ember/component\", \"@ember/component/template-only\", \"@ember/template-factory\"], function (_exports, _component, _templateOnly, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const __COLOCATED_TEMPLATE__ = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"empty-state\">\n    <span class=\"empty-state-title\">\n      {{i18n \"user_menu.no_chat_notifications_title\"}}\n    </span>\n    <div class=\"empty-state-body\">\n      <p>\n        {{html-safe\n          (i18n\n            \"user_menu.no_chat_notifications_body\"\n            preferencesUrl=(get-url \"/my/preferences/notifications\")\n          )\n        }}\n      </p>\n    </div>\n  </div>\n  */\n  {\n    \"id\": \"O6dDc9NT\",\n    \"block\": \"[[[10,0],[14,0,\\\"empty-state\\\"],[12],[1,\\\"\\\\n  \\\"],[10,1],[14,0,\\\"empty-state-title\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"user_menu.no_chat_notifications_title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n  \\\"],[10,0],[14,0,\\\"empty-state-body\\\"],[12],[1,\\\"\\\\n    \\\"],[10,2],[12],[1,\\\"\\\\n      \\\"],[1,[28,[35,1],[[28,[37,0],[\\\"user_menu.no_chat_notifications_body\\\"],[[\\\"preferencesUrl\\\"],[[28,[37,2],[\\\"/my/preferences/notifications\\\"],null]]]]],null]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"],[13]],[],false,[\\\"i18n\\\",\\\"html-safe\\\",\\\"get-url\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/components/user-menu/chat-notifications-list-empty-state.hbs\",\n    \"isStrictMode\": false\n  });\n  var _default = _exports.default = (0, _component.setComponentTemplate)(__COLOCATED_TEMPLATE__, (0, _templateOnly.default)());\n});","define(\"discourse/plugins/chat/discourse/components/user-menu/chat-notifications-list\", [\"exports\", \"discourse/components/user-menu/notifications-list\"], function (_exports, _notificationsList) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class UserMenuChatNotificationsList extends _notificationsList.default {\n    get dismissTypes() {\n      return this.filterByTypes;\n    }\n    get emptyStateComponent() {\n      return \"user-menu/chat-notifications-list-empty-state\";\n    }\n  }\n  _exports.default = UserMenuChatNotificationsList;\n});","define(\"discourse/plugins/chat/discourse/components/user-threads/index\", [\"exports\", \"@glimmer/component\", \"@glimmer/tracking\", \"@ember/service\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/components/channel-title\", \"discourse/plugins/chat/discourse/components/chat/list\", \"discourse/plugins/chat/discourse/components/chat-message-thread-indicator\", \"discourse/plugins/chat/discourse/components/thread-title\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"discourse/plugins/chat/discourse/models/chat-thread\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _tracking, _service, _decorators, _channelTitle, _list, _chatMessageThreadIndicator, _threadTitle, _chatChannel, _chatThread, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _class2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let UserThreads = _exports.default = (_class = (_class2 = class UserThreads extends _component.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n    }\n    get threadsCollection() {\n      return this.chatApi.userThreads(this.handleLoadedThreads);\n    }\n    handleLoadedThreads(result1) {\n      return result1.threads.map(threadObject1 => {\n        const channel1 = _chatChannel.default.create(threadObject1.channel);\n        const thread1 = _chatThread.default.create(channel1, threadObject1);\n        const tracking1 = result1.tracking[thread1.id];\n        if (tracking1) {\n          thread1.tracking.mentionCount = tracking1.mention_count;\n          thread1.tracking.unreadCount = tracking1.unread_count;\n        }\n        return thread1;\n      });\n    }\n  }, (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <List\n        @collection={{this.threadsCollection}}\n        class=\"c-user-threads\"\n        as |list|\n      >\n        <list.Item as |thread|>\n          <div class=\"c-user-thread\" data-id={{thread.id}}>\n            <ThreadTitle @thread={{thread}} />\n            <ChannelTitle @channel={{thread.channel}} />\n            <ThreadIndicator\n              @message={{thread.originalMessage}}\n              @interactiveUser={{false}}\n              @interactiveThread={{false}}\n              tabindex=\"-1\"\n            />\n          </div>\n        </list.Item>\n      </List>\n    \n  */\n  {\n    \"id\": \"jbRMEIF1\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[8,[32,0],[[24,0,\\\"c-user-threads\\\"]],[[\\\"@collection\\\"],[[30,0,[\\\"threadsCollection\\\"]]]],[[\\\"default\\\"],[[[[1,\\\"\\\\n      \\\"],[8,[30,1,[\\\"Item\\\"]],null,null,[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[10,0],[14,0,\\\"c-user-thread\\\"],[15,\\\"data-id\\\",[30,2,[\\\"id\\\"]]],[12],[1,\\\"\\\\n          \\\"],[8,[32,1],null,[[\\\"@thread\\\"],[[30,2]]],null],[1,\\\"\\\\n          \\\"],[8,[32,2],null,[[\\\"@channel\\\"],[[30,2,[\\\"channel\\\"]]]],null],[1,\\\"\\\\n          \\\"],[8,[32,3],[[24,\\\"tabindex\\\",\\\"-1\\\"]],[[\\\"@message\\\",\\\"@interactiveUser\\\",\\\"@interactiveThread\\\"],[[30,2,[\\\"originalMessage\\\"]],false,false]],null],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n      \\\"]],[2]]]]],[1,\\\"\\\\n    \\\"]],[1]]]]],[1,\\\"\\\\n  \\\"]],[\\\"list\\\",\\\"thread\\\"],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/components/user-threads/index.js\",\n    \"scope\": () => [_list.default, _threadTitle.default, _channelTitle.default, _chatMessageThreadIndicator.default],\n    \"isStrictMode\": true\n  }), _class2), _class2), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"threadsCollection\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"threadsCollection\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleLoadedThreads\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleLoadedThreads\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/connectors/user-preferences-nav/chat-preferences\", [\"exports\", \"@glimmer/component\", \"@ember/routing\", \"discourse-common/helpers/d-icon\", \"discourse-common/helpers/i18n\", \"@ember/template-factory\", \"@ember/component\"], function (_exports, _component, _routing, _dIcon, _i18n, _templateFactory, _component2) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  class ChatPreferences extends _component.default {\n    static shouldRender({\n      model: model1\n    }, {\n      siteSettings: siteSettings1,\n      currentUser: currentUser1\n    }) {\n      return siteSettings1.chat_enabled && (model1.can_chat || currentUser1?.admin);\n    }\n  }\n  _exports.default = ChatPreferences;\n  _class = ChatPreferences;\n  (0, _component2.setComponentTemplate)((0, _templateFactory.createTemplateFactory)(\n  /*\n    \n      <li class=\"user-nav__preferences-chat\">\n        <LinkTo @route=\"preferences.chat\">\n          {{dIcon \"d-chat\"}}\n          <span>{{i18n \"chat.title_capitalized\"}}</span>\n        </LinkTo>\n      </li>\n    \n  */\n  {\n    \"id\": \"Ni8z2x92\",\n    \"block\": \"[[[1,\\\"\\\\n    \\\"],[10,\\\"li\\\"],[14,0,\\\"user-nav__preferences-chat\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[32,0],null,[[\\\"@route\\\"],[\\\"preferences.chat\\\"]],[[\\\"default\\\"],[[[[1,\\\"\\\\n        \\\"],[1,[28,[32,1],[\\\"d-chat\\\"],null]],[1,\\\"\\\\n        \\\"],[10,1],[12],[1,[28,[32,2],[\\\"chat.title_capitalized\\\"],null]],[13],[1,\\\"\\\\n      \\\"]],[]]]]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"]],[],false,[]]\",\n    \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/connectors/user-preferences-nav/chat-preferences.js\",\n    \"scope\": () => [_routing.LinkTo, _dIcon.default, _i18n.default],\n    \"isStrictMode\": true\n  }), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/admin-plugins-chat\", [\"exports\", \"@ember/controller\", \"@ember/object\", \"@ember/object/computed\", \"@ember/service\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse-i18n\"], function (_exports, _controller, _object, _computed, _service, _ajax, _ajaxError, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _dec3, _dec4, _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let AdminPluginsChatController = _exports.default = (_dec = (0, _computed.and)(\"newWebhookName\", \"newWebhookChannelId\"), _dec2 = (0, _object.computed)(\"model.incoming_chat_webhooks.@each.updated_at\"), _dec3 = (0, _object.computed)(\"selectedWebhookId\"), _dec4 = (0, _object.computed)(\"selectedWebhook.name\", \"selectedWebhook.chat_channel.id\"), (_class = class AdminPluginsChatController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"dialog\", _descriptor, this);\n      _defineProperty(this, \"queryParams\", [{\n        selectedWebhookId: \"id\"\n      }]);\n      _defineProperty(this, \"loading\", false);\n      _defineProperty(this, \"creatingNew\", false);\n      _defineProperty(this, \"newWebhookName\", \"\");\n      _defineProperty(this, \"newWebhookChannelId\", null);\n      _defineProperty(this, \"emojiPickerIsActive\", false);\n      _initializerDefineProperty(this, \"nameAndChannelValid\", _descriptor2, this);\n    }\n    get sortedWebhooks() {\n      return this.model.incoming_chat_webhooks?.sortBy(\"updated_at\").reverse() || [];\n    }\n    get selectedWebhook() {\n      if (!this.selectedWebhookId) {\n        return;\n      }\n      const id = parseInt(this.selectedWebhookId, 10);\n      return this.model.incoming_chat_webhooks.findBy(\"id\", id);\n    }\n    get saveEditDisabled() {\n      return !this.selectedWebhook.name || !this.selectedWebhook.chat_channel.id;\n    }\n    createNewWebhook() {\n      if (this.loading) {\n        return;\n      }\n      this.set(\"loading\", true);\n      const data = {\n        name: this.newWebhookName,\n        chat_channel_id: this.newWebhookChannelId\n      };\n      return (0, _ajax.ajax)(\"/admin/plugins/chat/hooks\", {\n        data,\n        type: \"POST\"\n      }).then(webhook => {\n        const newWebhook = _object.default.create(webhook);\n        this.set(\"model.incoming_chat_webhooks\", [newWebhook].concat(this.model.incoming_chat_webhooks));\n        this.resetNewWebhook();\n        this.setProperties({\n          loading: false,\n          selectedWebhookId: newWebhook.id\n        });\n      }).catch(_ajaxError.popupAjaxError);\n    }\n    resetNewWebhook() {\n      this.setProperties({\n        creatingNew: false,\n        newWebhookName: \"\",\n        newWebhookChannelId: null\n      });\n    }\n    destroyWebhook(webhook) {\n      this.dialog.deleteConfirm({\n        message: _discourseI18n.default.t(\"chat.incoming_webhooks.confirm_destroy\"),\n        didConfirm: () => {\n          this.set(\"loading\", true);\n          return (0, _ajax.ajax)(`/admin/plugins/chat/hooks/${webhook.id}`, {\n            type: \"DELETE\"\n          }).then(() => {\n            this.model.incoming_chat_webhooks.removeObject(webhook);\n            this.set(\"loading\", false);\n          }).catch(_ajaxError.popupAjaxError);\n        }\n      });\n    }\n    emojiSelected(emoji) {\n      this.selectedWebhook.set(\"emoji\", `:${emoji}:`);\n      return this.set(\"emojiPickerIsActive\", false);\n    }\n    saveEdit() {\n      this.set(\"loading\", true);\n      const data = {\n        name: this.selectedWebhook.name,\n        chat_channel_id: this.selectedWebhook.chat_channel.id,\n        description: this.selectedWebhook.description,\n        emoji: this.selectedWebhook.emoji,\n        username: this.selectedWebhook.username\n      };\n      return (0, _ajax.ajax)(`/admin/plugins/chat/hooks/${this.selectedWebhook.id}`, {\n        data,\n        type: \"PUT\"\n      }).then(() => {\n        this.selectedWebhook.set(\"updated_at\", new Date());\n        this.setProperties({\n          loading: false,\n          selectedWebhookId: null\n        });\n      }).catch(_ajaxError.popupAjaxError);\n    }\n    changeChatChannel(chatChannelId) {\n      this.selectedWebhook.set(\"chat_channel\", this.model.chat_channels.findBy(\"id\", chatChannelId));\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"nameAndChannelValid\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"sortedWebhooks\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"sortedWebhooks\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectedWebhook\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"selectedWebhook\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"saveEditDisabled\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"saveEditDisabled\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"createNewWebhook\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"createNewWebhook\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetNewWebhook\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"resetNewWebhook\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"destroyWebhook\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"destroyWebhook\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"emojiSelected\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"emojiSelected\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"saveEdit\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"saveEdit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"changeChatChannel\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"changeChatChannel\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/controllers/chat-channel-index\", [\"exports\", \"@ember/controller\"], function (_exports, _controller) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class ChatChannelIndexController extends _controller.default {}\n  _exports.default = ChatChannelIndexController;\n});","define(\"discourse/plugins/chat/discourse/controllers/chat-channel-thread\", [\"exports\", \"@glimmer/tracking\", \"@ember/controller\", \"@ember/service\"], function (_exports, _tracking, _controller, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelThreadController = _exports.default = (_class = class ChatChannelThreadController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"targetMessageId\", _descriptor2, this);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"targetMessageId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/chat-channel\", [\"exports\", \"@glimmer/tracking\", \"@ember/controller\", \"@ember/service\"], function (_exports, _tracking, _controller, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelController = _exports.default = (_class = class ChatChannelController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"targetMessageId\", _descriptor2, this);\n      // Backwards-compatibility\n      _defineProperty(this, \"queryParams\", [\"messageId\"]);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"targetMessageId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/chat-draft-channel\", [\"exports\", \"@ember/controller\", \"@ember/service\"], function (_exports, _controller, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDraftChannelController = _exports.default = (_class = class ChatDraftChannelController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/chat-index\", [\"exports\", \"@ember/controller\", \"@ember/service\"], function (_exports, _controller, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatIndexController = _exports.default = (_class = class ChatIndexController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/chat\", [\"exports\", \"@ember/controller\", \"@ember/service\"], function (_exports, _controller, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatController = _exports.default = (_class = class ChatController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n    }\n    get shouldUseChatSidebar() {\n      if (this.site.mobileView) {\n        return false;\n      }\n      if (this.shouldUseCoreSidebar) {\n        return false;\n      }\n      return true;\n    }\n    get shouldUseCoreSidebar() {\n      return this.siteSettings.navigation_menu === \"sidebar\";\n    }\n    get mainOutletModifierClasses() {\n      let modifierClasses = [];\n      if (this.chatStateManager.isSidePanelExpanded) {\n        modifierClasses.push(\"has-side-panel-expanded\");\n      }\n      if (!this.router.currentRouteName.startsWith(\"chat.channel.info\") && !this.router.currentRouteName.startsWith(\"chat.browse\")) {\n        modifierClasses.push(\"chat-view\");\n      }\n      return modifierClasses.join(\" \");\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/controllers/preferences-chat\", [\"exports\", \"@ember/controller\", \"@ember/object\", \"@ember/service\", \"discourse/lib/ajax-error\", \"discourse-common/config/environment\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/services/chat-audio-manager\"], function (_exports, _controller, _object, _service, _ajaxError, _environment, _decorators, _discourseI18n, _chatAudioManager) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS = _exports.HEADER_INDICATOR_PREFERENCE_NEVER = _exports.HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS = _exports.HEADER_INDICATOR_PREFERENCE_ALL_NEW = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const CHAT_ATTRS = [\"chat_enabled\", \"only_chat_push_notifications\", \"ignore_channel_wide_mention\", \"chat_sound\", \"chat_email_frequency\", \"chat_header_indicator_preference\", \"chat_separate_sidebar_mode\"];\n  const EMAIL_FREQUENCY_OPTIONS = [{\n    name: _discourseI18n.default.t(\"chat.email_frequency.never\"),\n    value: \"never\"\n  }, {\n    name: _discourseI18n.default.t(\"chat.email_frequency.when_away\"),\n    value: \"when_away\"\n  }];\n  const HEADER_INDICATOR_PREFERENCE_NEVER = _exports.HEADER_INDICATOR_PREFERENCE_NEVER = \"never\";\n  const HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS = _exports.HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS = \"dm_and_mentions\";\n  const HEADER_INDICATOR_PREFERENCE_ALL_NEW = _exports.HEADER_INDICATOR_PREFERENCE_ALL_NEW = \"all_new\";\n  const HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS = _exports.HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS = \"only_mentions\";\n  const HEADER_INDICATOR_OPTIONS = [{\n    name: _discourseI18n.default.t(\"chat.header_indicator_preference.all_new\"),\n    value: HEADER_INDICATOR_PREFERENCE_ALL_NEW\n  }, {\n    name: _discourseI18n.default.t(\"chat.header_indicator_preference.dm_and_mentions\"),\n    value: HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS\n  }, {\n    name: _discourseI18n.default.t(\"chat.header_indicator_preference.only_mentions\"),\n    value: HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS\n  }, {\n    name: _discourseI18n.default.t(\"chat.header_indicator_preference.never\"),\n    value: HEADER_INDICATOR_PREFERENCE_NEVER\n  }];\n  const CHAT_SEPARATE_SIDEBAR_MODE_OPTIONS = [{\n    name: _discourseI18n.default.t(\"admin.site_settings.chat_separate_sidebar_mode.always\"),\n    value: \"always\"\n  }, {\n    name: _discourseI18n.default.t(\"admin.site_settings.chat_separate_sidebar_mode.fullscreen\"),\n    value: \"fullscreen\"\n  }, {\n    name: _discourseI18n.default.t(\"admin.site_settings.chat_separate_sidebar_mode.never\"),\n    value: \"never\"\n  }];\n  let PreferencesChatController = _exports.default = (_class = class PreferencesChatController extends _controller.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatAudioManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n      _defineProperty(this, \"subpageTitle\", _discourseI18n.default.t(\"chat.admin.title\"));\n      _defineProperty(this, \"emailFrequencyOptions\", EMAIL_FREQUENCY_OPTIONS);\n      _defineProperty(this, \"headerIndicatorOptions\", HEADER_INDICATOR_OPTIONS);\n      _defineProperty(this, \"chatSeparateSidebarModeOptions\", CHAT_SEPARATE_SIDEBAR_MODE_OPTIONS);\n    }\n    get chatSeparateSidebarMode() {\n      const mode = this.model.get(\"user_option.chat_separate_sidebar_mode\");\n      if (mode === \"default\") {\n        return this.siteSettings.chat_separate_sidebar_mode;\n      } else {\n        return mode;\n      }\n    }\n    chatSounds() {\n      return Object.keys(_chatAudioManager.CHAT_SOUNDS).map(value => {\n        return {\n          name: _discourseI18n.default.t(`chat.sounds.${value}`),\n          value\n        };\n      });\n    }\n    onChangeChatSound(sound) {\n      if (sound) {\n        this.chatAudioManager.playImmediately(sound);\n      }\n      this.model.set(\"user_option.chat_sound\", sound);\n    }\n    save() {\n      this.set(\"saved\", false);\n      return this.model.save(CHAT_ATTRS).then(() => {\n        this.set(\"saved\", true);\n        if (!(0, _environment.isTesting)()) {\n          location.reload();\n        }\n      }).catch(_ajaxError.popupAjaxError);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatAudioManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"chatSounds\", [_decorators.default], Object.getOwnPropertyDescriptor(_class.prototype, \"chatSounds\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChangeChatSound\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeChatSound\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"save\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"save\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/helpers/chat-guardian\", [\"exports\", \"@ember/component/helper\", \"@ember/service\", \"@ember/string\"], function (_exports, _helper, _service, _string) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatGuardianHelper = _exports.default = (_class = class ChatGuardianHelper extends _helper.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatGuardian\", _descriptor, this);\n    }\n    compute(inputs) {\n      const [key, ...params] = inputs;\n      if (!key) {\n        return;\n      }\n      return this.chatGuardian[(0, _string.camelize)(key)]?.(...params);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatGuardian\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/helpers/format-chat-date\", [\"exports\", \"@ember/template\", \"discourse/models/user\", \"discourse-common/lib/get-url\", \"discourse-i18n\"], function (_exports, _template, _user, _getUrl, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = formatChatDate;\n  function formatChatDate(message, mode) {\n    const currentUser = _user.default.current();\n    const tz = currentUser ? currentUser.user_option.timezone : moment.tz.guess();\n    const date = moment(new Date(message.createdAt), tz);\n    const title = date.format(_discourseI18n.default.t(\"dates.long_with_year\"));\n    const display = mode === \"tiny\" ? date.format(_discourseI18n.default.t(\"chat.dates.time_tiny\")) : date.format(_discourseI18n.default.t(\"dates.time\"));\n    if (message.staged) {\n      return (0, _template.htmlSafe)(`<span title='${title}' tabindex=\"-1\" class='chat-time'>${display}</span>`);\n    } else {\n      const url = (0, _getUrl.default)(`/chat/c/-/${message.channel.id}/${message.id}`);\n      return (0, _template.htmlSafe)(`<a title='${title}' tabindex=\"-1\" class='chat-time' href='${url}'>${display}</a>`);\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/helpers/tonable-emoji-title\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = tonableEmojiTitle;\n  function tonableEmojiTitle(emoji, diversity) {\n    if (!emoji.tonable || diversity === 1) {\n      return `:${emoji.name}:`;\n    }\n    return `:${emoji.name}:t${diversity}:`;\n  }\n});","define(\"discourse/plugins/chat/discourse/helpers/tonable-emoji-url\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = tonableEmojiUrl;\n  function tonableEmojiUrl(emoji, scale) {\n    if (!emoji.tonable || scale === 1) {\n      return emoji.url;\n    }\n    return emoji.url.split(\".png\")[0] + `/${scale}.png`;\n  }\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-audio\", [\"exports\", \"discourse/lib/plugin-api\"], function (_exports, _pluginApi) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const MENTION = 29;\n  const MESSAGE = 30;\n  const CHAT_NOTIFICATION_TYPES = [MENTION, MESSAGE];\n  var _default = _exports.default = {\n    name: \"chat-audio\",\n    initialize(container) {\n      const chatService = container.lookup(\"service:chat\");\n      if (!chatService.userCanChat) {\n        return;\n      }\n      const chatAudioManager = container.lookup(\"service:chat-audio-manager\");\n      chatAudioManager.setup();\n      (0, _pluginApi.withPluginApi)(\"0.12.1\", api => {\n        api.registerDesktopNotificationHandler((data, siteSettings, user) => {\n          if (user.isInDoNotDisturb()) {\n            return;\n          }\n          if (!user.chat_sound) {\n            return;\n          }\n          if (CHAT_NOTIFICATION_TYPES.includes(data.notification_type)) {\n            chatAudioManager.play(user.chat_sound);\n          }\n        });\n      });\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-decorators\", [\"exports\", \"jquery\", \"discourse/helpers/loading-spinner\", \"discourse/instance-initializers/onebox-decorators\", \"discourse/lib/hashtag-autocomplete\", \"discourse/lib/highlight-syntax\", \"discourse/lib/load-script\", \"discourse/lib/plugin-api\", \"discourse/lib/url\", \"discourse-common/lib/get-url\", \"discourse-i18n\"], function (_exports, _jquery, _loadingSpinner, _oneboxDecorators, _hashtagAutocomplete, _highlightSyntax, _loadScript, _pluginApi, _url, _getUrl, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = {\n    name: \"chat-decorators\",\n    initializeWithPluginApi(api, container) {\n      const siteSettings = container.lookup(\"service:site-settings\");\n      const lightboxService = container.lookup(\"service:lightbox\");\n      const site = container.lookup(\"service:site\");\n      api.decorateChatMessage(element => (0, _oneboxDecorators.decorateGithubOneboxBody)(element), {\n        id: \"onebox-github-body\"\n      });\n      api.decorateChatMessage(element => {\n        element.querySelectorAll(\".onebox.githubblob li.selected\").forEach(line => {\n          const scrollingElement = this._getScrollParent(line, \"onebox\");\n\n          // most likely a very small file which doesn’t need scrolling\n          if (!scrollingElement) {\n            return;\n          }\n          const scrollBarWidth = scrollingElement.offsetHeight - scrollingElement.clientHeight;\n          scrollingElement.scroll({\n            top: line.offsetTop + scrollBarWidth - scrollingElement.offsetHeight / 2 + line.offsetHeight / 2\n          });\n        });\n      }, {\n        id: \"onebox-github-scrolling\"\n      });\n      api.decorateChatMessage(element => (0, _highlightSyntax.default)(element, siteSettings, container.lookup(\"service:session\")), {\n        id: \"highlightSyntax\"\n      });\n      api.decorateChatMessage(this.renderChatTranscriptDates, {\n        id: \"transcriptDates\"\n      });\n      api.decorateChatMessage(this.forceLinksToOpenNewTab, {\n        id: \"linksNewTab\"\n      });\n      if (siteSettings.enable_experimental_lightbox) {\n        api.decorateChatMessage(element => {\n          lightboxService.setupLightboxes({\n            container: element,\n            selector: \"img:not(.emoji, .avatar, .site-icon)\"\n          });\n        }, {\n          id: \"experimental-chat-lightbox\"\n        });\n      } else {\n        api.decorateChatMessage(element => this.lightbox(element.querySelectorAll(\"img:not(.emoji, .avatar)\")), {\n          id: \"lightbox\"\n        });\n      }\n      api.decorateChatMessage(element => (0, _hashtagAutocomplete.decorateHashtags)(element, site), {\n        id: \"hashtagIcons\"\n      });\n    },\n    _getScrollParent(node, maxParentSelector) {\n      if (node === null || node.classList.contains(maxParentSelector)) {\n        return null;\n      }\n      if (node.scrollHeight > node.clientHeight) {\n        return node;\n      } else {\n        return this._getScrollParent(node.parentNode, maxParentSelector);\n      }\n    },\n    renderChatTranscriptDates(element) {\n      element.querySelectorAll(\".chat-transcript\").forEach(transcriptEl => {\n        const dateTimeRaw = transcriptEl.dataset[\"datetime\"];\n        const dateTimeLinkEl = transcriptEl.querySelector(\".chat-transcript-datetime a\");\n\n        // we only show date for first message\n        if (!dateTimeLinkEl) {\n          return;\n        }\n        if (dateTimeLinkEl.innerText !== \"\") {\n          // same as highlight, no need to do this for every single message every time\n          // any message changes\n          return;\n        }\n        if (this.currentUserTimezone) {\n          dateTimeLinkEl.innerText = moment.tz(dateTimeRaw, this.currentUserTimezone).format(_discourseI18n.default.t(\"dates.long_no_year\"));\n        } else {\n          dateTimeLinkEl.innerText = moment(dateTimeRaw).format(_discourseI18n.default.t(\"dates.long_no_year\"));\n        }\n      });\n    },\n    forceLinksToOpenNewTab(element) {\n      const links = element.querySelectorAll(\".chat-message-text a:not([target='_blank'])\");\n      for (let linkIndex = 0; linkIndex < links.length; linkIndex++) {\n        const link = links[linkIndex];\n        if (!_url.default.isInternal(link.href) || !(0, _getUrl.samePrefix)(link.href)) {\n          link.setAttribute(\"target\", \"_blank\");\n        }\n      }\n    },\n    lightbox(images) {\n      (0, _loadScript.default)(\"/javascripts/jquery.magnific-popup.min.js\").then(function () {\n        (0, _jquery.default)(images).magnificPopup({\n          type: \"image\",\n          closeOnContentClick: false,\n          mainClass: \"mfp-zoom-in\",\n          tClose: _discourseI18n.default.t(\"lightbox.close\"),\n          tLoading: _loadingSpinner.spinnerHTML,\n          image: {\n            verticalFit: true\n          },\n          gallery: {\n            enabled: true\n          },\n          callbacks: {\n            elementParse: item => {\n              item.src = item.el[0].dataset.largeSrc || item.el[0].src;\n            }\n          }\n        });\n      });\n    },\n    initialize(container) {\n      if (container.lookup(\"service:chat\").userCanChat) {\n        (0, _pluginApi.withPluginApi)(\"0.8.42\", api => this.initializeWithPluginApi(api, container));\n      }\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-keyboard-shortcuts\", [\"exports\", \"discourse/lib/keyboard-shortcuts\", \"discourse/lib/plugin-api\", \"discourse/plugins/chat/discourse/components/chat/modal/new-message\"], function (_exports, _keyboardShortcuts, _pluginApi, _newMessage) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = {\n    name: \"chat-keyboard-shortcuts\",\n    initialize(container) {\n      const chatService = container.lookup(\"service:chat\");\n      if (!chatService.userCanChat) {\n        return;\n      }\n      const router = container.lookup(\"service:router\");\n      const appEvents = container.lookup(\"service:app-events\");\n      const modal = container.lookup(\"service:modal\");\n      const chatStateManager = container.lookup(\"service:chat-state-manager\");\n      const chatThreadPane = container.lookup(\"service:chat-thread-pane\");\n      const chatThreadListPane = container.lookup(\"service:chat-thread-list-pane\");\n      const chatChannelsManager = container.lookup(\"service:chat-channels-manager\");\n      const openQuickChannelSelector = e => {\n        e.preventDefault();\n        e.stopPropagation();\n        modal.show(_newMessage.default);\n      };\n      const handleMoveUpShortcut = e => {\n        e.preventDefault();\n        e.stopPropagation();\n        chatService.switchChannelUpOrDown(\"up\");\n      };\n      const handleMoveDownShortcut = e => {\n        e.preventDefault();\n        e.stopPropagation();\n        chatService.switchChannelUpOrDown(\"down\");\n      };\n      const isChatComposer = el => el.classList.contains(\"chat-composer__input\");\n      const isInputSelection = el => {\n        const inputs = [\"input\", \"textarea\", \"select\", \"button\"];\n        const elementTagName = el?.tagName.toLowerCase();\n        if (inputs.includes(elementTagName)) {\n          return false;\n        }\n        return true;\n      };\n      const modifyComposerSelection = (event, type) => {\n        if (!isChatComposer(event.target)) {\n          return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        appEvents.trigger(\"chat:modify-selection\", event, {\n          type,\n          context: event.target.dataset.chatComposerContext\n        });\n      };\n      const openInsertLinkModal = event => {\n        if (!isChatComposer(event.target)) {\n          return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        appEvents.trigger(\"chat:open-insert-link-modal\", event, {\n          context: event.target.dataset.chatComposerContext\n        });\n      };\n      const openChatDrawer = event => {\n        if (!isInputSelection(event.target)) {\n          return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        chatStateManager.prefersDrawer();\n        router.transitionTo(chatStateManager.lastKnownChatURL || \"chat\");\n      };\n      const closeChat = event => {\n        // TODO (joffrey): removes this when we move from magnific popup\n        // there's no proper way to prevent propagation in mfp\n        if (event.srcElement?.classList?.value?.includes(\"mfp-wrap\")) {\n          return;\n        }\n        if (chatStateManager.isDrawerActive) {\n          event.preventDefault();\n          event.stopPropagation();\n          appEvents.trigger(\"chat:toggle-close\", event);\n          return;\n        }\n        if (chatThreadPane.isOpened) {\n          event.preventDefault();\n          event.stopPropagation();\n          chatThreadPane.close();\n          return;\n        }\n        if (chatThreadListPane.isOpened) {\n          event.preventDefault();\n          event.stopPropagation();\n          chatThreadListPane.close();\n          return;\n        }\n      };\n      const markAllChannelsRead = event => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (chatStateManager.isActive) {\n          chatChannelsManager.markAllChannelsRead();\n        }\n      };\n      (0, _pluginApi.withPluginApi)(\"0.12.1\", api => {\n        api.addKeyboardShortcut(`${_keyboardShortcuts.PLATFORM_KEY_MODIFIER}+k`, openQuickChannelSelector, {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.open_quick_channel_selector\",\n            definition: {\n              keys1: [\"meta\", \"k\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(\"alt+up\", handleMoveUpShortcut, {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.switch_channel_arrows\",\n            definition: {\n              keys1: [\"alt\", \"&uarr;\"],\n              keys2: [\"alt\", \"&darr;\"],\n              keysDelimiter: \"plus\",\n              shortcutsDelimiter: \"slash\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(\"alt+down\", handleMoveDownShortcut, {\n          global: true\n        });\n        api.addKeyboardShortcut(`${_keyboardShortcuts.PLATFORM_KEY_MODIFIER}+b`, event => modifyComposerSelection(event, \"bold\"), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.composer_bold\",\n            definition: {\n              keys1: [\"meta\", \"b\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(`${_keyboardShortcuts.PLATFORM_KEY_MODIFIER}+i`, event => modifyComposerSelection(event, \"italic\"), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.composer_italic\",\n            definition: {\n              keys1: [\"meta\", \"i\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(`${_keyboardShortcuts.PLATFORM_KEY_MODIFIER}+e`, event => modifyComposerSelection(event, \"code\"), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.composer_code\",\n            definition: {\n              keys1: [\"meta\", \"e\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(`${_keyboardShortcuts.PLATFORM_KEY_MODIFIER}+l`, event => openInsertLinkModal(event), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.open_insert_link_modal\",\n            definition: {\n              keys1: [\"meta\", \"l\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n        api.addKeyboardShortcut(`-`, event => openChatDrawer(event), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.drawer_open\",\n            definition: {\n              keys1: [\"-\"]\n            }\n          }\n        });\n        api.addKeyboardShortcut(\"esc\", event => closeChat(event), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.drawer_close\",\n            definition: {\n              keys1: [\"esc\"]\n            }\n          }\n        });\n        api.addKeyboardShortcut(`shift+esc`, event => markAllChannelsRead(event), {\n          global: true,\n          help: {\n            category: \"chat\",\n            name: \"chat.keyboard_shortcuts.mark_all_channels_read\",\n            definition: {\n              keys1: [\"shift\", \"esc\"],\n              keysDelimiter: \"plus\"\n            }\n          }\n        });\n      });\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-plugin-decorators\", [\"exports\", \"discourse/lib/local-dates\", \"discourse/lib/plugin-api\"], function (_exports, _localDates, _pluginApi) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = {\n    name: \"chat-plugin-decorators\",\n    initializeWithPluginApi(api, siteSettings) {\n      api.decorateChatMessage(element => {\n        (0, _localDates.applyLocalDates)(element.querySelectorAll(\".discourse-local-date\"), siteSettings);\n      }, {\n        id: \"local-dates\"\n      });\n      if (siteSettings.spoiler_enabled) {\n        const applySpoiler = requirejs(\"discourse/plugins/spoiler-alert/lib/apply-spoiler\").default;\n        api.decorateChatMessage(element => {\n          element.querySelectorAll(\".spoiler\").forEach(spoiler => {\n            spoiler.classList.remove(\"spoiler\");\n            spoiler.classList.add(\"spoiled\");\n            applySpoiler(spoiler);\n          });\n        }, {\n          id: \"spoiler\"\n        });\n      }\n    },\n    initialize(container) {\n      if (container.lookup(\"service:chat\").userCanChat) {\n        const siteSettings = container.lookup(\"service:site-settings\");\n        (0, _pluginApi.withPluginApi)(\"0.8.42\", api => {\n          this.initializeWithPluginApi(api, siteSettings);\n        });\n      }\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-setup\", [\"exports\", \"discourse/lib/plugin-api\", \"discourse-common/lib/get-owner\", \"discourse-common/lib/icon-library\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-message\", \"discourse/plugins/chat/discourse/lib/chat-composer-buttons\", \"discourse/plugins/chat/discourse/lib/hashtag-types/channel\", \"discourse/plugins/chat/discourse/components/styleguide/organisms/chat\"], function (_exports, _pluginApi, _getOwner, _iconLibrary, _decorators, _discourseI18n, _chatMessage, _chatComposerButtons, _channel, _chat) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _obj;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let _lastForcedRefreshAt;\n  const MIN_REFRESH_DURATION_MS = 180000; // 3 minutes\n\n  (0, _iconLibrary.replaceIcon)(\"d-chat\", \"comment\");\n  var _default = _exports.default = (_obj = {\n    name: \"chat-setup\",\n    before: \"hashtag-css-generator\",\n    initialize(container) {\n      this.router = container.lookup(\"service:router\");\n      this.chatService = container.lookup(\"service:chat\");\n      this.chatHistory = container.lookup(\"service:chat-history\");\n      this.site = container.lookup(\"service:site\");\n      this.siteSettings = container.lookup(\"service:site-settings\");\n      this.currentUser = container.lookup(\"service:current-user\");\n      this.appEvents = container.lookup(\"service:app-events\");\n      this.appEvents.on(\"discourse:focus-changed\", this, \"_handleFocusChanged\");\n      if (!this.chatService.userCanChat) {\n        return;\n      }\n      (0, _pluginApi.withPluginApi)(\"0.12.1\", api => {\n        api.onPageChange(path => {\n          const route = this.router.recognize(path);\n          if (route.name.startsWith(\"chat.\")) {\n            this.chatHistory.visit(route);\n          }\n        });\n        api.registerHashtagType(\"channel\", new _channel.default(container));\n        api.registerChatComposerButton({\n          id: \"chat-upload-btn\",\n          icon: \"far-image\",\n          label: \"chat.upload\",\n          position: \"dropdown\",\n          action: \"uploadClicked\",\n          dependentKeys: [\"canAttachUploads\"],\n          displayed() {\n            return this.canAttachUploads;\n          }\n        });\n        if (this.siteSettings.discourse_local_dates_enabled) {\n          api.registerChatComposerButton({\n            label: \"discourse_local_dates.title\",\n            id: \"local-dates\",\n            class: \"chat-local-dates-btn\",\n            icon: \"calendar-alt\",\n            position: \"dropdown\",\n            action() {\n              this.insertDiscourseLocalDate();\n            }\n          });\n        }\n        api.registerChatComposerButton({\n          label: \"chat.emoji\",\n          id: \"emoji\",\n          class: \"chat-emoji-btn\",\n          icon: \"far-smile\",\n          position: this.site.desktopView ? \"inline\" : \"dropdown\",\n          context: \"channel\",\n          action() {\n            const chatEmojiPickerManager = container.lookup(\"service:chat-emoji-picker-manager\");\n            chatEmojiPickerManager.open({\n              context: \"channel\"\n            });\n          }\n        });\n        api.registerChatComposerButton({\n          label: \"chat.emoji\",\n          id: \"channel-emoji\",\n          class: \"chat-emoji-btn\",\n          icon: \"discourse-emojis\",\n          position: \"dropdown\",\n          context: \"thread\",\n          action() {\n            const chatEmojiPickerManager = container.lookup(\"service:chat-emoji-picker-manager\");\n            chatEmojiPickerManager.open({\n              context: \"thread\"\n            });\n          }\n        });\n        const summarizationAllowedGroups = this.siteSettings.custom_summarization_allowed_groups.split(\"|\").map(id => parseInt(id, 10));\n        const canSummarize = this.siteSettings.summarization_strategy && this.currentUser && this.currentUser.groups.some(g => summarizationAllowedGroups.includes(g.id));\n        if (canSummarize) {\n          api.registerChatComposerButton({\n            translatedLabel: \"chat.summarization.title\",\n            id: \"channel-summary\",\n            icon: \"discourse-sparkles\",\n            position: \"dropdown\",\n            action: \"showChannelSummaryModal\"\n          });\n        }\n\n        // we want to decorate the chat quote dates regardless\n        // of whether the current user has chat enabled\n        api.decorateCookedElement(elem => {\n          const currentUser = (0, _getOwner.getOwnerWithFallback)(this).lookup(\"service:current-user\");\n          const currentUserTimezone = currentUser?.user_option?.timezone;\n          const chatTranscriptElements = elem.querySelectorAll(\".chat-transcript\");\n          chatTranscriptElements.forEach(el => {\n            const dateTimeRaw = el.dataset[\"datetime\"];\n            const dateTimeEl = el.querySelector(\".chat-transcript-datetime a, .chat-transcript-datetime span\");\n            if (currentUserTimezone) {\n              dateTimeEl.innerText = moment.tz(dateTimeRaw, currentUserTimezone).format(_discourseI18n.default.t(\"dates.long_no_year\"));\n            } else {\n              dateTimeEl.innerText = moment(dateTimeRaw).format(_discourseI18n.default.t(\"dates.long_no_year\"));\n            }\n            dateTimeEl.dataset.dateFormatted = true;\n          });\n        });\n        if (!this.chatService.userCanChat) {\n          return;\n        }\n        document.body.classList.add(\"chat-enabled\");\n        const currentUser = api.getCurrentUser();\n\n        // NOTE: chat_channels is more than a simple array, it also contains\n        // tracking and membership data, see Chat::StructuredChannelSerializer\n        if (currentUser?.chat_channels) {\n          this.chatService.setupWithPreloadedChannels(currentUser.chat_channels);\n        }\n        const chatNotificationManager = container.lookup(\"service:chat-notification-manager\");\n        chatNotificationManager.start();\n        if (!this._registeredDocumentTitleCountCallback) {\n          api.addDocumentTitleCounter(this.documentTitleCountCallback);\n          this._registeredDocumentTitleCountCallback = true;\n        }\n        api.addCardClickListenerSelector(\".chat-drawer-outlet\");\n        api.addToHeaderIcons(\"chat-header-icon\");\n        api.addStyleguideSection?.({\n          component: _chat.default,\n          category: \"organisms\",\n          id: \"chat\"\n        });\n        api.addChatDrawerStateCallback(({\n          isDrawerActive\n        }) => {\n          if (isDrawerActive) {\n            document.body.classList.add(\"chat-drawer-active\");\n          } else {\n            document.body.classList.remove(\"chat-drawer-active\");\n          }\n        });\n        api.decorateChatMessage(function (chatMessage, chatChannel) {\n          if (!this.currentUser) {\n            return;\n          }\n          const highlightable = [`@${this.currentUser.username}`];\n          if (chatChannel.allowChannelWideMentions) {\n            highlightable.push(..._chatMessage.MENTION_KEYWORDS.map(k => `@${k}`));\n          }\n          chatMessage.querySelectorAll(\".mention\").forEach(node => {\n            const mention = node.textContent.trim();\n            if (highlightable.includes(mention)) {\n              node.classList.add(\"highlighted\", \"valid-mention\");\n            }\n          });\n        });\n      });\n    },\n    documentTitleCountCallback() {\n      return this.chatService.getDocumentTitleCount();\n    },\n    teardown() {\n      this.appEvents.off(\"discourse:focus-changed\", this, \"_handleFocusChanged\");\n      if (!this.chatService.userCanChat) {\n        return;\n      }\n      _lastForcedRefreshAt = null;\n      (0, _chatComposerButtons.clearChatComposerButtons)();\n    },\n    _handleFocusChanged(hasFocus) {\n      if (!this.chatService.userCanChat) {\n        return;\n      }\n      if (!hasFocus) {\n        _lastForcedRefreshAt = Date.now();\n        return;\n      }\n      _lastForcedRefreshAt = _lastForcedRefreshAt || Date.now();\n      const duration = Date.now() - _lastForcedRefreshAt;\n      if (duration <= MIN_REFRESH_DURATION_MS) {\n        return;\n      }\n      _lastForcedRefreshAt = Date.now();\n    }\n  }, (_applyDecoratedDescriptor(_obj, \"documentTitleCountCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_obj, \"documentTitleCountCallback\"), _obj), _applyDecoratedDescriptor(_obj, \"_handleFocusChanged\", [_decorators.bind], Object.getOwnPropertyDescriptor(_obj, \"_handleFocusChanged\"), _obj)), _obj);\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-sidebar\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"@ember/string\", \"@ember/template\", \"discourse/helpers/decorate-username-selector\", \"discourse/lib/plugin-api\", \"discourse/lib/text\", \"discourse/lib/utilities\", \"discourse-common/lib/avatar-utils\", \"discourse-common/lib/get-url\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat/modal/new-message\", \"discourse/plugins/chat/discourse/lib/init-sidebar-state\"], function (_exports, _tracking, _service, _string, _template, _decorateUsernameSelector, _pluginApi, _text, _utilities, _avatarUtils, _getUrl, _decorators, _discourseI18n, _newMessage, _initSidebarState) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  var _default = _exports.default = {\n    name: \"chat-sidebar\",\n    initialize(container) {\n      this.chatService = container.lookup(\"service:chat\");\n      if (!this.chatService.userCanChat) {\n        return;\n      }\n      this.siteSettings = container.lookup(\"service:site-settings\");\n      (0, _pluginApi.withPluginApi)(\"1.8.0\", api => {\n        api.addSidebarPanel(BaseCustomSidebarPanel => class ChatSidebarPanel extends BaseCustomSidebarPanel {\n          constructor(...args) {\n            super(...args);\n            _defineProperty(this, \"key\", _initSidebarState.CHAT_PANEL);\n            _defineProperty(this, \"switchButtonLabel\", _discourseI18n.default.t(\"sidebar.panels.chat.label\"));\n            _defineProperty(this, \"switchButtonIcon\", \"d-chat\");\n            _defineProperty(this, \"switchButtonDefaultUrl\", (0, _getUrl.default)(\"/chat\"));\n          }\n        });\n        (0, _initSidebarState.initSidebarState)(api, api.getCurrentUser());\n      });\n      (0, _pluginApi.withPluginApi)(\"1.3.0\", api => {\n        api.addSidebarSection((BaseCustomSidebarSection, BaseCustomSidebarSectionLink) => {\n          const SidebarChatMyThreadsSectionLink = class SidebarChatMyThreadsSectionLink extends BaseCustomSidebarSectionLink {\n            constructor() {\n              super(...arguments);\n              _defineProperty(this, \"route\", \"chat.threads\");\n              _defineProperty(this, \"text\", _discourseI18n.default.t(\"chat.my_threads.title\"));\n              _defineProperty(this, \"title\", _discourseI18n.default.t(\"chat.my_threads.title\"));\n              _defineProperty(this, \"name\", \"user-threads\");\n              _defineProperty(this, \"prefixType\", \"icon\");\n              _defineProperty(this, \"prefixValue\", \"discourse-threads\");\n              _defineProperty(this, \"suffixType\", \"icon\");\n              _defineProperty(this, \"suffixCSSClass\", \"unread\");\n              if (container.isDestroyed) {\n                return;\n              }\n              this.chatChannelsManager = container.lookup(\"service:chat-channels-manager\");\n            }\n            get suffixValue() {\n              return this.chatChannelsManager.publicMessageChannels.some(channel => channel.unreadThreadsCount > 0) ? \"circle\" : \"\";\n            }\n          };\n          const SidebarChatMyThreadsSection = class SidebarChatMyThreadsSection extends BaseCustomSidebarSection {\n            constructor(...args) {\n              super(...args);\n              // we only show `My Threads` link\n              _defineProperty(this, \"hideSectionHeader\", true);\n              _defineProperty(this, \"name\", \"user-threads\");\n              // sidebar API doesn’t let you have undefined values\n              // even if you don't show the section’s header\n              _defineProperty(this, \"title\", \"\");\n            }\n            get links() {\n              return [new SidebarChatMyThreadsSectionLink()];\n            }\n          };\n          return SidebarChatMyThreadsSection;\n        }, _initSidebarState.CHAT_PANEL);\n        if (this.siteSettings.enable_public_channels) {\n          api.addSidebarSection((BaseCustomSidebarSection, BaseCustomSidebarSectionLink) => {\n            var _class4, _descriptor, _descriptor2;\n            const SidebarChatChannelsSectionLink = class extends BaseCustomSidebarSectionLink {\n              constructor({\n                channel,\n                chatService\n              }) {\n                super(...arguments);\n                this.channel = channel;\n                this.chatService = chatService;\n              }\n              get name() {\n                return (0, _string.dasherize)(this.channel.slugifiedTitle);\n              }\n              get classNames() {\n                const classes = [];\n                if (this.channel.currentUserMembership.muted) {\n                  classes.push(\"sidebar-section-link--muted\");\n                }\n                if (this.channel.id === this.chatService.activeChannel?.id) {\n                  classes.push(\"sidebar-section-link--active\");\n                }\n                classes.push(`channel-${this.channel.id}`);\n                return classes.join(\" \");\n              }\n              get route() {\n                return \"chat.channel\";\n              }\n              get models() {\n                return this.channel.routeModels;\n              }\n              get text() {\n                return (0, _template.htmlSafe)((0, _text.emojiUnescape)(this.channel.escapedTitle));\n              }\n              get prefixType() {\n                return \"icon\";\n              }\n              get prefixValue() {\n                return \"d-chat\";\n              }\n              get prefixColor() {\n                return this.channel.chatable.color;\n              }\n              get title() {\n                return this.channel.escapedDescription ? (0, _template.htmlSafe)(this.channel.escapedDescription) : `${this.channel.escapedTitle} ${_discourseI18n.default.t(\"chat.title\")}`;\n              }\n              get prefixBadge() {\n                return this.channel.chatable.read_restricted ? \"lock\" : \"\";\n              }\n              get suffixType() {\n                return \"icon\";\n              }\n              get suffixValue() {\n                return this.channel.tracking.unreadCount > 0 ||\n                // We want to do this so we don't show a blue dot if the user is inside\n                // the channel and a new unread thread comes in.\n                this.chatService.activeChannel?.id !== this.channel.id && this.channel.unreadThreadsCountSinceLastViewed > 0 ? \"circle\" : \"\";\n              }\n              get suffixCSSClass() {\n                return this.channel.tracking.mentionCount > 0 ? \"urgent\" : \"unread\";\n              }\n            };\n            const SidebarChatChannelsSection = (_class4 = class _class4 extends BaseCustomSidebarSection {\n              constructor() {\n                super(...arguments);\n                _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n                _initializerDefineProperty(this, \"currentUserCanJoinPublicChannels\", _descriptor2, this);\n                if (container.isDestroyed) {\n                  return;\n                }\n                this.chatService = container.lookup(\"service:chat\");\n                this.chatChannelsManager = container.lookup(\"service:chat-channels-manager\");\n                this.router = container.lookup(\"service:router\");\n              }\n              get sectionLinks() {\n                return this.chatChannelsManager.publicMessageChannels.map(channel => new SidebarChatChannelsSectionLink({\n                  channel,\n                  chatService: this.chatService\n                }));\n              }\n              get name() {\n                return \"chat-channels\";\n              }\n              get title() {\n                return _discourseI18n.default.t(\"chat.chat_channels\");\n              }\n              get text() {\n                return _discourseI18n.default.t(\"chat.chat_channels\");\n              }\n              get actions() {\n                return [{\n                  id: \"browseChannels\",\n                  title: _discourseI18n.default.t(\"chat.channels_list_popup.browse\"),\n                  action: () => this.router.transitionTo(\"chat.browse.open\")\n                }];\n              }\n              get actionsIcon() {\n                return \"pencil-alt\";\n              }\n              get links() {\n                return this.sectionLinks;\n              }\n              get displaySection() {\n                return this.sectionLinks.length > 0 || this.currentUserCanJoinPublicChannels;\n              }\n            }, (_descriptor = _applyDecoratedDescriptor(_class4.prototype, \"currentUser\", [_service.inject], {\n              configurable: true,\n              enumerable: true,\n              writable: true,\n              initializer: null\n            }), _descriptor2 = _applyDecoratedDescriptor(_class4.prototype, \"currentUserCanJoinPublicChannels\", [_tracking.tracked], {\n              configurable: true,\n              enumerable: true,\n              writable: true,\n              initializer: function () {\n                return this.currentUser && (this.currentUser.staff || this.currentUser.has_joinable_public_channels);\n              }\n            })), _class4);\n            return SidebarChatChannelsSection;\n          }, _initSidebarState.CHAT_PANEL);\n        }\n        api.addSidebarSection((BaseCustomSidebarSection, BaseCustomSidebarSectionLink) => {\n          var _class6, _class8, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n          const SidebarChatDirectMessagesSectionLink = (_class6 = class _class6 extends BaseCustomSidebarSectionLink {\n            constructor({\n              channel,\n              chatService,\n              currentUser\n            }) {\n              super(...arguments);\n              _defineProperty(this, \"route\", \"chat.channel\");\n              _defineProperty(this, \"suffixType\", \"icon\");\n              _defineProperty(this, \"suffixCSSClass\", \"urgent\");\n              _defineProperty(this, \"hoverType\", \"icon\");\n              _defineProperty(this, \"hoverValue\", \"times\");\n              _defineProperty(this, \"hoverTitle\", _discourseI18n.default.t(\"chat.direct_messages.close\"));\n              this.channel = channel;\n              this.chatService = chatService;\n              this.currentUser = currentUser;\n              if (this.oneOnOneMessage) {\n                const user = this.channel.chatable.users[0];\n                if (user.username !== _discourseI18n.default.t(\"chat.deleted_chat_username\")) {\n                  user.trackStatus();\n                }\n              }\n            }\n            willDestroy() {\n              if (this.oneOnOneMessage) {\n                this.channel.chatable.users[0].stopTrackingStatus();\n              }\n            }\n            get oneOnOneMessage() {\n              return this.channel.chatable.users.length === 1;\n            }\n            get contentComponentArgs() {\n              return this.channel.chatable.users[0].get(\"status\");\n            }\n            get contentComponent() {\n              if (this.oneOnOneMessage) {\n                return \"user-status-message\";\n              }\n            }\n            get name() {\n              return this.channel.slugifiedTitle;\n            }\n            get classNames() {\n              const classes = [];\n              if (this.channel.currentUserMembership.muted) {\n                classes.push(\"sidebar-section-link--muted\");\n              }\n              if (this.channel.id === this.chatService.activeChannel?.id) {\n                classes.push(\"sidebar-section-link--active\");\n              }\n              classes.push(`channel-${this.channel.id}`);\n              return classes.join(\" \");\n            }\n            get models() {\n              return this.channel.routeModels;\n            }\n            get title() {\n              if (this.channel.chatable.group) {\n                return _discourseI18n.default.t(\"chat.placeholder_channel\", {\n                  channelName: this.channel.escapedTitle\n                });\n              } else {\n                return _discourseI18n.default.t(\"chat.placeholder_users\", {\n                  commaSeparatedNames: this.channel.escapedTitle\n                });\n              }\n            }\n            get text() {\n              if (this.channel.chatable.group) {\n                return this.channel.title;\n              } else {\n                const username = this.channel.escapedTitle.replaceAll(\"@\", \"\");\n                return (0, _template.htmlSafe)(`${(0, _utilities.escapeExpression)(username)}${(0, _decorateUsernameSelector.decorateUsername)((0, _utilities.escapeExpression)(username))}`);\n              }\n            }\n            get prefixType() {\n              if (this.channel.chatable.group) {\n                return \"text\";\n              } else {\n                return \"image\";\n              }\n            }\n            get prefixValue() {\n              if (this.channel.chatable.group) {\n                return this.channel.membershipsCount;\n              } else {\n                return (0, _avatarUtils.avatarUrl)(this.channel.chatable.users[0].avatar_template, \"tiny\");\n              }\n            }\n            get prefixCSSClass() {\n              const activeUsers = this.chatService.presenceChannel.users;\n              const user = this.channel.chatable.users[0];\n              if (!!activeUsers?.findBy(\"id\", user?.id) || !!activeUsers?.findBy(\"username\", user?.username)) {\n                return \"active\";\n              }\n              return \"\";\n            }\n            get suffixValue() {\n              return this.channel.tracking.unreadCount > 0 ? \"circle\" : \"\";\n            }\n            get hoverAction() {\n              return event => {\n                event.stopPropagation();\n                event.preventDefault();\n                this.chatService.unfollowChannel(this.channel);\n              };\n            }\n          }, (_applyDecoratedDescriptor(_class6.prototype, \"willDestroy\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class6.prototype, \"willDestroy\"), _class6.prototype)), _class6);\n          const SidebarChatDirectMessagesSection = (_class8 = class _class8 extends BaseCustomSidebarSection {\n            constructor() {\n              super(...arguments);\n              _initializerDefineProperty(this, \"site\", _descriptor3, this);\n              _initializerDefineProperty(this, \"modal\", _descriptor4, this);\n              _initializerDefineProperty(this, \"router\", _descriptor5, this);\n              _initializerDefineProperty(this, \"currentUser\", _descriptor6, this);\n              _initializerDefineProperty(this, \"userCanDirectMessage\", _descriptor7, this);\n              if (container.isDestroyed) {\n                return;\n              }\n              this.chatService = container.lookup(\"service:chat\");\n              this.chatChannelsManager = container.lookup(\"service:chat-channels-manager\");\n            }\n            get sectionLinks() {\n              return this.chatChannelsManager.truncatedDirectMessageChannels.map(channel => new SidebarChatDirectMessagesSectionLink({\n                channel,\n                chatService: this.chatService,\n                currentUser: this.currentUser\n              }));\n            }\n            get name() {\n              return \"chat-dms\";\n            }\n            get title() {\n              return _discourseI18n.default.t(\"chat.direct_messages.title\");\n            }\n            get text() {\n              return _discourseI18n.default.t(\"chat.direct_messages.title\");\n            }\n            get actions() {\n              if (!this.userCanDirectMessage) {\n                return [];\n              }\n              return [{\n                id: \"startDm\",\n                title: _discourseI18n.default.t(\"chat.direct_messages.new\"),\n                action: () => {\n                  this.modal.show(_newMessage.default);\n                }\n              }];\n            }\n            get actionsIcon() {\n              return \"plus\";\n            }\n            get links() {\n              return this.sectionLinks;\n            }\n            get displaySection() {\n              return this.sectionLinks.length > 0 || this.userCanDirectMessage;\n            }\n          }, (_descriptor3 = _applyDecoratedDescriptor(_class8.prototype, \"site\", [_service.inject], {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            initializer: null\n          }), _descriptor4 = _applyDecoratedDescriptor(_class8.prototype, \"modal\", [_service.inject], {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            initializer: null\n          }), _descriptor5 = _applyDecoratedDescriptor(_class8.prototype, \"router\", [_service.inject], {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            initializer: null\n          }), _descriptor6 = _applyDecoratedDescriptor(_class8.prototype, \"currentUser\", [_service.inject], {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            initializer: null\n          }), _descriptor7 = _applyDecoratedDescriptor(_class8.prototype, \"userCanDirectMessage\", [_tracking.tracked], {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            initializer: function () {\n              return this.chatService.userCanDirectMessage;\n            }\n          })), _class8);\n          return SidebarChatDirectMessagesSection;\n        }, \"chat\");\n      });\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-user-menu\", [\"exports\", \"discourse/lib/plugin-api\", \"discourse/lib/utilities\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/lib/slugify-channel\"], function (_exports, _pluginApi, _utilities, _discourseI18n, _slugifyChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  var _default = _exports.default = {\n    name: \"chat-user-menu\",\n    initialize(container) {\n      (0, _pluginApi.withPluginApi)(\"1.3.0\", api => {\n        const chat = container.lookup(\"service:chat\");\n        if (!chat.userCanChat) {\n          return;\n        }\n        if (api.registerNotificationTypeRenderer) {\n          api.registerNotificationTypeRenderer(\"chat_invitation\", NotificationItemBase => {\n            return class extends NotificationItemBase {\n              constructor(...args) {\n                super(...args);\n                _defineProperty(this, \"linkTitle\", _discourseI18n.default.t(\"notifications.titles.chat_invitation\"));\n                _defineProperty(this, \"icon\", \"link\");\n                _defineProperty(this, \"description\", _discourseI18n.default.t(\"notifications.chat_invitation\"));\n              }\n              get linkHref() {\n                const data = this.notification.data;\n                const slug = (0, _slugifyChannel.default)({\n                  title: data.chat_channel_title,\n                  slug: data.chat_channel_slug\n                });\n                let url = `/chat/c/${slug || \"-\"}/${data.chat_channel_id}`;\n                if (data.chat_message_id) {\n                  url += `/${data.chat_message_id}`;\n                }\n                return url;\n              }\n              get label() {\n                return (0, _utilities.formatUsername)(this.notification.data.invited_by_username);\n              }\n            };\n          });\n          api.registerNotificationTypeRenderer(\"chat_mention\", NotificationItemBase => {\n            return class extends NotificationItemBase {\n              get linkHref() {\n                const slug = (0, _slugifyChannel.default)({\n                  title: this.notification.data.chat_channel_title,\n                  slug: this.notification.data.chat_channel_slug\n                });\n                let notificationRoute = `/chat/c/${slug || \"-\"}/${this.notification.data.chat_channel_id}`;\n                if (this.notification.data.chat_thread_id) {\n                  notificationRoute += `/t/${this.notification.data.chat_thread_id}`;\n                } else {\n                  notificationRoute += `/${this.notification.data.chat_message_id}`;\n                }\n                return notificationRoute;\n              }\n              get linkTitle() {\n                return _discourseI18n.default.t(\"notifications.titles.chat_mention\");\n              }\n              get icon() {\n                return \"d-chat\";\n              }\n              get label() {\n                return (0, _utilities.formatUsername)(this.notification.data.mentioned_by_username);\n              }\n              get description() {\n                const identifier = this.notification.data.identifier ? `@${this.notification.data.identifier}` : null;\n                const i18nPrefix = this.notification.data.is_direct_message_channel ? \"notifications.popup.direct_message_chat_mention\" : \"notifications.popup.chat_mention\";\n                const i18nSuffix = identifier ? \"other_plain\" : \"direct\";\n                return _discourseI18n.default.t(`${i18nPrefix}.${i18nSuffix}`, {\n                  identifier,\n                  channel: this.notification.data.chat_channel_title\n                });\n              }\n            };\n          });\n        }\n        if (api.registerUserMenuTab) {\n          api.registerUserMenuTab(UserMenuTab => {\n            return class extends UserMenuTab {\n              get id() {\n                return \"chat-notifications\";\n              }\n              get panelComponent() {\n                return \"user-menu/chat-notifications-list\";\n              }\n              get icon() {\n                return \"d-chat\";\n              }\n              get count() {\n                return this.getUnreadCountForType(\"chat_mention\") + this.getUnreadCountForType(\"chat_invitation\");\n              }\n              get notificationTypes() {\n                return [\"chat_invitation\", \"chat_mention\", \"chat_message\", \"chat_quoted\"];\n              }\n            };\n          });\n        }\n      });\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/initializers/chat-user-options\", [\"exports\", \"discourse/lib/plugin-api\"], function (_exports, _pluginApi) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const CHAT_ENABLED_FIELD = \"chat_enabled\";\n  const ONLY_CHAT_PUSH_NOTIFICATIONS_FIELD = \"only_chat_push_notifications\";\n  const IGNORE_CHANNEL_WIDE_MENTION = \"ignore_channel_wide_mention\";\n  const CHAT_SOUND = \"chat_sound\";\n  const CHAT_EMAIL_FREQUENCY = \"chat_email_frequency\";\n  const CHAT_HEADER_INDICATOR_PREFERENCE = \"chat_header_indicator_preference\";\n  const CHAT_SEPARATE_SIDEBAR_MODE = \"chat_separate_sidebar_mode\";\n  var _default = _exports.default = {\n    name: \"chat-user-options\",\n    initialize(container) {\n      (0, _pluginApi.withPluginApi)(\"0.11.0\", api => {\n        const siteSettings = container.lookup(\"service:site-settings\");\n        if (siteSettings.chat_enabled) {\n          api.addSaveableUserOptionField(CHAT_ENABLED_FIELD);\n          api.addSaveableUserOptionField(ONLY_CHAT_PUSH_NOTIFICATIONS_FIELD);\n          api.addSaveableUserOptionField(IGNORE_CHANNEL_WIDE_MENTION);\n          api.addSaveableUserOptionField(CHAT_SOUND);\n          api.addSaveableUserOptionField(CHAT_EMAIL_FREQUENCY);\n          api.addSaveableUserOptionField(CHAT_HEADER_INDICATOR_PREFERENCE);\n          api.addSaveableUserOptionField(CHAT_SEPARATE_SIDEBAR_MODE);\n        }\n      });\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/lib/chat-channel-subscription-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/service\", \"discourse-common/lib/object\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/chat-thread-preview\"], function (_exports, _tracking, _application, _service, _object, _decorators, _chatMessage, _chatThreadPreview) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelSubscriptionManager = _exports.default = (_class = class ChatChannelSubscriptionManager {\n    constructor(context, channel, {\n      onNewMessage\n    } = {}) {\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelNoticesManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"messageBus\", _descriptor3, this);\n      _initializerDefineProperty(this, \"channel\", _descriptor4, this);\n      (0, _application.setOwner)(this, (0, _application.getOwner)(context));\n      this.channel = channel;\n      this.onNewMessage = onNewMessage;\n      this.messageBus.subscribe(this.messageBusChannel, this.onMessage, this.channel.channelMessageBusLastId);\n    }\n    get messagesManager() {\n      return this.channel.messagesManager;\n    }\n    get messageBusChannel() {\n      return `/chat/${this.channel.id}`;\n    }\n    teardown() {\n      this.messageBus.unsubscribe(this.messageBusChannel, this.onMessage);\n      this.modelId = null;\n    }\n    onMessage(busData, _, __, lastMessageBusId) {\n      switch (busData.type) {\n        case \"sent\":\n          this.handleSentMessage(busData);\n          break;\n        case \"reaction\":\n          this.handleReactionMessage(busData);\n          break;\n        case \"processed\":\n          this.handleProcessedMessage(busData);\n          break;\n        case \"edit\":\n          this.handleEditMessage(busData);\n          break;\n        case \"refresh\":\n          this.handleRefreshMessage(busData);\n          break;\n        case \"delete\":\n          this.handleDeleteMessage(busData);\n          break;\n        case \"bulk_delete\":\n          this.handleBulkDeleteMessage(busData);\n          break;\n        case \"restore\":\n          this.handleRestoreMessage(busData);\n          break;\n        case \"self_flagged\":\n          this.handleSelfFlaggedMessage(busData);\n          break;\n        case \"flag\":\n          this.handleFlaggedMessage(busData);\n          break;\n        case \"thread_created\":\n          this.handleNewThreadCreated(busData);\n          break;\n        case \"update_thread_original_message\":\n          this.handleThreadOriginalMessageUpdate(busData);\n          break;\n        case \"notice\":\n          this.handleNotice(busData);\n          break;\n      }\n      this.channel.channelMessageBusLastId = lastMessageBusId;\n    }\n    handleSentMessage(data) {\n      if (data.chat_message.user.id === this.currentUser.id && data.staged_id) {\n        const stagedMessage = this.handleStagedMessage(this.channel, this.messagesManager, data);\n        if (stagedMessage) {\n          return;\n        }\n      }\n      const message = _chatMessage.default.create(this.channel, data.chat_message);\n      message.manager = this.channel.messagesManager;\n      this.onNewMessage?.(message);\n      this.channel.lastMessage = message;\n    }\n    handleStagedMessage(channel, messagesManager, data) {\n      const stagedMessage = messagesManager.findStagedMessage(data.staged_id);\n      if (!stagedMessage) {\n        return;\n      }\n      stagedMessage.error = null;\n      stagedMessage.id = data.chat_message.id;\n      stagedMessage.staged = false;\n      stagedMessage.excerpt = data.chat_message.excerpt;\n      stagedMessage.channel = channel;\n      stagedMessage.createdAt = new Date(data.chat_message.created_at);\n      stagedMessage.cooked = data.chat_message.cooked;\n      return stagedMessage;\n    }\n    handleProcessedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.cooked = data.chat_message.cooked;\n        message.uploads = (0, _object.cloneJSON)(data.chat_message.uploads || []);\n        message.processed = true;\n        message.incrementVersion();\n      }\n    }\n    handleReactionMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.react(data.emoji, data.action, data.user, this.currentUser.id);\n      }\n    }\n    handleEditMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.message = data.chat_message.message;\n        message.cooked = data.chat_message.cooked;\n        message.excerpt = data.chat_message.excerpt;\n        message.uploads = (0, _object.cloneJSON)(data.chat_message.uploads || []);\n        message.edited = data.chat_message.edited;\n      }\n    }\n    handleRefreshMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.incrementVersion();\n      }\n    }\n    handleBulkDeleteMessage(data) {\n      data.deleted_ids.forEach(deletedId => {\n        this.handleDeleteMessage({\n          deleted_id: deletedId,\n          deleted_at: data.deleted_at\n        });\n      });\n    }\n    handleDeleteMessage(data) {\n      const deletedId = data.deleted_id;\n      const targetMsg = this.messagesManager.findMessage(deletedId);\n      if (!targetMsg) {\n        return;\n      }\n      if (this.currentUser.staff || this.currentUser.id === targetMsg.user.id) {\n        targetMsg.deletedAt = data.deleted_at;\n        targetMsg.deletedById = data.deleted_by_id;\n        targetMsg.expanded = false;\n      } else {\n        this.messagesManager.removeMessage(targetMsg);\n      }\n      if (this.channel.currentUserMembership.lastReadMessageId === targetMsg.id) {\n        this.channel.currentUserMembership.lastReadMessageId = data.latest_not_deleted_message_id;\n      }\n    }\n    handleRestoreMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.deletedAt = null;\n      } else {\n        const newMessage = _chatMessage.default.create(this.model, data.chat_message);\n        newMessage.manager = this.messagesManager;\n        this.messagesManager.addMessages([newMessage]);\n      }\n    }\n    handleSelfFlaggedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.userFlagStatus = data.user_flag_status;\n      }\n    }\n    handleFlaggedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.reviewableId = data.reviewable_id;\n      }\n    }\n    handleNewThreadCreated(data) {\n      this.channel.threadsManager.find(this.channel.id, data.thread_id, {\n        fetchIfNotFound: true\n      }).then(thread => {\n        const channelOriginalMessage = this.channel.messagesManager.findMessage(thread.originalMessage.id);\n        if (channelOriginalMessage) {\n          channelOriginalMessage.thread = thread;\n        }\n      });\n    }\n    handleNotice(data) {\n      this.chatChannelNoticesManager.handleNotice(data);\n    }\n    handleThreadOriginalMessageUpdate(data) {\n      const message = this.messagesManager.findMessage(data.original_message_id);\n      if (message?.thread) {\n        message.thread.preview = _chatThreadPreview.default.create(data.preview);\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelNoticesManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"messageBus\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"channel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onMessage\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-channel-thread-subscription-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/service\", \"discourse-common/lib/object\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/models/chat-message\"], function (_exports, _tracking, _application, _service, _object, _decorators, _chatMessage) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelThreadSubscriptionManager = _exports.default = (_class = class ChatChannelThreadSubscriptionManager {\n    constructor(context, thread, {\n      onNewMessage\n    } = {}) {\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"messageBus\", _descriptor2, this);\n      _initializerDefineProperty(this, \"channel\", _descriptor3, this);\n      (0, _application.setOwner)(this, (0, _application.getOwner)(context));\n      this.thread = thread;\n      this.onNewMessage = onNewMessage;\n      this.messageBus.subscribe(this.messageBusChannel, this.onMessage, this.thread.channelMessageBusLastId);\n    }\n    get messagesManager() {\n      return this.thread.messagesManager;\n    }\n    get messageBusChannel() {\n      return `/chat/${this.thread.channel.id}/thread/${this.thread.id}`;\n    }\n    teardown() {\n      this.messageBus.unsubscribe(this.messageBusChannel, this.onMessage);\n    }\n    onMessage(busData, _, __, lastMessageBusId) {\n      switch (busData.type) {\n        case \"sent\":\n          this.handleSentMessage(busData);\n          break;\n        case \"reaction\":\n          this.handleReactionMessage(busData);\n          break;\n        case \"processed\":\n          this.handleProcessedMessage(busData);\n          break;\n        case \"edit\":\n          this.handleEditMessage(busData);\n          break;\n        case \"refresh\":\n          this.handleRefreshMessage(busData);\n          break;\n        case \"delete\":\n          this.handleDeleteMessage(busData);\n          break;\n        case \"bulk_delete\":\n          this.handleBulkDeleteMessage(busData);\n          break;\n        case \"restore\":\n          this.handleRestoreMessage(busData);\n          break;\n        case \"self_flagged\":\n          this.handleSelfFlaggedMessage(busData);\n          break;\n        case \"flag\":\n          this.handleFlaggedMessage(busData);\n          break;\n        case \"thread_created\":\n          this.handleNewThreadCreated(busData);\n          break;\n      }\n      this.thread.threadMessageBusLastId = lastMessageBusId;\n    }\n    handleSentMessage(data) {\n      if (data.chat_message.user.id === this.currentUser.id && data.staged_id) {\n        const stagedMessage = this.handleStagedMessage(this.thread.channel, this.messagesManager, data);\n        if (stagedMessage) {\n          return;\n        }\n      }\n      const message = _chatMessage.default.create(this.thread.channel, data.chat_message);\n      message.thread = this.thread;\n      message.manager = this.messagesManager;\n      this.onNewMessage?.(message);\n    }\n    handleStagedMessage(channel, messagesManager, data) {\n      const stagedMessage = messagesManager.findStagedMessage(data.staged_id);\n      if (!stagedMessage) {\n        return;\n      }\n      stagedMessage.error = null;\n      stagedMessage.id = data.chat_message.id;\n      stagedMessage.staged = false;\n      stagedMessage.excerpt = data.chat_message.excerpt;\n      stagedMessage.channel = channel;\n      stagedMessage.createdAt = new Date(data.chat_message.created_at);\n      return stagedMessage;\n    }\n    handleProcessedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.cooked = data.chat_message.cooked;\n        message.uploads = (0, _object.cloneJSON)(data.chat_message.uploads || []);\n        message.processed = true;\n        message.incrementVersion();\n      }\n    }\n    handleReactionMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.react(data.emoji, data.action, data.user, this.currentUser.id);\n      }\n    }\n    handleEditMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.excerpt = data.chat_message.excerpt;\n        message.uploads = (0, _object.cloneJSON)(data.chat_message.uploads || []);\n        message.edited = data.chat_message.edited;\n      }\n    }\n    handleRefreshMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.incrementVersion();\n      }\n    }\n    handleBulkDeleteMessage(data) {\n      data.deleted_ids.forEach(deletedId => {\n        this.handleDeleteMessage({\n          deleted_id: deletedId,\n          deleted_at: data.deleted_at\n        });\n      });\n    }\n    handleDeleteMessage(data) {\n      const deletedId = data.deleted_id;\n      const targetMsg = this.messagesManager.findMessage(deletedId);\n      if (!targetMsg) {\n        return;\n      }\n      if (this.currentUser.staff || this.currentUser.id === targetMsg.user.id) {\n        targetMsg.deletedAt = data.deleted_at;\n        targetMsg.deletedById = data.deleted_by_id;\n        targetMsg.expanded = false;\n      } else {\n        this.messagesManager.removeMessage(targetMsg);\n      }\n      if (this.thread.currentUserMembership?.lastReadMessageId === targetMsg.id) {\n        this.thread.currentUserMembership.lastReadMessageId = data.latest_not_deleted_message_id;\n      }\n    }\n    handleRestoreMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message.id);\n      if (message) {\n        message.deletedAt = null;\n      } else {\n        const newMessage = _chatMessage.default.create(this.model, data.chat_message);\n        newMessage.manager = this.messagesManager;\n        this.messagesManager.addMessages([newMessage]);\n      }\n    }\n    handleSelfFlaggedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.userFlagStatus = data.user_flag_status;\n      }\n    }\n    handleFlaggedMessage(data) {\n      const message = this.messagesManager.findMessage(data.chat_message_id);\n      if (message) {\n        message.reviewableId = data.reviewable_id;\n      }\n    }\n    handleNewThreadCreated(data) {\n      this.thread.threadsManager.find(this.thread.id, data.thread_id, {\n        fetchIfNotFound: true\n      }).then(thread => {\n        const channelOriginalMessage = this.thread.messagesManager.findMessage(thread.originalMessage.id);\n        if (channelOriginalMessage) {\n          channelOriginalMessage.thread = thread;\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"messageBus\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"channel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onMessage\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-composer-buttons\", [\"exports\", \"discourse-i18n\"], function (_exports, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.chatComposerButtons = chatComposerButtons;\n  _exports.chatComposerButtonsDependentKeys = chatComposerButtonsDependentKeys;\n  _exports.clearChatComposerButtons = clearChatComposerButtons;\n  _exports.registerChatComposerButton = registerChatComposerButton;\n  let _chatComposerButtons = {};\n  function registerChatComposerButton(button) {\n    if (!button.id) {\n      throw new Error(\"Attempted to register a chat composer button with no id.\");\n    }\n    if (_chatComposerButtons[button.id]) {\n      return;\n    }\n    const defaultButton = {\n      id: null,\n      action: null,\n      icon: null,\n      title: null,\n      translatedTitle: null,\n      label: null,\n      translatedLabel: null,\n      ariaLabel: null,\n      translatedAriaLabel: null,\n      position: \"inline\",\n      classNames: [],\n      dependentKeys: [],\n      displayed: true,\n      disabled: false,\n      priority: 0\n    };\n    const normalizedButton = Object.assign(defaultButton, button);\n    if (!normalizedButton.icon && !normalizedButton.label && !normalizedButton.translatedLabel) {\n      throw new Error(`Attempted to register a chat composer button: ${button.id} with no icon or label.`);\n    }\n    _chatComposerButtons[normalizedButton.id] = normalizedButton;\n  }\n  function computeButton(context, button, property) {\n    const field = button[property];\n    if (isFunction(field)) {\n      return field.apply(context);\n    }\n    return field;\n  }\n  function isFunction(descriptor) {\n    return descriptor && typeof descriptor === \"function\";\n  }\n  function chatComposerButtonsDependentKeys() {\n    return [].concat(...Object.values(_chatComposerButtons).mapBy(\"dependentKeys\").filter(Boolean));\n  }\n  function chatComposerButtons(composer, position, context) {\n    return Object.values(_chatComposerButtons).filter(button => {\n      let valid = computeButton(composer, button, \"displayed\") && computeButton(composer, button, \"position\") === position;\n      if (button.context) {\n        valid = valid && computeButton(composer, button, \"context\") === context;\n      }\n      return valid;\n    }).map(button => {\n      const result = {\n        id: button.id\n      };\n      const label = computeButton(composer, button, \"label\");\n      result.label = label ? label : computeButton(composer, button, \"translatedLabel\");\n      const ariaLabel = computeButton(composer, button, \"ariaLabel\");\n      if (ariaLabel) {\n        result.ariaLabel = _discourseI18n.default.t(ariaLabel);\n      } else {\n        const translatedAriaLabel = computeButton(composer, button, \"translatedAriaLabel\");\n        result.ariaLabel = translatedAriaLabel || result.label;\n      }\n      const title = computeButton(composer, button, \"title\");\n      result.title = title ? _discourseI18n.default.t(title) : computeButton(composer, button, \"translatedTitle\");\n      result.classNames = (computeButton(composer, button, \"classNames\") || []).join(\" \");\n      result.icon = computeButton(composer, button, \"icon\");\n      result.disabled = computeButton(composer, button, \"disabled\");\n      result.priority = computeButton(composer, button, \"priority\");\n      if (isFunction(button.action)) {\n        result.action = () => {\n          button.action.apply(composer, [context]);\n        };\n      } else {\n        const actionName = button.action;\n        result.action = () => {\n          composer[actionName](context);\n        };\n      }\n      return result;\n    });\n  }\n  function clearChatComposerButtons() {\n    _chatComposerButtons = [];\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/chat-constants\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.READ_INTERVAL_MS = _exports.PAST = _exports.FUTURE = _exports.DEFAULT_MESSAGE_PAGE_SIZE = void 0;\n  const PAST = _exports.PAST = \"past\";\n  const FUTURE = _exports.FUTURE = \"future\";\n  const READ_INTERVAL_MS = _exports.READ_INTERVAL_MS = 1000;\n  const DEFAULT_MESSAGE_PAGE_SIZE = _exports.DEFAULT_MESSAGE_PAGE_SIZE = 50;\n});","define(\"discourse/plugins/chat/discourse/lib/chat-ios-hacks\", [\"exports\", \"@ember/runloop\", \"discourse/services/capabilities\", \"discourse-common/lib/later\", \"discourse/plugins/chat/discourse/lib/zoom-check\"], function (_exports, _runloop, _capabilities, _later, _zoomCheck) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.bodyScrollFix = bodyScrollFix;\n  _exports.stackingContextFix = stackingContextFix;\n  // since -webkit-overflow-scrolling: touch can't be used anymore to disable momentum scrolling\n  // we use different hacks to work around this\n  // if you change any line in this method, make sure to test on iOS\n  function stackingContextFix(scrollable, callback) {\n    if (_capabilities.capabilities.isIOS) {\n      scrollable.style.overflow = \"hidden\";\n      scrollable.querySelectorAll(\".chat-message-separator__text-container\").forEach(container => container.style.zIndex = \"1\");\n    }\n    callback?.();\n    if (_capabilities.capabilities.isIOS) {\n      (0, _runloop.next)(() => {\n        (0, _runloop.schedule)(\"afterRender\", () => {\n          scrollable.style.overflow = \"auto\";\n          (0, _later.default)(() => {\n            if (!scrollable) {\n              return;\n            }\n            scrollable.querySelectorAll(\".chat-message-separator__text-container\").forEach(container => container.style.zIndex = \"2\");\n          }, 50);\n        });\n      });\n    }\n  }\n  function bodyScrollFix() {\n    // when keyboard is visible this will ensure body\n    // doesn’t scroll out of viewport\n    if (_capabilities.capabilities.isIOS && document.documentElement.classList.contains(\"keyboard-visible\") && !(0, _zoomCheck.default)()) {\n      document.documentElement.scrollTo(0, 0);\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/chat-message-container\", [\"exports\", \"discourse/plugins/chat/discourse/components/chat-message\"], function (_exports, _chatMessage) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = chatMessageContainer;\n  function chatMessageContainer(id, context) {\n    let selector;\n    if (context === _chatMessage.MESSAGE_CONTEXT_THREAD) {\n      selector = `.chat-thread .chat-message-container[data-id=\"${id}\"]`;\n    } else {\n      selector = `.chat-channel .chat-message-container[data-id=\"${id}\"]`;\n    }\n    return document.querySelector(selector);\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/chat-message-flag\", [\"exports\", \"@ember/application\", \"@ember/service\", \"discourse/lib/ajax-error\", \"discourse-common/lib/get-url\", \"discourse-i18n\"], function (_exports, _application, _service, _ajaxError, _getUrl, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessageFlag = _exports.default = (_class = class ChatMessageFlag {\n    constructor(owner) {\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      (0, _application.setOwner)(this, owner);\n    }\n    title() {\n      return \"flagging.title\";\n    }\n    customSubmitLabel() {\n      return \"flagging.notify_action\";\n    }\n    submitLabel() {\n      return \"chat.flagging.action\";\n    }\n    targetsTopic() {\n      return false;\n    }\n    editable() {\n      return false;\n    }\n    _rewriteFlagDescriptions(flags) {\n      return flags.map(flag => {\n        flag.set(\"description\", _discourseI18n.default.t(`chat.flags.${flag.name_key}`, {\n          basePath: (0, _getUrl.default)(\"\")\n        }));\n        return flag;\n      });\n    }\n    flagsAvailable(flagModal) {\n      let flagsAvailable = flagModal.site.flagTypes;\n      flagsAvailable = flagsAvailable.filter(flag => {\n        return flagModal.args.model.flagModel.availableFlags.includes(flag.name_key);\n      });\n\n      // \"message user\" option should be at the top\n      const notifyUserIndex = flagsAvailable.indexOf(flagsAvailable.filterBy(\"name_key\", \"notify_user\")[0]);\n      if (notifyUserIndex !== -1) {\n        const notifyUser = flagsAvailable[notifyUserIndex];\n        flagsAvailable.splice(notifyUserIndex, 1);\n        flagsAvailable.splice(0, 0, notifyUser);\n      }\n      return this._rewriteFlagDescriptions(flagsAvailable);\n    }\n    async create(flagModal, opts) {\n      flagModal.args.closeModal();\n      const channelId = flagModal.args.model.flagModel.channel.id;\n      const messageId = flagModal.args.model.flagModel.id;\n      try {\n        await this.chatApi.flagMessage(channelId, messageId, {\n          flag_type_id: flagModal.selected.id,\n          message: opts.message,\n          is_warning: opts.isWarning,\n          take_action: opts.takeAction,\n          queue_for_review: opts.queue_for_review\n        });\n      } catch (error) {\n        (0, _ajaxError.popupAjaxError)(error);\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-message-interactor\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/object\", \"@ember/service\", \"discourse/components/modal/bookmark\", \"discourse/components/modal/flag\", \"discourse/lib/ajax-error\", \"discourse/lib/bookmark\", \"discourse/lib/utilities\", \"discourse/models/bookmark\", \"discourse-common/lib/get-url\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/components/chat-message\", \"discourse/plugins/chat/discourse/lib/chat-message-flag\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/chat-message-reaction\"], function (_exports, _tracking, _application, _object, _service, _bookmark, _flag, _ajaxError, _bookmark2, _utilities, _bookmark3, _getUrl, _decorators, _discourseI18n, _chatMessage, _chatMessageFlag, _chatMessage2, _chatMessageReaction) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  _exports.removeChatComposerSecondaryActions = removeChatComposerSecondaryActions;\n  _exports.resetRemovedChatComposerSecondaryActions = resetRemovedChatComposerSecondaryActions;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const removedSecondaryActions = new Set();\n  function removeChatComposerSecondaryActions(actionIds) {\n    actionIds.forEach(id => removedSecondaryActions.add(id));\n  }\n  function resetRemovedChatComposerSecondaryActions() {\n    removedSecondaryActions.clear();\n  }\n  let ChatMessageInteractor = _exports.default = (_class = class ChatMessageInteractor {\n    constructor(owner, message, context) {\n      _initializerDefineProperty(this, \"appEvents\", _descriptor, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatEmojiReactionStore\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chatChannelComposer\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatThreadComposer\", _descriptor7, this);\n      _initializerDefineProperty(this, \"chatChannelPane\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatThreadPane\", _descriptor9, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor10, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor11, this);\n      _initializerDefineProperty(this, \"site\", _descriptor12, this);\n      _initializerDefineProperty(this, \"router\", _descriptor13, this);\n      _initializerDefineProperty(this, \"modal\", _descriptor14, this);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor15, this);\n      _initializerDefineProperty(this, \"toasts\", _descriptor16, this);\n      _initializerDefineProperty(this, \"message\", _descriptor17, this);\n      _initializerDefineProperty(this, \"context\", _descriptor18, this);\n      _defineProperty(this, \"cachedFavoritesReactions\", null);\n      (0, _application.setOwner)(this, owner);\n      this.message = message;\n      this.context = context;\n      this.cachedFavoritesReactions = this.chatEmojiReactionStore.favorites;\n    }\n    get pane() {\n      return this.context === _chatMessage.MESSAGE_CONTEXT_THREAD ? this.chatThreadPane : this.chatChannelPane;\n    }\n    get emojiReactions() {\n      let favorites = this.cachedFavoritesReactions;\n\n      // may be a {} if no defaults defined in some production builds\n      if (!favorites || !favorites.slice) {\n        return [];\n      }\n      return favorites.slice(0, 3).map(emoji => {\n        return this.message.reactions.find(reaction => reaction.emoji === emoji) || _chatMessageReaction.default.create({\n          emoji\n        });\n      });\n    }\n    get canEdit() {\n      return !this.message.deletedAt && this.currentUser.id === this.message.user.id && this.message.channel?.canModifyMessages?.(this.currentUser);\n    }\n    get canInteractWithMessage() {\n      return !this.message?.deletedAt && this.message?.channel?.canModifyMessages(this.currentUser);\n    }\n    get canRestoreMessage() {\n      return this.message?.deletedAt && (this.currentUser.staff || this.message?.user?.id === this.currentUser.id && this.message?.deletedById === this.currentUser.id) && this.message.channel?.canModifyMessages?.(this.currentUser);\n    }\n    get canBookmark() {\n      return this.message?.channel?.canModifyMessages?.(this.currentUser);\n    }\n    get canReply() {\n      return this.canInteractWithMessage && this.context !== _chatMessage.MESSAGE_CONTEXT_THREAD;\n    }\n    get canReact() {\n      return this.canInteractWithMessage;\n    }\n    get canFlagMessage() {\n      return this.currentUser.id !== this.message?.user?.id && this.message?.userFlagStatus === undefined && this.message.channel?.canFlag && !this.message?.chatWebhookEvent && !this.message?.deletedAt;\n    }\n    get canRebakeMessage() {\n      return this.currentUser.staff && this.message.channel?.canModifyMessages?.(this.currentUser);\n    }\n    get canDeleteMessage() {\n      return this.canDelete && !this.message?.deletedAt && this.message.channel?.canModifyMessages?.(this.currentUser);\n    }\n    get canDelete() {\n      return this.currentUser.id === this.message.user.id ? this.message.channel?.canDeleteSelf : this.message.channel?.canDeleteOthers;\n    }\n    get composer() {\n      return this.context === _chatMessage.MESSAGE_CONTEXT_THREAD ? this.chatThreadComposer : this.chatChannelComposer;\n    }\n    get secondaryActions() {\n      const buttons = [];\n      buttons.push({\n        id: \"copyLink\",\n        name: _discourseI18n.default.t(\"chat.copy_link\"),\n        icon: \"link\"\n      });\n      if (this.site.mobileView) {\n        buttons.push({\n          id: \"copyText\",\n          name: _discourseI18n.default.t(\"chat.copy_text\"),\n          icon: \"clipboard\"\n        });\n      }\n      if (this.canEdit) {\n        buttons.push({\n          id: \"edit\",\n          name: _discourseI18n.default.t(\"chat.edit\"),\n          icon: \"pencil-alt\"\n        });\n      }\n      if (!this.pane.selectingMessages) {\n        buttons.push({\n          id: \"select\",\n          name: _discourseI18n.default.t(\"chat.select\"),\n          icon: \"tasks\"\n        });\n      }\n      if (this.canFlagMessage) {\n        buttons.push({\n          id: \"flag\",\n          name: _discourseI18n.default.t(\"chat.flag\"),\n          icon: \"flag\"\n        });\n      }\n      if (this.canDeleteMessage) {\n        buttons.push({\n          id: \"delete\",\n          name: _discourseI18n.default.t(\"chat.delete\"),\n          icon: \"trash-alt\"\n        });\n      }\n      if (this.canRestoreMessage) {\n        buttons.push({\n          id: \"restore\",\n          name: _discourseI18n.default.t(\"chat.restore\"),\n          icon: \"undo\"\n        });\n      }\n      if (this.canRebakeMessage) {\n        buttons.push({\n          id: \"rebake\",\n          name: _discourseI18n.default.t(\"chat.rebake_message\"),\n          icon: \"sync-alt\"\n        });\n      }\n      return buttons.reject(button => removedSecondaryActions.has(button.id));\n    }\n    select(checked = true) {\n      this.message.selected = checked;\n      this.pane.onSelectMessage(this.message);\n    }\n    bulkSelect(checked) {\n      const manager = this.message.manager;\n      const lastSelectedIndex = manager.findIndexOfMessage(this.pane.lastSelectedMessage.id);\n      const newlySelectedIndex = manager.findIndexOfMessage(this.message.id);\n      const sortedIndices = [lastSelectedIndex, newlySelectedIndex].sort((a, b) => a - b);\n      for (let i = sortedIndices[0]; i <= sortedIndices[1]; i++) {\n        manager.messages[i].selected = checked;\n      }\n    }\n    copyText() {\n      (0, _utilities.clipboardCopy)(this.message.message);\n      this.toasts.success({\n        duration: 3000,\n        data: {\n          message: _discourseI18n.default.t(\"chat.text_copied\")\n        }\n      });\n    }\n    copyLink() {\n      const {\n        protocol,\n        host\n      } = window.location;\n      const channelId = this.message.channel.id;\n      const threadId = this.message.thread?.id;\n      let url;\n      if (this.context === _chatMessage.MESSAGE_CONTEXT_THREAD && threadId) {\n        url = (0, _getUrl.default)(`/chat/c/-/${channelId}/t/${threadId}/${this.message.id}`);\n      } else {\n        url = (0, _getUrl.default)(`/chat/c/-/${channelId}/${this.message.id}`);\n      }\n      url = url.indexOf(\"/\") === 0 ? protocol + \"//\" + host + url : url;\n      (0, _utilities.clipboardCopy)(url);\n      this.toasts.success({\n        duration: 1500,\n        data: {\n          message: _discourseI18n.default.t(\"chat.link_copied\")\n        }\n      });\n    }\n    react(emoji, reactAction) {\n      if (!this.chat.userCanInteractWithChat) {\n        return;\n      }\n      if (this.pane.reacting) {\n        return;\n      }\n      if (this.capabilities.userHasBeenActive && this.capabilities.canVibrate) {\n        navigator.vibrate(5);\n      }\n      if (this.site.mobileView) {\n        this.chat.activeMessage = null;\n      }\n      if (reactAction === _chatMessageReaction.REACTIONS.add) {\n        this.chatEmojiReactionStore.track(`:${emoji}:`);\n      }\n      this.pane.reacting = true;\n      this.message.react(emoji, reactAction, this.currentUser, this.currentUser.id);\n      return this.chatApi.publishReaction(this.message.channel.id, this.message.id, emoji, reactAction).catch(errResult => {\n        (0, _ajaxError.popupAjaxError)(errResult);\n        this.message.react(emoji, _chatMessageReaction.REACTIONS.remove, this.currentUser, this.currentUser.id);\n      }).finally(() => {\n        this.pane.reacting = false;\n      });\n    }\n    toggleBookmark() {\n      this.modal.show(_bookmark.default, {\n        model: {\n          bookmark: new _bookmark2.BookmarkFormData(this.message.bookmark || _bookmark3.default.createFor(this.currentUser, \"Chat::Message\", this.message.id)),\n          afterSave: savedData => {\n            const bookmark = _bookmark3.default.create(savedData);\n            this.message.bookmark = bookmark;\n            this.appEvents.trigger(\"bookmarks:changed\", savedData, bookmark.attachedTo());\n          },\n          afterDelete: () => {\n            this.message.bookmark = null;\n          }\n        }\n      });\n    }\n    flag() {\n      const model = new _chatMessage2.default(this.message.channel, this.message);\n      model.username = this.message.user?.username;\n      model.user_id = this.message.user?.id;\n      this.modal.show(_flag.default, {\n        model: {\n          flagTarget: new _chatMessageFlag.default((0, _application.getOwner)(this)),\n          flagModel: model,\n          setHidden: () => model.set(\"hidden\", true)\n        }\n      });\n    }\n    delete() {\n      return this.chatApi.trashMessage(this.message.channel.id, this.message.id).catch(_ajaxError.popupAjaxError);\n    }\n    restore() {\n      return this.chatApi.restoreMessage(this.message.channel.id, this.message.id).catch(_ajaxError.popupAjaxError);\n    }\n    rebake() {\n      return this.chatApi.rebakeMessage(this.message.channel.id, this.message.id).catch(_ajaxError.popupAjaxError);\n    }\n    reply() {\n      this.composer.replyTo(this.message);\n    }\n    edit() {\n      this.composer.edit(this.message);\n    }\n    openEmojiPicker(_, {\n      target\n    }) {\n      const pickerState = {\n        didSelectEmoji: this.selectReaction,\n        trigger: target,\n        context: \"chat-channel-message\"\n      };\n      this.chatEmojiPickerManager.open(pickerState);\n    }\n    selectReaction(emoji) {\n      if (!this.chat.userCanInteractWithChat) {\n        return;\n      }\n      this.react(emoji, _chatMessageReaction.REACTIONS.add);\n    }\n    handleSecondaryActions(id) {\n      this[id](this.message);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiReactionStore\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelComposer\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadComposer\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"modal\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"message\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"context\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"react\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"react\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleBookmark\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleBookmark\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"flag\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"flag\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"delete\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"delete\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"restore\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"restore\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"rebake\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"rebake\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"reply\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"reply\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"edit\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"edit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openEmojiPicker\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"openEmojiPicker\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectReaction\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"selectReaction\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleSecondaryActions\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"handleSecondaryActions\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-messages-loader\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/service\", \"discourse/lib/ajax-error\", \"discourse/plugins/chat/discourse/lib/chat-constants\", \"discourse/plugins/chat/discourse/models/chat-channel\"], function (_exports, _tracking, _application, _service, _ajaxError, _chatConstants, _chatChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _apiFunction, _cleanArgs, _computeNextTargetMessage;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessagesLoader = _exports.default = (_class = (_apiFunction = /*#__PURE__*/new WeakSet(), _cleanArgs = /*#__PURE__*/new WeakSet(), _computeNextTargetMessage = /*#__PURE__*/new WeakSet(), class ChatMessagesLoader {\n    constructor(owner, _model) {\n      _classPrivateMethodInitSpec(this, _computeNextTargetMessage);\n      _classPrivateMethodInitSpec(this, _cleanArgs);\n      _classPrivateMethodInitSpec(this, _apiFunction);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"loading\", _descriptor2, this);\n      _initializerDefineProperty(this, \"canLoadMorePast\", _descriptor3, this);\n      _initializerDefineProperty(this, \"canLoadMoreFuture\", _descriptor4, this);\n      _initializerDefineProperty(this, \"fetchedOnce\", _descriptor5, this);\n      (0, _application.setOwner)(this, owner);\n      this.model = _model;\n    }\n    get loadedPast() {\n      return this.canLoadMorePast === false && this.fetchedOnce;\n    }\n    async loadMore(args = {}) {\n      if (this.canLoadMoreFuture === false && args.direction === _chatConstants.FUTURE) {\n        return;\n      }\n      if (this.canLoadMorePast === false && args.direction === _chatConstants.PAST) {\n        return;\n      }\n      const nextTargetMessage = _classPrivateMethodGet(this, _computeNextTargetMessage, _computeNextTargetMessage2).call(this, args.direction, this.model);\n      args = {\n        direction: args.direction,\n        page_size: _chatConstants.DEFAULT_MESSAGE_PAGE_SIZE,\n        target_message_id: nextTargetMessage?.id\n      };\n      args = _classPrivateMethodGet(this, _cleanArgs, _cleanArgs2).call(this, args);\n      let result;\n      try {\n        this.loading = true;\n        result = await _classPrivateMethodGet(this, _apiFunction, _apiFunction2).call(this, args);\n        this.canLoadMoreFuture = result.meta.can_load_more_future;\n        this.canLoadMorePast = result.meta.can_load_more_past;\n      } catch (error) {\n        (0, _ajaxError.popupAjaxError)(error);\n      } finally {\n        this.loading = false;\n      }\n      return result;\n    }\n    async load(args = {}) {\n      this.canLoadMorePast = true;\n      this.canLoadMoreFuture = true;\n      this.fetchedOnce = false;\n      this.loading = true;\n      args.page_size ??= _chatConstants.DEFAULT_MESSAGE_PAGE_SIZE;\n      args = _classPrivateMethodGet(this, _cleanArgs, _cleanArgs2).call(this, args);\n      let result;\n      try {\n        result = await _classPrivateMethodGet(this, _apiFunction, _apiFunction2).call(this, args);\n        this.canLoadMoreFuture = result.meta.can_load_more_future;\n        this.canLoadMorePast = result.meta.can_load_more_past;\n        this.fetchedOnce = true;\n      } catch (error) {\n        (0, _ajaxError.popupAjaxError)(error);\n      } finally {\n        this.loading = false;\n      }\n      return result;\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"canLoadMorePast\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"canLoadMoreFuture\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"fetchedOnce\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  })), _class);\n  function _apiFunction2(args = {}) {\n    if (this.model instanceof _chatChannel.default) {\n      return this.chatApi.channelMessages(this.model.id, args);\n    } else {\n      return this.chatApi.channelThreadMessages(this.model.channel.id, this.model.id, args);\n    }\n  }\n  function _cleanArgs2(args) {\n    return Object.keys(args).filter(k => args[k] != null).reduce((a, k) => ({\n      ...a,\n      [k]: args[k]\n    }), {});\n  }\n  function _computeNextTargetMessage2(direction, model) {\n    return direction === _chatConstants.PAST ? model.messagesManager.messages.find(message => !message.staged) : model.messagesManager.messages.findLast(message => !message.staged);\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/chat-messages-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\"], function (_exports, _tracking, _application) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessagesManager = _exports.default = (_class = class ChatMessagesManager {\n    constructor(owner) {\n      _initializerDefineProperty(this, \"messages\", _descriptor, this);\n      (0, _application.setOwner)(this, owner);\n    }\n    get stagedMessages() {\n      return this.messages.filterBy(\"staged\");\n    }\n    get selectedMessages() {\n      return this.messages.filterBy(\"selected\");\n    }\n    clearSelectedMessages() {\n      this.selectedMessages.forEach(message => message.selected = false);\n    }\n    clear() {\n      this.messages = [];\n    }\n    addMessages(messages = []) {\n      this.messages = this.messages.concat(messages).uniqBy(\"id\").sort((a, b) => a.createdAt - b.createdAt);\n    }\n    findMessage(messageId) {\n      return this.messages.find(message => message.id === parseInt(messageId, 10));\n    }\n    findFirstMessageOfDay(a) {\n      return this.messages.find(b => a.getFullYear() === b.createdAt.getFullYear() && a.getMonth() === b.createdAt.getMonth() && a.getDate() === b.createdAt.getDate());\n    }\n    removeMessage(message) {\n      return this.messages.removeObject(message);\n    }\n    findStagedMessage(stagedMessageId) {\n      return this.stagedMessages.find(message => message.id === stagedMessageId);\n    }\n    findIndexOfMessage(id) {\n      return this.messages.findIndex(m => m.id === id);\n    }\n    findLastMessage() {\n      return this.messages.findLast(message => !message.deletedAt);\n    }\n    findLastUserMessage(user) {\n      return this.messages.findLast(message => message.user.id === user.id && !message.deletedAt);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"messages\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"stagedMessages\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"stagedMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectedMessages\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"selectedMessages\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-notification-levels\", [\"exports\", \"discourse/lib/notification-levels\"], function (_exports, _notificationLevels) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.threadNotificationButtonLevels = void 0;\n  const threadNotificationButtonLevels = _exports.threadNotificationButtonLevels = [_notificationLevels.NotificationLevels.TRACKING, _notificationLevels.NotificationLevels.REGULAR].map(_notificationLevels.buttonDetails);\n});","define(\"discourse/plugins/chat/discourse/lib/chat-threads-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/service\", \"@ember-compat/tracked-built-ins\", \"rsvp\", \"discourse/plugins/chat/discourse/models/chat-thread\"], function (_exports, _tracking, _application, _service, _trackedBuiltIns, _rsvp, _chatThread) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _cache, _getFromCache, _fetchFromServer;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  /*\n    The ChatThreadsManager is responsible for managing the loaded chat threads\n    for a ChatChannel model.\n  \n    It provides helpers to facilitate using and managing loaded threads instead of constantly\n    fetching them from the server.\n  */\n  let ChatThreadsManager = _exports.default = (_class = (_cache = /*#__PURE__*/new WeakSet(), _getFromCache = /*#__PURE__*/new WeakSet(), _fetchFromServer = /*#__PURE__*/new WeakSet(), class ChatThreadsManager {\n    constructor(owner) {\n      _classPrivateMethodInitSpec(this, _fetchFromServer);\n      _classPrivateMethodInitSpec(this, _getFromCache);\n      _classPrivateMethodInitSpec(this, _cache);\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor3, this);\n      _initializerDefineProperty(this, \"_cached\", _descriptor4, this);\n      _initializerDefineProperty(this, \"_unreadThreadOverview\", _descriptor5, this);\n      (0, _application.setOwner)(this, owner);\n    }\n    get unreadThreadCount() {\n      return this.unreadThreadOverview.size;\n    }\n    get unreadThreadOverview() {\n      return this._unreadThreadOverview;\n    }\n    set unreadThreadOverview(unreadThreadOverview) {\n      this._unreadThreadOverview.clear();\n      for (const [threadId, lastReplyCreatedAt] of Object.entries(unreadThreadOverview)) {\n        this.markThreadUnread(threadId, lastReplyCreatedAt);\n      }\n    }\n    markThreadUnread(threadId, lastReplyCreatedAt) {\n      this.unreadThreadOverview.set(parseInt(threadId, 10), new Date(lastReplyCreatedAt));\n    }\n    get threads() {\n      return Object.values(this._cached);\n    }\n    async find(channelId, threadId, options = {\n      fetchIfNotFound: true\n    }) {\n      const existingThread = _classPrivateMethodGet(this, _getFromCache, _getFromCache2).call(this, threadId);\n      if (existingThread) {\n        return _rsvp.default.resolve(existingThread);\n      } else if (options.fetchIfNotFound) {\n        return _classPrivateMethodGet(this, _fetchFromServer, _fetchFromServer2).call(this, channelId, threadId);\n      } else {\n        return _rsvp.default.resolve();\n      }\n    }\n    remove(threadObject) {\n      delete this._cached[threadObject.id];\n    }\n    add(channel, threadObject, options = {}) {\n      let model;\n      if (!options.replace) {\n        model = _classPrivateMethodGet(this, _getFromCache, _getFromCache2).call(this, threadObject.id);\n      }\n      if (!model) {\n        if (threadObject instanceof _chatThread.default) {\n          model = threadObject;\n        } else {\n          model = _chatThread.default.create(channel, threadObject);\n        }\n        _classPrivateMethodGet(this, _cache, _cache2).call(this, model);\n      }\n      if (threadObject?.meta?.message_bus_last_ids?.thread_message_bus_last_id) {\n        model.threadMessageBusLastId = threadObject.meta.message_bus_last_ids.thread_message_bus_last_id;\n      }\n      return model;\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"_cached\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return new _trackedBuiltIns.TrackedObject();\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"_unreadThreadOverview\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return new _trackedBuiltIns.TrackedMap();\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"threads\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"threads\"), _class.prototype)), _class);\n  function _cache2(thread) {\n    this._cached[thread.id] = thread;\n  }\n  function _getFromCache2(id) {\n    return this._cached[id];\n  }\n  async function _fetchFromServer2(channelId, threadId) {\n    return this.chatApi.thread(channelId, threadId).then(result => {\n      return this.chatChannelsManager.find(channelId).then(channel => {\n        return channel.threadsManager.add(channel, result.thread);\n      });\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/chat-user-preferences\", [\"exports\", \"discourse/plugins/chat/discourse/controllers/preferences-chat\"], function (_exports, _preferencesChat) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.hasChatIndicator = hasChatIndicator;\n  function hasChatIndicator(user) {\n    const pref = user.user_option.chat_header_indicator_preference;\n    return {\n      ALL_NEW: pref === _preferencesChat.HEADER_INDICATOR_PREFERENCE_ALL_NEW,\n      DM_AND_MENTIONS: pref === _preferencesChat.HEADER_INDICATOR_PREFERENCE_DM_AND_MENTIONS,\n      ONLY_MENTIONS: pref === _preferencesChat.HEADER_INDICATOR_PREFERENCE_ONLY_MENTIONS,\n      NEVER: pref === _preferencesChat.HEADER_INDICATOR_PREFERENCE_NEVER\n    };\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/check-message-visibility\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.checkMessageBottomVisibility = checkMessageBottomVisibility;\n  _exports.checkMessageTopVisibility = checkMessageTopVisibility;\n  function checkMessageBottomVisibility(list, message) {\n    const distanceToTop = window.pageYOffset + list.getBoundingClientRect().top;\n    const bounding = message.getBoundingClientRect();\n    return bounding.bottom - distanceToTop <= list.clientHeight + 1;\n  }\n  function checkMessageTopVisibility(list, message) {\n    const distanceToTop = window.pageYOffset + list.getBoundingClientRect().top;\n    const bounding = message.getBoundingClientRect();\n    return bounding.top - distanceToTop >= -1;\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/collection\", [\"exports\", \"@glimmer/tracking\", \"rsvp\", \"discourse/lib/ajax\", \"discourse-common/utils/decorators\"], function (_exports, _tracking, _rsvp, _ajax, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  let _Symbol$iterator;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _fetch;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  /**\n   * Handles a paginated API response.\n   */\n  let Collection = _exports.default = (_class = (_fetch = /*#__PURE__*/new WeakSet(), _Symbol$iterator = Symbol.iterator, class Collection {\n    constructor(resourceURL, handler, params = {}) {\n      _classPrivateMethodInitSpec(this, _fetch);\n      _initializerDefineProperty(this, \"items\", _descriptor, this);\n      _initializerDefineProperty(this, \"meta\", _descriptor2, this);\n      _initializerDefineProperty(this, \"loading\", _descriptor3, this);\n      _initializerDefineProperty(this, \"fetchedOnce\", _descriptor4, this);\n      this._resourceURL = resourceURL;\n      this._handler = handler;\n      this._params = params;\n      this._fetchedAll = false;\n    }\n    get loadMoreURL() {\n      return this.meta?.load_more_url;\n    }\n    get totalRows() {\n      return this.meta?.total_rows;\n    }\n    get length() {\n      return this.items?.length;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\n    [_Symbol$iterator]() {\n      let index = 0;\n      return {\n        next: () => {\n          if (index < this.length) {\n            return {\n              value: this.items[index++],\n              done: false\n            };\n          } else {\n            return {\n              done: true\n            };\n          }\n        }\n      };\n    }\n\n    /**\n     * Loads first batch of results\n     * @returns {Promise}\n     */\n    load(params = {}) {\n      if (this.loading || this._fetchedAll || this.totalRows && this.items.length >= this.totalRows) {\n        return _rsvp.Promise.resolve();\n      }\n      this.loading = true;\n      let endpoint;\n      if (this.loadMoreURL) {\n        endpoint = this.loadMoreURL;\n      } else {\n        const filteredQueryParams = Object.entries(params).filter(([, v]) => v !== undefined);\n        const queryString = new URLSearchParams(filteredQueryParams).toString();\n        endpoint = this._resourceURL + (queryString ? `?${queryString}` : \"\");\n      }\n      return _classPrivateMethodGet(this, _fetch, _fetch2).call(this, endpoint).then(result => {\n        const items = this._handler(result);\n        if (items.length) {\n          this.items = (this.items ?? []).concat(items);\n        }\n        if (!items.length || items.length < params.limit) {\n          this._fetchedAll = true;\n        }\n        this.meta = result.meta;\n        this.fetchedOnce = true;\n      }).finally(() => {\n        this.loading = false;\n      });\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"items\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"meta\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return {};\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"fetchedOnce\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"load\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"load\"), _class.prototype)), _class);\n  function _fetch2(url) {\n    return (0, _ajax.ajax)(url, {\n      type: \"GET\",\n      data: this._params\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/fabricators\", [\"exports\", \"discourse/models/bookmark\", \"discourse/models/category\", \"discourse/models/group\", \"discourse/models/user\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"discourse/plugins/chat/discourse/models/chat-direct-message\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/chat-message-reaction\", \"discourse/plugins/chat/discourse/models/chat-thread\", \"discourse/plugins/chat/discourse/models/chat-thread-preview\"], function (_exports, _bookmark, _category, _group, _user, _chatChannel, _chatDirectMessage, _chatMessage, _chatMessageReaction, _chatThread, _chatThreadPreview) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  /*\n  Fabricators are used to create fake data for testing purposes.\n  The following fabricators are available in lib folder to allow\n  styleguide to use them, and eventually to generate dummy data\n  in a placeholder component. It should not be used for any other case.\n  */\n\n  let sequence = 0;\n  function messageFabricator(args = {}) {\n    const channel = args.channel || channelFabricator();\n    const message = _chatMessage.default.create(channel, Object.assign({\n      id: args.id || sequence++,\n      user: args.user || userFabricator(),\n      message: args.message || \"@discobot **abc**defghijklmnopqrstuvwxyz [discourse](discourse.org) :rocket: \",\n      created_at: args.created_at || moment()\n    }, args));\n    const excerptLength = 50;\n    const text = message.message.toString();\n    if (text.length <= excerptLength) {\n      message.excerpt = text;\n    } else {\n      message.excerpt = text.slice(0, excerptLength) + \"...\";\n    }\n    return message;\n  }\n  function channelFabricator(args = {}) {\n    const id = args.id || sequence++;\n    const chatable = args.chatable || categoryFabricator();\n    const channel = _chatChannel.default.create({\n      id,\n      chatable_type: (chatable instanceof _category.default ? _chatChannel.CHATABLE_TYPES.categoryChannel : _chatChannel.CHATABLE_TYPES.directMessageChannel) || chatable?.type || args.chatable_type,\n      chatable_id: chatable?.id || args.chatable_id,\n      title: args.title ? args.title : chatable instanceof _category.default ? \"General\" : null,\n      description: args.description,\n      chatable,\n      status: args.status || _chatChannel.CHANNEL_STATUSES.open,\n      slug: chatable?.slug || chatable instanceof _category.default ? \"general\" : null,\n      meta: Object.assign({\n        can_delete_self: true\n      }, args.meta || {}),\n      archive_failed: args.archive_failed ?? false,\n      memberships_count: args.memberships_count ?? 0\n    });\n    channel.lastMessage = messageFabricator({\n      channel\n    });\n    return channel;\n  }\n  function categoryFabricator(args = {}) {\n    return _category.default.create({\n      id: args.id || sequence++,\n      color: args.color || \"D56353\",\n      read_restricted: args.read_restricted ?? false,\n      name: args.name || \"General\",\n      slug: args.slug || \"general\"\n    });\n  }\n  function directMessageFabricator(args = {}) {\n    return _chatDirectMessage.default.create({\n      group: args.group ?? false,\n      users: args.users ?? [userFabricator(), userFabricator()]\n    });\n  }\n  function directMessageChannelFabricator(args = {}) {\n    const directMessage = args.chatable || directMessageFabricator({\n      id: args.chatable_id || sequence++,\n      group: args.group ?? false,\n      users: args.users\n    });\n    return channelFabricator(Object.assign(args, {\n      chatable_type: _chatChannel.CHATABLE_TYPES.directMessageChannel,\n      chatable_id: directMessage.id,\n      chatable: directMessage,\n      memberships_count: directMessage.users.length\n    }));\n  }\n  function userFabricator(args = {}) {\n    return _user.default.create({\n      id: args.id || sequence++,\n      username: args.username || \"hawk\",\n      name: args.name,\n      avatar_template: \"/letter_avatar_proxy/v3/letter/t/41988e/{size}.png\",\n      suspended_till: args.suspended_till\n    });\n  }\n  function bookmarkFabricator(args = {}) {\n    return _bookmark.default.create({\n      id: args.id || sequence++\n    });\n  }\n  function threadFabricator(args = {}) {\n    const channel = args.channel || channelFabricator();\n    return _chatThread.default.create(channel, {\n      id: args.id || sequence++,\n      title: args.title,\n      original_message: args.original_message || messageFabricator({\n        channel\n      }),\n      preview: args.preview || threadPreviewFabricator({\n        channel\n      })\n    });\n  }\n  function threadPreviewFabricator(args = {}) {\n    return _chatThreadPreview.default.create({\n      last_reply_id: args.last_reply_id || sequence++,\n      last_reply_created_at: args.last_reply_created_at || Date.now(),\n      last_reply_excerpt: args.last_reply_excerpt || \"This is a reply\",\n      participant_count: args.participant_count ?? 0,\n      participant_users: args.participant_users ?? []\n    });\n  }\n  function reactionFabricator(args = {}) {\n    return _chatMessageReaction.default.create({\n      count: args.count ?? 1,\n      users: args.users || [userFabricator()],\n      emoji: args.emoji || \"heart\",\n      reacted: args.reacted ?? false\n    });\n  }\n  function groupFabricator(args = {}) {\n    return _group.default.create({\n      name: args.name || \"Engineers\"\n    });\n  }\n  function uploadFabricator() {\n    return {\n      extension: \"jpeg\",\n      filesize: 126177,\n      height: 800,\n      human_filesize: \"123 KB\",\n      id: 202,\n      original_filename: \"avatar.PNG.jpg\",\n      retain_hours: null,\n      short_path: \"/images/avatar.png\",\n      short_url: \"upload://yoj8pf9DdIeHRRULyw7i57GAYdz.jpeg\",\n      thumbnail_height: 320,\n      thumbnail_width: 690,\n      url: \"/images/avatar.png\",\n      width: 1920\n    };\n  }\n  var _default = _exports.default = {\n    bookmark: bookmarkFabricator,\n    user: userFabricator,\n    channel: channelFabricator,\n    directMessageChannel: directMessageChannelFabricator,\n    message: messageFabricator,\n    thread: threadFabricator,\n    threadPreview: threadPreviewFabricator,\n    reaction: reactionFabricator,\n    upload: uploadFabricator,\n    category: categoryFabricator,\n    directMessage: directMessageFabricator,\n    group: groupFabricator\n  };\n});","define(\"discourse/plugins/chat/discourse/lib/get-reaction-text\", [\"exports\", \"discourse-i18n\"], function (_exports, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.MAX_DISPLAYED_USERNAMES = void 0;\n  _exports.getReactionText = getReactionText;\n  const MAX_DISPLAYED_USERNAMES = _exports.MAX_DISPLAYED_USERNAMES = 15;\n  function filterUsernames(users, currentUser) {\n    return users.filter(user => user.id !== currentUser?.id).slice(0, MAX_DISPLAYED_USERNAMES).mapBy(\"username\");\n  }\n  function reactionIncludingCurrentUser(reaction, currentUser) {\n    if (reaction.count === 1) {\n      return _discourseI18n.default.t(\"chat.reactions.only_you\", {\n        emoji: reaction.emoji\n      });\n    }\n    const usernames = filterUsernames(reaction.users, currentUser);\n    if (reaction.count === 2) {\n      return _discourseI18n.default.t(\"chat.reactions.you_and_single_user\", {\n        emoji: reaction.emoji,\n        username: usernames.pop()\n      });\n    }\n\n    // - 1 for \"you\"\n    const unnamedUserCount = reaction.count - usernames.length - 1;\n    if (unnamedUserCount > 0) {\n      return _discourseI18n.default.t(\"chat.reactions.you_multiple_users_and_more\", {\n        emoji: reaction.emoji,\n        commaSeparatedUsernames: joinUsernames(usernames),\n        count: unnamedUserCount\n      });\n    }\n    return _discourseI18n.default.t(\"chat.reactions.you_and_multiple_users\", {\n      emoji: reaction.emoji,\n      username: usernames.pop(),\n      commaSeparatedUsernames: joinUsernames(usernames)\n    });\n  }\n  function reactionText(reaction, currentUser) {\n    const usernames = filterUsernames(reaction.users, currentUser);\n    if (reaction.count === 1) {\n      return _discourseI18n.default.t(\"chat.reactions.single_user\", {\n        emoji: reaction.emoji,\n        username: usernames.pop()\n      });\n    }\n    const unnamedUserCount = reaction.count - usernames.length;\n    if (unnamedUserCount > 0) {\n      return _discourseI18n.default.t(\"chat.reactions.multiple_users_and_more\", {\n        emoji: reaction.emoji,\n        commaSeparatedUsernames: joinUsernames(usernames),\n        count: unnamedUserCount\n      });\n    }\n    return _discourseI18n.default.t(\"chat.reactions.multiple_users\", {\n      emoji: reaction.emoji,\n      username: usernames.pop(),\n      commaSeparatedUsernames: joinUsernames(usernames)\n    });\n  }\n  function joinUsernames(usernames) {\n    return usernames.join(_discourseI18n.default.t(\"word_connector.comma\"));\n  }\n  function getReactionText(reaction, currentUser) {\n    if (reaction.count === 0) {\n      return;\n    }\n    if (reaction.reacted) {\n      return reactionIncludingCurrentUser(reaction, currentUser);\n    } else {\n      return reactionText(reaction, currentUser);\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.getUserChatSeparateSidebarMode = getUserChatSeparateSidebarMode;\n  function getUserChatSeparateSidebarMode(user) {\n    let mode = user?.get(\"user_option.chat_separate_sidebar_mode\");\n    if (mode === \"default\") {\n      mode = user.siteSettings.chat_separate_sidebar_mode;\n    }\n    return {\n      never: \"never\" === mode,\n      always: \"always\" === mode,\n      fullscreen: \"fullscreen\" === mode\n    };\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/hashtag-types/channel\", [\"exports\", \"@ember/service\", \"discourse/lib/hashtag-types/base\", \"discourse-common/lib/icon-library\"], function (_exports, _service, _base, _iconLibrary) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChannelHashtagType = _exports.default = (_class = class ChannelHashtagType extends _base.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor2, this);\n    }\n    get type() {\n      return \"channel\";\n    }\n    get preloadedData() {\n      if (this.currentUser) {\n        return this.chatChannelsManager.publicMessageChannels;\n      } else {\n        return [];\n      }\n    }\n    generateColorCssClasses(channel) {\n      return [`.d-icon.hashtag-color--${this.type}-${channel.id} { color: var(--category-${channel.chatable.id}-color); }`];\n    }\n    generateIconHTML(hashtag) {\n      const hashtagId = parseInt(hashtag.id, 10);\n      const colorCssClass = !this.preloadedData.mapBy(\"id\").includes(hashtagId) ? \"hashtag-missing\" : `hashtag-color--${this.type}-${hashtag.id}`;\n      return (0, _iconLibrary.iconHTML)(hashtag.icon, {\n        class: colorCssClass\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/init-sidebar-state\", [\"exports\", \"discourse/services/sidebar-state\", \"discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode\"], function (_exports, _sidebarState, _getUserChatSeparateSidebarMode) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.CHAT_PANEL = void 0;\n  _exports.initSidebarState = initSidebarState;\n  const CHAT_PANEL = _exports.CHAT_PANEL = \"chat\";\n  function initSidebarState(api, user) {\n    if (api.getSidebarPanel()?.key === _sidebarState.ADMIN_PANEL) {\n      return;\n    }\n    api.setSidebarPanel(_sidebarState.MAIN_PANEL);\n    const chatSeparateSidebarMode = (0, _getUserChatSeparateSidebarMode.getUserChatSeparateSidebarMode)(user);\n    if (chatSeparateSidebarMode.fullscreen) {\n      api.setCombinedSidebarMode();\n      api.showSidebarSwitchPanelButtons();\n    } else if (chatSeparateSidebarMode.always) {\n      api.setSeparatedSidebarMode();\n    } else {\n      api.setCombinedSidebarMode();\n      api.hideSidebarSwitchPanelButtons();\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/scroll-helpers\", [\"exports\", \"@ember/runloop\", \"discourse/plugins/chat/discourse/lib/chat-ios-hacks\"], function (_exports, _runloop, _chatIosHacks) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.scrollListToBottom = scrollListToBottom;\n  _exports.scrollListToMessage = scrollListToMessage;\n  _exports.scrollListToTop = scrollListToTop;\n  function scrollListToBottom(list) {\n    (0, _chatIosHacks.stackingContextFix)(list, () => {\n      list.scrollTo({\n        top: 0,\n        behavior: \"auto\"\n      });\n    });\n  }\n  function scrollListToTop(list) {\n    (0, _chatIosHacks.stackingContextFix)(list, () => {\n      list.scrollTo({\n        top: -list.scrollHeight,\n        behavior: \"auto\"\n      });\n    });\n  }\n  function scrollListToMessage(list, message, opts = {\n    highlight: false,\n    position: \"start\",\n    autoExpand: false\n  }) {\n    if (!message) {\n      return;\n    }\n    if (message?.deletedAt && opts.autoExpand) {\n      message.expanded = true;\n    }\n    (0, _runloop.schedule)(\"afterRender\", () => {\n      const messageEl = list.querySelector(`.chat-message-container[data-id='${message.id}']`);\n      if (!messageEl) {\n        return;\n      }\n      if (opts.highlight) {\n        message.highlight();\n      }\n      (0, _chatIosHacks.stackingContextFix)(list, () => {\n        messageEl.scrollIntoView({\n          behavior: \"auto\",\n          block: opts.position || \"center\"\n        });\n      });\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/slugify-channel\", [\"exports\", \"discourse/lib/utilities\"], function (_exports, _utilities) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = slugifyChannel;\n  function slugifyChannel(channel) {\n    if (channel.slug) {\n      return channel.slug;\n    }\n    if (!channel.escapedTitle && !channel.title) {\n      return \"-\";\n    }\n    const slug = (0, _utilities.slugify)(channel.escapedTitle || channel.title);\n    const resolvedSlug = (slug.length ? slug : channel.title.trim().toLowerCase().replace(/\\s|_+/g, \"-\")).slice(0, 100);\n    if (!resolvedSlug) {\n      return \"-\";\n    }\n    return resolvedSlug;\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/textarea-interactor\", [\"exports\", \"@ember/application\", \"@ember/destroyable\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"discourse/mixins/textarea-text-manipulation\"], function (_exports, _application, _destroyable, _object, _runloop, _service, _textareaTextManipulation) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  // This class sole purpose is to provide a way to interact with the textarea\n  // using the existing TextareaTextManipulation mixin without using it directly\n  // in the composer component. It will make future migration easier.\n  let TextareaInteractor = _exports.default = (_class = class TextareaInteractor extends _object.default.extend(_textareaTextManipulation.default) {\n    constructor(owner, textarea) {\n      super(...arguments);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor3, this);\n      (0, _application.setOwner)(this, owner);\n      this.textarea = textarea;\n      this._textarea = textarea;\n      this.element = this._textarea;\n      this.ready = true;\n      this.composerFocusSelector = `#${textarea.id}`;\n      this.init(); // mixin init wouldn't be called otherwise\n      this.composerEventPrefix = null; // we don't need app events\n\n      // paste is using old native ember events defined on composer\n      this.textarea.addEventListener(\"paste\", this.paste);\n      (0, _destroyable.registerDestructor)(this, instance => instance.teardown());\n    }\n    teardown() {\n      this.textarea.removeEventListener(\"paste\", this.paste);\n    }\n    set value(value) {\n      this._textarea.value = value;\n      const event = new Event(\"input\", {\n        bubbles: true,\n        cancelable: true\n      });\n      this._textarea.dispatchEvent(event);\n    }\n    blur() {\n      (0, _runloop.next)(() => {\n        (0, _runloop.schedule)(\"afterRender\", () => {\n          this._textarea.blur();\n        });\n      });\n    }\n    focus(opts = {\n      ensureAtEnd: false,\n      refreshHeight: true,\n      addText: null\n    }) {\n      (0, _runloop.next)(() => {\n        (0, _runloop.schedule)(\"afterRender\", () => {\n          if (opts.refreshHeight) {\n            this.refreshHeight();\n          }\n          if (opts.ensureAtEnd) {\n            this.ensureCaretAtEnd();\n          }\n          if (this.capabilities.isIpadOS || this.site.mobileView) {\n            return;\n          }\n          if (opts.addText) {\n            this.addText(this.getSelected(), opts.addText);\n          }\n          this.focusTextArea();\n        });\n      });\n    }\n    ensureCaretAtEnd() {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        this._textarea.setSelectionRange(this._textarea.value.length, this._textarea.value.length);\n      });\n    }\n    refreshHeight() {\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        // this is a quirk which forces us to `auto` first or textarea\n        // won't resize\n        this._textarea.style.height = \"auto\";\n\n        // +1 is to workaround a rounding error visible on electron\n        // causing scrollbars to show when they shouldn’t\n        this._textarea.style.height = this._textarea.scrollHeight + 1 + \"px\";\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/lib/transform-auto-links\", [\"exports\", \"discourse/lib/hashtag-autocomplete\", \"discourse-common/lib/get-url\"], function (_exports, _hashtagAutocomplete, _getUrl) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = transformAutolinks;\n  const domParser = new DOMParser();\n  function transformAutolinks(cooked) {\n    const html = domParser.parseFromString(cooked, \"text/html\");\n    transformMentions(html);\n    transformHashtags(html);\n    return html.body.innerHTML;\n  }\n  function transformMentions(html) {\n    (html.querySelectorAll(\"span.mention\") || []).forEach(mentionSpan => {\n      let mentionLink = document.createElement(\"a\");\n      let mentionText = document.createTextNode(mentionSpan.innerText);\n      mentionLink.classList.add(\"mention\");\n      mentionLink.appendChild(mentionText);\n      mentionLink.href = (0, _getUrl.default)(`/u/${mentionSpan.innerText.substring(1)}`);\n      mentionSpan.replaceWith(mentionLink);\n    });\n  }\n  function transformHashtags(html) {\n    (html.querySelectorAll(\"span.hashtag-raw\") || []).forEach(hashtagSpan => {\n      // Doesn't matter what \"type\" of hashtag we use here, it will get replaced anyway,\n      // this is just for the placeholder HTML.\n      (0, _hashtagAutocomplete.generatePlaceholderHashtagHTML)(\"category\", hashtagSpan, {\n        id: -1,\n        text: \"...\",\n        relative_url: \"/\",\n        slug: \"\",\n        icon: \"square-full\"\n      });\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/lib/zoom-check\", [\"exports\", \"discourse-common/config/environment\"], function (_exports, _environment) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = isZoomed;\n  // return true when the browser viewport is zoomed\n  function isZoomed() {\n    return !(0, _environment.isTesting)() && visualViewport?.scale !== 1 && document.documentElement.clientWidth / window.innerWidth !== 1;\n  }\n});","define(\"discourse/plugins/chat/discourse/models/chat-channel-archive\", [\"exports\", \"@glimmer/tracking\"], function (_exports, _tracking) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelArchive = _exports.default = (_class = class ChatChannelArchive {\n    static create(args = {}) {\n      return new ChatChannelArchive(args);\n    }\n    constructor(args = {}) {\n      _initializerDefineProperty(this, \"failed\", _descriptor, this);\n      _initializerDefineProperty(this, \"completed\", _descriptor2, this);\n      _initializerDefineProperty(this, \"messages\", _descriptor3, this);\n      _initializerDefineProperty(this, \"topicId\", _descriptor4, this);\n      _initializerDefineProperty(this, \"totalMessages\", _descriptor5, this);\n      this.failed = args.archive_failed;\n      this.completed = args.archive_completed;\n      this.messages = args.archived_messages;\n      this.topicId = args.archive_topic_id;\n      this.totalMessages = args.total_messages;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"failed\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"completed\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"messages\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"topicId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"totalMessages\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/chat-channel\", [\"exports\", \"@glimmer/tracking\", \"pretty-text/guid\", \"discourse/lib/utilities\", \"discourse/models/category\", \"discourse-common/lib/get-owner\", \"discourse/plugins/chat/discourse/lib/chat-messages-manager\", \"discourse/plugins/chat/discourse/lib/chat-threads-manager\", \"discourse/plugins/chat/discourse/lib/slugify-channel\", \"discourse/plugins/chat/discourse/models/chat-channel-archive\", \"discourse/plugins/chat/discourse/models/chat-direct-message\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/chat-tracking-state\", \"discourse/plugins/chat/discourse/models/user-chat-channel-membership\"], function (_exports, _tracking, _guid, _utilities, _category, _getOwner, _chatMessagesManager, _chatThreadsManager, _slugifyChannel, _chatChannelArchive, _chatDirectMessage, _chatMessage, _chatTrackingState, _userChatChannelMembership) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.CHATABLE_TYPES = _exports.CHANNEL_STATUSES = void 0;\n  _exports.channelStatusIcon = channelStatusIcon;\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _initChatable;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const CHATABLE_TYPES = _exports.CHATABLE_TYPES = {\n    directMessageChannel: \"DirectMessage\",\n    categoryChannel: \"Category\"\n  };\n  const CHANNEL_STATUSES = _exports.CHANNEL_STATUSES = {\n    open: \"open\",\n    readOnly: \"read_only\",\n    closed: \"closed\",\n    archived: \"archived\"\n  };\n  function channelStatusIcon(channelStatus) {\n    if (channelStatus === CHANNEL_STATUSES.open) {\n      return null;\n    }\n    switch (channelStatus) {\n      case CHANNEL_STATUSES.closed:\n        return \"lock\";\n      case CHANNEL_STATUSES.readOnly:\n        return \"comment-slash\";\n      case CHANNEL_STATUSES.archived:\n        return \"archive\";\n    }\n  }\n  const STAFF_READONLY_STATUSES = [CHANNEL_STATUSES.readOnly, CHANNEL_STATUSES.archived];\n  const READONLY_STATUSES = [CHANNEL_STATUSES.closed, CHANNEL_STATUSES.readOnly, CHANNEL_STATUSES.archived];\n  let ChatChannel = _exports.default = (_class = (_initChatable = /*#__PURE__*/new WeakSet(), class ChatChannel {\n    static create(args = {}) {\n      return new ChatChannel(args);\n    }\n    constructor(args = {}) {\n      _classPrivateMethodInitSpec(this, _initChatable);\n      _initializerDefineProperty(this, \"title\", _descriptor, this);\n      _initializerDefineProperty(this, \"slug\", _descriptor2, this);\n      _initializerDefineProperty(this, \"description\", _descriptor3, this);\n      _initializerDefineProperty(this, \"status\", _descriptor4, this);\n      _initializerDefineProperty(this, \"activeThread\", _descriptor5, this);\n      _initializerDefineProperty(this, \"meta\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatableId\", _descriptor7, this);\n      _initializerDefineProperty(this, \"chatableType\", _descriptor8, this);\n      _initializerDefineProperty(this, \"chatableUrl\", _descriptor9, this);\n      _initializerDefineProperty(this, \"autoJoinUsers\", _descriptor10, this);\n      _initializerDefineProperty(this, \"allowChannelWideMentions\", _descriptor11, this);\n      _initializerDefineProperty(this, \"membershipsCount\", _descriptor12, this);\n      _initializerDefineProperty(this, \"archive\", _descriptor13, this);\n      _initializerDefineProperty(this, \"tracking\", _descriptor14, this);\n      _initializerDefineProperty(this, \"threadingEnabled\", _descriptor15, this);\n      _initializerDefineProperty(this, \"draft\", _descriptor16, this);\n      _defineProperty(this, \"threadsManager\", new _chatThreadsManager.default((0, _getOwner.getOwnerWithFallback)(this)));\n      _defineProperty(this, \"messagesManager\", new _chatMessagesManager.default((0, _getOwner.getOwnerWithFallback)(this)));\n      _initializerDefineProperty(this, \"_currentUserMembership\", _descriptor17, this);\n      _initializerDefineProperty(this, \"_lastMessage\", _descriptor18, this);\n      this.id = args.id;\n      this.chatableId = args.chatable_id;\n      this.chatableUrl = args.chatable_url;\n      this.chatableType = args.chatable_type;\n      this.membershipsCount = args.memberships_count;\n      this.slug = args.slug;\n      this.title = args.title;\n      this.status = args.status;\n      this.description = args.description;\n      this.threadingEnabled = args.threading_enabled;\n      this.autoJoinUsers = args.auto_join_users;\n      this.allowChannelWideMentions = args.allow_channel_wide_mentions;\n      this.chatable = _classPrivateMethodGet(this, _initChatable, _initChatable2).call(this, args.chatable || []);\n      this.currentUserMembership = args.current_user_membership;\n      if (args.archive_completed || args.archive_failed) {\n        this.archive = _chatChannelArchive.default.create(args);\n      }\n      this.tracking = new _chatTrackingState.default((0, _getOwner.getOwnerWithFallback)(this));\n      this.lastMessage = args.last_message;\n      this.meta = args.meta;\n    }\n    get unreadThreadsCountSinceLastViewed() {\n      return Array.from(this.threadsManager.unreadThreadOverview.values()).filter(lastReplyCreatedAt => lastReplyCreatedAt >= this.currentUserMembership.lastViewedAt).length;\n    }\n    get unreadThreadsCount() {\n      return Array.from(this.threadsManager.unreadThreadOverview.values()).length;\n    }\n    updateLastViewedAt() {\n      this.currentUserMembership.lastViewedAt = new Date();\n    }\n    get canDeleteSelf() {\n      return this.meta.can_delete_self;\n    }\n    get canDeleteOthers() {\n      return this.meta.can_delete_others;\n    }\n    get canFlag() {\n      return this.meta.can_flag;\n    }\n    get userSilenced() {\n      return this.meta.user_silenced;\n    }\n    get canModerate() {\n      return this.meta.can_moderate;\n    }\n    get escapedTitle() {\n      return (0, _utilities.escapeExpression)(this.title);\n    }\n    get escapedDescription() {\n      return (0, _utilities.escapeExpression)(this.description);\n    }\n    get slugifiedTitle() {\n      return this.slug || (0, _slugifyChannel.default)(this);\n    }\n    get routeModels() {\n      return [this.slugifiedTitle, this.id];\n    }\n    get isDirectMessageChannel() {\n      return this.chatableType === CHATABLE_TYPES.directMessageChannel;\n    }\n    get isCategoryChannel() {\n      return this.chatableType === CHATABLE_TYPES.categoryChannel;\n    }\n    get isOpen() {\n      return !this.status || this.status === CHANNEL_STATUSES.open;\n    }\n    get isReadOnly() {\n      return this.status === CHANNEL_STATUSES.readOnly;\n    }\n    get isClosed() {\n      return this.status === CHANNEL_STATUSES.closed;\n    }\n    get isArchived() {\n      return this.status === CHANNEL_STATUSES.archived;\n    }\n    get isJoinable() {\n      return this.isOpen && !this.isArchived;\n    }\n    get isFollowing() {\n      return this.currentUserMembership.following;\n    }\n    get canJoin() {\n      return this.meta.can_join_chat_channel;\n    }\n    async stageMessage(message) {\n      message.id = (0, _guid.default)();\n      message.staged = true;\n      message.processed = false;\n      message.draft = false;\n      message.createdAt = new Date();\n      message.channel = this;\n      if (message.inReplyTo) {\n        if (!this.threadingEnabled) {\n          this.messagesManager.addMessages([message]);\n        }\n      } else {\n        this.messagesManager.addMessages([message]);\n      }\n      message.manager = this.messagesManager;\n    }\n    resetDraft(user) {\n      this.draft = _chatMessage.default.createDraftMessage(this, {\n        user\n      });\n    }\n    canModifyMessages(user) {\n      if (user.staff) {\n        return !STAFF_READONLY_STATUSES.includes(this.status);\n      }\n      return !READONLY_STATUSES.includes(this.status);\n    }\n    get currentUserMembership() {\n      return this._currentUserMembership;\n    }\n    set currentUserMembership(membership) {\n      if (membership instanceof _userChatChannelMembership.default) {\n        this._currentUserMembership = membership;\n      } else {\n        this._currentUserMembership = _userChatChannelMembership.default.create(membership);\n      }\n    }\n    get lastMessage() {\n      return this._lastMessage;\n    }\n    set lastMessage(message) {\n      if (!message) {\n        this._lastMessage = null;\n        return;\n      }\n      if (message instanceof _chatMessage.default) {\n        this._lastMessage = message;\n      } else {\n        this._lastMessage = _chatMessage.default.create(this, message);\n      }\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"title\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"slug\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"description\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"status\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"activeThread\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"meta\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatableId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"chatableType\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"chatableUrl\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"autoJoinUsers\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"allowChannelWideMentions\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"membershipsCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"archive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"tracking\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"threadingEnabled\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"draft\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"_currentUserMembership\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"_lastMessage\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _initChatable2(chatable) {\n    if (!chatable || chatable instanceof _category.default || chatable instanceof _chatDirectMessage.default) {\n      return chatable;\n    } else {\n      if (this.isDirectMessageChannel) {\n        return _chatDirectMessage.default.create({\n          users: chatable?.users,\n          group: chatable?.group\n        });\n      } else {\n        return _category.default.create(chatable);\n      }\n    }\n  }\n});","define(\"discourse/plugins/chat/discourse/models/chat-chatable\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"discourse/models/category\", \"discourse/models/user\", \"discourse/plugins/chat/discourse/models/chat-channel\"], function (_exports, _tracking, _service, _category, _user, _chatChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChatable = _exports.default = (_class = class ChatChatable {\n    static create(args = {}) {\n      return new ChatChatable(args);\n    }\n    static createUser(model) {\n      return new ChatChatable({\n        type: \"user\",\n        model,\n        identifier: `u-${model.id}`\n      });\n    }\n    static createChannel(model) {\n      return new ChatChatable({\n        type: \"channel\",\n        model,\n        identifier: `c-${model.id}`\n      });\n    }\n    constructor(args = {}) {\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"identifier\", _descriptor2, this);\n      _initializerDefineProperty(this, \"type\", _descriptor3, this);\n      _initializerDefineProperty(this, \"model\", _descriptor4, this);\n      _initializerDefineProperty(this, \"enabled\", _descriptor5, this);\n      _initializerDefineProperty(this, \"tracking\", _descriptor6, this);\n      this.identifier = args.identifier;\n      this.type = args.type;\n      switch (this.type) {\n        case \"channel\":\n          if (args.model.chatable?.users?.length === 1) {\n            this.enabled = args.model.chatable?.users[0].has_chat_enabled;\n          }\n          if (args.model instanceof _chatChannel.default) {\n            this.model = args.model;\n            break;\n          }\n          this.model = _chatChannel.default.create(args.model);\n          break;\n        case \"user\":\n          this.enabled = args.model.has_chat_enabled;\n          if (args.model instanceof _user.default) {\n            this.model = args.model;\n            break;\n          }\n          this.model = _user.default.create(args.model);\n          break;\n      }\n    }\n    get isUser() {\n      return this.type === \"user\";\n    }\n    get isCategory() {\n      return this instanceof _category.default;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"identifier\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"type\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"model\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"enabled\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"tracking\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/chat-direct-message\", [\"exports\", \"@glimmer/tracking\", \"discourse/models/user\", \"discourse/plugins/chat/discourse/models/chat-channel\"], function (_exports, _tracking, _user, _chatChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _initUsers;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDirectMessage = _exports.default = (_class = (_initUsers = /*#__PURE__*/new WeakSet(), class ChatDirectMessage {\n    static create(args = {}) {\n      return new ChatDirectMessage(args);\n    }\n    constructor(args = {}) {\n      _classPrivateMethodInitSpec(this, _initUsers);\n      _initializerDefineProperty(this, \"users\", _descriptor, this);\n      _initializerDefineProperty(this, \"group\", _descriptor2, this);\n      _defineProperty(this, \"type\", _chatChannel.CHATABLE_TYPES.directMessageChannel);\n      this.group = args.group ?? false;\n      this.users = _classPrivateMethodGet(this, _initUsers, _initUsers2).call(this, args.users || []);\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"users\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"group\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  })), _class);\n  function _initUsers2(users) {\n    return users.map(user => {\n      if (!user || user instanceof _user.default) {\n        return user;\n      } else {\n        return _user.default.create(user);\n      }\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/models/chat-message-reaction\", [\"exports\", \"@glimmer/tracking\", \"@ember-compat/tracked-built-ins\", \"discourse/models/user\"], function (_exports, _tracking, _trackedBuiltIns, _user) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.REACTIONS = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _initUsersModels;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const REACTIONS = _exports.REACTIONS = {\n    add: \"add\",\n    remove: \"remove\"\n  };\n  let ChatMessageReaction = _exports.default = (_class = (_initUsersModels = /*#__PURE__*/new WeakSet(), class ChatMessageReaction {\n    static create(args = {}) {\n      return new ChatMessageReaction(args);\n    }\n    constructor(args = {}) {\n      _classPrivateMethodInitSpec(this, _initUsersModels);\n      _initializerDefineProperty(this, \"count\", _descriptor, this);\n      _initializerDefineProperty(this, \"reacted\", _descriptor2, this);\n      _initializerDefineProperty(this, \"users\", _descriptor3, this);\n      _initializerDefineProperty(this, \"emoji\", _descriptor4, this);\n      this.count = args.count;\n      this.emoji = args.emoji;\n      this.users = _classPrivateMethodGet(this, _initUsersModels, _initUsersModels2).call(this, args.users);\n      this.reacted = args.reacted;\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"count\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"reacted\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"users\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"emoji\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _initUsersModels2(users = []) {\n    return new _trackedBuiltIns.TrackedArray(users.map(user => {\n      if (user instanceof _user.default) {\n        return user;\n      }\n      return _user.default.create(user);\n    }));\n  }\n});","define(\"discourse/plugins/chat/discourse/models/chat-message\", [\"exports\", \"@glimmer/tracking\", \"@ember-compat/tracked-built-ins\", \"discourse/lib/text\", \"discourse/models/bookmark\", \"discourse/models/user\", \"discourse-common/lib/get-owner\", \"discourse-common/lib/later\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/lib/transform-auto-links\", \"discourse/plugins/chat/discourse/models/chat-message-reaction\"], function (_exports, _tracking, _trackedBuiltIns, _text, _bookmark, _user, _getOwner, _later, _discourseI18n, _transformAutoLinks, _chatMessageReaction) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29, _descriptor30, _descriptor31, _descriptor32, _descriptor33, _descriptor34, _class2, _calendarDate, _ensureCookFunctionInitialized, _markdownOptions, _initChatMessageReactionModel, _initMentionedUsers, _initUserModel, _areDatesOnSameDay, _startOfDay;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatMessage = _exports.default = (_class = (_calendarDate = /*#__PURE__*/new WeakSet(), _ensureCookFunctionInitialized = /*#__PURE__*/new WeakSet(), _markdownOptions = /*#__PURE__*/new WeakMap(), _initChatMessageReactionModel = /*#__PURE__*/new WeakSet(), _initMentionedUsers = /*#__PURE__*/new WeakSet(), _initUserModel = /*#__PURE__*/new WeakSet(), _areDatesOnSameDay = /*#__PURE__*/new WeakSet(), _startOfDay = /*#__PURE__*/new WeakSet(), (_class2 = class ChatMessage {\n    static create(channel, args = {}) {\n      return new ChatMessage(channel, args);\n    }\n    static createDraftMessage(channel, args = {}) {\n      args.draft = true;\n      return ChatMessage.create(channel, args);\n    }\n    constructor(channel, args = {}) {\n      _classPrivateMethodInitSpec(this, _startOfDay);\n      _classPrivateMethodInitSpec(this, _areDatesOnSameDay);\n      _classPrivateMethodInitSpec(this, _initUserModel);\n      _classPrivateMethodInitSpec(this, _initMentionedUsers);\n      _classPrivateMethodInitSpec(this, _initChatMessageReactionModel);\n      _classPrivateFieldInitSpec(this, _markdownOptions, {\n        get: _get_markdownOptions,\n        set: void 0\n      });\n      _classPrivateMethodInitSpec(this, _ensureCookFunctionInitialized);\n      _classPrivateMethodInitSpec(this, _calendarDate);\n      _initializerDefineProperty(this, \"id\", _descriptor, this);\n      _initializerDefineProperty(this, \"error\", _descriptor2, this);\n      _initializerDefineProperty(this, \"selected\", _descriptor3, this);\n      _initializerDefineProperty(this, \"channel\", _descriptor4, this);\n      _initializerDefineProperty(this, \"staged\", _descriptor5, this);\n      _initializerDefineProperty(this, \"processed\", _descriptor6, this);\n      _initializerDefineProperty(this, \"draftSaved\", _descriptor7, this);\n      _initializerDefineProperty(this, \"draft\", _descriptor8, this);\n      _initializerDefineProperty(this, \"createdAt\", _descriptor9, this);\n      _initializerDefineProperty(this, \"uploads\", _descriptor10, this);\n      _initializerDefineProperty(this, \"excerpt\", _descriptor11, this);\n      _initializerDefineProperty(this, \"reactions\", _descriptor12, this);\n      _initializerDefineProperty(this, \"reviewableId\", _descriptor13, this);\n      _initializerDefineProperty(this, \"user\", _descriptor14, this);\n      _initializerDefineProperty(this, \"inReplyTo\", _descriptor15, this);\n      _initializerDefineProperty(this, \"expanded\", _descriptor16, this);\n      _initializerDefineProperty(this, \"bookmark\", _descriptor17, this);\n      _initializerDefineProperty(this, \"userFlagStatus\", _descriptor18, this);\n      _initializerDefineProperty(this, \"hidden\", _descriptor19, this);\n      _initializerDefineProperty(this, \"version\", _descriptor20, this);\n      _initializerDefineProperty(this, \"edited\", _descriptor21, this);\n      _initializerDefineProperty(this, \"editing\", _descriptor22, this);\n      _initializerDefineProperty(this, \"chatWebhookEvent\", _descriptor23, this);\n      _initializerDefineProperty(this, \"mentionWarning\", _descriptor24, this);\n      _initializerDefineProperty(this, \"availableFlags\", _descriptor25, this);\n      _initializerDefineProperty(this, \"newest\", _descriptor26, this);\n      _initializerDefineProperty(this, \"highlighted\", _descriptor27, this);\n      _initializerDefineProperty(this, \"firstOfResults\", _descriptor28, this);\n      _initializerDefineProperty(this, \"message\", _descriptor29, this);\n      _initializerDefineProperty(this, \"manager\", _descriptor30, this);\n      _initializerDefineProperty(this, \"deletedById\", _descriptor31, this);\n      _initializerDefineProperty(this, \"_deletedAt\", _descriptor32, this);\n      _initializerDefineProperty(this, \"_cooked\", _descriptor33, this);\n      _initializerDefineProperty(this, \"_thread\", _descriptor34, this);\n      this.id = args.id;\n      this.channel = channel;\n      this.manager = args.manager;\n      this.newest = args.newest || false;\n      this.draftSaved = args.draftSaved || args.draft_saved || false;\n      this.firstOfResults = args.firstOfResults || args.first_of_results || false;\n      this.staged = args.staged || false;\n      this.processed = args.processed || true;\n      this.edited = args.edited || false;\n      this.editing = args.editing || false;\n      this.availableFlags = args.availableFlags || args.available_flags;\n      this.hidden = args.hidden || false;\n      this.chatWebhookEvent = args.chatWebhookEvent || args.chat_webhook_event;\n      this.createdAt = args.created_at ? new Date(args.created_at) : new Date(args.createdAt);\n      this.deletedById = args.deletedById || args.deleted_by_id;\n      this._deletedAt = args.deletedAt || args.deleted_at;\n      this.expanded = this.hidden || this._deletedAt ? false : args.expanded || true;\n      this.excerpt = args.excerpt;\n      this.reviewableId = args.reviewableId || args.reviewable_id;\n      this.userFlagStatus = args.userFlagStatus || args.user_flag_status;\n      this.draft = args.draft;\n      this.message = args.message || \"\";\n      this._cooked = args.cooked || \"\";\n      this.inReplyTo = args.inReplyTo || (args.in_reply_to || args.replyToMsg ? ChatMessage.create(channel, args.in_reply_to || args.replyToMsg) : null);\n      this.reactions = _classPrivateMethodGet(this, _initChatMessageReactionModel, _initChatMessageReactionModel2).call(this, args.reactions);\n      this.uploads = new _trackedBuiltIns.TrackedArray(args.uploads || []);\n      this.user = _classPrivateMethodGet(this, _initUserModel, _initUserModel2).call(this, args.user);\n      this.bookmark = args.bookmark ? _bookmark.default.create(args.bookmark) : null;\n      this.mentionedUsers = _classPrivateMethodGet(this, _initMentionedUsers, _initMentionedUsers2).call(this, args.mentioned_users);\n      if (args.thread) {\n        this.thread = args.thread;\n      }\n    }\n    get persisted() {\n      return !!this.id && !this.staged;\n    }\n    get replyable() {\n      return !this.staged && !this.error;\n    }\n    get editable() {\n      return !this.staged && !this.error;\n    }\n    get thread() {\n      return this._thread;\n    }\n    set thread(thread) {\n      if (!thread) {\n        this._thread = null;\n        return;\n      }\n      this._thread = this.channel.threadsManager.add(this.channel, thread, {\n        replace: true\n      });\n    }\n    get deletedAt() {\n      return this._deletedAt;\n    }\n    set deletedAt(value) {\n      this._deletedAt = value;\n      this.incrementVersion();\n    }\n    get cooked() {\n      return this._cooked;\n    }\n    set cooked(newCooked) {\n      // some markdown is cooked differently on the server-side, e.g.\n      // quotes, avatar images etc.\n      if (newCooked !== this._cooked) {\n        this._cooked = newCooked;\n        this.incrementVersion();\n      }\n    }\n    async cook() {\n      if (this.isDestroyed || this.isDestroying) {\n        return;\n      }\n      await _classPrivateMethodGet(this, _ensureCookFunctionInitialized, _ensureCookFunctionInitialized2).call(this);\n      this.cooked = ChatMessage.cookFunction(this.message);\n    }\n    get read() {\n      return this.channel.currentUserMembership?.lastReadMessageId >= this.id;\n    }\n    get firstMessageOfTheDayAt() {\n      if (!this.previousMessage) {\n        return _classPrivateMethodGet(this, _startOfDay, _startOfDay2).call(this, this.createdAt);\n      }\n      if (!_classPrivateMethodGet(this, _areDatesOnSameDay, _areDatesOnSameDay2).call(this, this.previousMessage.createdAt, this.createdAt)) {\n        return _classPrivateMethodGet(this, _startOfDay, _startOfDay2).call(this, this.createdAt);\n      }\n    }\n    get formattedFirstMessageDate() {\n      if (this.firstMessageOfTheDayAt) {\n        return _classPrivateMethodGet(this, _calendarDate, _calendarDate2).call(this, this.firstMessageOfTheDayAt);\n      }\n    }\n    get index() {\n      return this.manager?.messages?.indexOf(this);\n    }\n    get previousMessage() {\n      return this.manager?.messages?.objectAt?.(this.index - 1);\n    }\n    get nextMessage() {\n      return this.manager?.messages?.objectAt?.(this.index + 1);\n    }\n    highlight() {\n      this.highlighted = true;\n      (0, _later.default)(() => {\n        if (this.isDestroying || this.isDestroyed) {\n          return;\n        }\n        this.highlighted = false;\n      }, 2000);\n    }\n    incrementVersion() {\n      this.version++;\n    }\n    async parseMentions() {\n      return await (0, _text.parseMentions)(this.message, _classPrivateFieldGet(this, _markdownOptions));\n    }\n    toJSONDraft() {\n      if (this.message?.length === 0 && this.uploads?.length === 0 && !this.inReplyTo) {\n        return null;\n      }\n      const data = {};\n      if (this.uploads?.length > 0) {\n        data.uploads = this.uploads;\n      }\n      if (this.message?.length > 0) {\n        data.message = this.message;\n      }\n      if (this.inReplyTo) {\n        data.replyToMsg = {\n          id: this.inReplyTo.id,\n          excerpt: this.inReplyTo.excerpt,\n          user: {\n            id: this.inReplyTo.user.id,\n            name: this.inReplyTo.user.name,\n            avatar_template: this.inReplyTo.user.avatar_template,\n            username: this.inReplyTo.user.username\n          }\n        };\n      }\n      if (this.editing) {\n        data.editing = true;\n        data.id = this.id;\n        data.excerpt = this.excerpt;\n      }\n      return JSON.stringify(data);\n    }\n    react(emoji, action, actor, currentUserId) {\n      const selfReaction = actor.id === currentUserId;\n      const existingReaction = this.reactions.find(reaction => reaction.emoji === emoji);\n      if (existingReaction) {\n        if (action === \"add\") {\n          if (selfReaction && existingReaction.reacted) {\n            return;\n          }\n\n          // we might receive a message bus event while loading a channel who would\n          // already have the reaction added to the message\n          if (existingReaction.users.find(user => user.id === actor.id)) {\n            return;\n          }\n          existingReaction.count = existingReaction.count + 1;\n          if (selfReaction) {\n            existingReaction.reacted = true;\n          }\n          existingReaction.users.pushObject(actor);\n        } else {\n          const existingUserReaction = existingReaction.users.find(user => user.id === actor.id);\n          if (!existingUserReaction) {\n            return;\n          }\n          if (selfReaction) {\n            existingReaction.reacted = false;\n          }\n          if (existingReaction.count === 1) {\n            this.reactions.removeObject(existingReaction);\n          } else {\n            existingReaction.count = existingReaction.count - 1;\n            existingReaction.users.removeObject(existingUserReaction);\n          }\n        }\n      } else {\n        if (action === \"add\") {\n          this.reactions.pushObject(_chatMessageReaction.default.create({\n            count: 1,\n            emoji,\n            reacted: selfReaction,\n            users: [actor]\n          }));\n        }\n      }\n    }\n  }, _defineProperty(_class2, \"cookFunction\", null), _class2)), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"id\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"error\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"selected\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"channel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"staged\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"processed\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"draftSaved\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"draft\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"createdAt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"uploads\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"excerpt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"reactions\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"reviewableId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"user\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"inReplyTo\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"expanded\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"bookmark\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"userFlagStatus\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"hidden\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"version\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"edited\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"editing\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"chatWebhookEvent\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return new _trackedBuiltIns.TrackedObject();\n    }\n  }), _descriptor24 = _applyDecoratedDescriptor(_class.prototype, \"mentionWarning\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor25 = _applyDecoratedDescriptor(_class.prototype, \"availableFlags\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor26 = _applyDecoratedDescriptor(_class.prototype, \"newest\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor27 = _applyDecoratedDescriptor(_class.prototype, \"highlighted\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor28 = _applyDecoratedDescriptor(_class.prototype, \"firstOfResults\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor29 = _applyDecoratedDescriptor(_class.prototype, \"message\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor30 = _applyDecoratedDescriptor(_class.prototype, \"manager\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor31 = _applyDecoratedDescriptor(_class.prototype, \"deletedById\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor32 = _applyDecoratedDescriptor(_class.prototype, \"_deletedAt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor33 = _applyDecoratedDescriptor(_class.prototype, \"_cooked\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor34 = _applyDecoratedDescriptor(_class.prototype, \"_thread\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"firstMessageOfTheDayAt\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"firstMessageOfTheDayAt\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"formattedFirstMessageDate\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"formattedFirstMessageDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"index\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"index\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"previousMessage\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"previousMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"nextMessage\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"nextMessage\"), _class.prototype)), _class);\n  function _calendarDate2(date) {\n    return moment(date).calendar(moment(), {\n      sameDay: `[${_discourseI18n.default.t(\"chat.chat_message_separator.today\")}]`,\n      lastDay: `[${_discourseI18n.default.t(\"chat.chat_message_separator.yesterday\")}]`,\n      lastWeek: \"LL\",\n      sameElse: \"LL\"\n    });\n  }\n  async function _ensureCookFunctionInitialized2() {\n    if (_class2.cookFunction) {\n      return;\n    }\n    const cookFunction = await (0, _text.generateCookFunction)(_classPrivateFieldGet(this, _markdownOptions));\n    _class2.cookFunction = raw => {\n      return (0, _transformAutoLinks.default)(cookFunction(raw));\n    };\n  }\n  function _get_markdownOptions() {\n    const site = (0, _getOwner.getOwnerWithFallback)(this).lookup(\"service:site\");\n    return {\n      featuresOverride: site.markdown_additional_options?.chat?.limited_pretty_text_features,\n      markdownItRules: site.markdown_additional_options?.chat?.limited_pretty_text_markdown_rules,\n      hashtagTypesInPriorityOrder: site.hashtag_configurations?.[\"chat-composer\"],\n      hashtagIcons: site.hashtag_icons\n    };\n  }\n  function _initChatMessageReactionModel2(reactions = []) {\n    return reactions.map(reaction => _chatMessageReaction.default.create(reaction));\n  }\n  function _initMentionedUsers2(mentionedUsers) {\n    const map = new Map();\n    if (mentionedUsers) {\n      mentionedUsers.forEach(userData => {\n        const user = _user.default.create(userData);\n        map.set(user.id, user);\n      });\n    }\n    return map;\n  }\n  function _initUserModel2(user) {\n    if (!user || user instanceof _user.default) {\n      return user;\n    }\n    return _user.default.create(user);\n  }\n  function _areDatesOnSameDay2(a, b) {\n    return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();\n  }\n  function _startOfDay2(date) {\n    return moment(date).startOf(\"day\").format();\n  }\n});","define(\"discourse/plugins/chat/discourse/models/chat-notice\", [\"exports\", \"@glimmer/tracking\"], function (_exports, _tracking) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNotice = _exports.default = (_class = class ChatNotice {\n    static create(args = {}) {\n      return new ChatNotice(args);\n    }\n    constructor(args = {}) {\n      _initializerDefineProperty(this, \"channelId\", _descriptor, this);\n      _initializerDefineProperty(this, \"textContent\", _descriptor2, this);\n      this.channelId = args.channel_id;\n      this.textContent = args.text_content;\n      this.type = args.notice_type;\n      this.data = args.data;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"channelId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"textContent\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/chat-thread-preview\", [\"exports\", \"@glimmer/tracking\", \"@ember-compat/tracked-built-ins\"], function (_exports, _tracking, _trackedBuiltIns) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadPreview = _exports.default = (_class = class ChatThreadPreview {\n    static create(args = {}) {\n      return new ChatThreadPreview(args);\n    }\n    constructor(args = {}) {\n      _initializerDefineProperty(this, \"replyCount\", _descriptor, this);\n      _initializerDefineProperty(this, \"lastReplyId\", _descriptor2, this);\n      _initializerDefineProperty(this, \"lastReplyCreatedAt\", _descriptor3, this);\n      _initializerDefineProperty(this, \"lastReplyExcerpt\", _descriptor4, this);\n      _initializerDefineProperty(this, \"lastReplyUser\", _descriptor5, this);\n      _initializerDefineProperty(this, \"participantCount\", _descriptor6, this);\n      _initializerDefineProperty(this, \"participantUsers\", _descriptor7, this);\n      if (!args) {\n        args = {};\n      }\n      this.replyCount = args.reply_count || args.replyCount || 0;\n      this.lastReplyId = args.last_reply_id || args.lastReplyId;\n      this.lastReplyCreatedAt = new Date(args.last_reply_created_at || args.lastReplyCreatedAt);\n      this.lastReplyExcerpt = args.last_reply_excerpt || args.lastReplyExcerpt;\n      this.lastReplyUser = args.last_reply_user || args.lastReplyUser;\n      this.participantCount = args.participant_count || args.participantCount || 0;\n      this.participantUsers = new _trackedBuiltIns.TrackedArray(args.participant_users || args.participantUsers || []);\n    }\n    get otherParticipantCount() {\n      return this.participantCount - this.participantUsers.length;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"replyCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"lastReplyId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"lastReplyCreatedAt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"lastReplyExcerpt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"lastReplyUser\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"participantCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"participantUsers\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/chat-thread\", [\"exports\", \"@glimmer/tracking\", \"pretty-text/guid\", \"discourse-common/lib/get-owner\", \"discourse/plugins/chat/discourse/lib/chat-messages-manager\", \"discourse/plugins/chat/discourse/models/chat-message\", \"discourse/plugins/chat/discourse/models/chat-thread-preview\", \"discourse/plugins/chat/discourse/models/chat-tracking-state\", \"discourse/plugins/chat/discourse/models/user-chat-thread-membership\"], function (_exports, _tracking, _guid, _getOwner, _chatMessagesManager, _chatMessage, _chatThreadPreview, _chatTrackingState, _userChatThreadMembership) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.THREAD_STATUSES = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const THREAD_STATUSES = _exports.THREAD_STATUSES = {\n    open: \"open\",\n    readOnly: \"read_only\",\n    closed: \"closed\",\n    archived: \"archived\"\n  };\n  let ChatThread = _exports.default = (_class = class ChatThread {\n    static create(channel, args = {}) {\n      return new ChatThread(channel, args);\n    }\n    constructor(channel, args = {}) {\n      _initializerDefineProperty(this, \"id\", _descriptor, this);\n      _initializerDefineProperty(this, \"title\", _descriptor2, this);\n      _initializerDefineProperty(this, \"status\", _descriptor3, this);\n      _initializerDefineProperty(this, \"draft\", _descriptor4, this);\n      _initializerDefineProperty(this, \"staged\", _descriptor5, this);\n      _initializerDefineProperty(this, \"channel\", _descriptor6, this);\n      _initializerDefineProperty(this, \"originalMessage\", _descriptor7, this);\n      _initializerDefineProperty(this, \"threadMessageBusLastId\", _descriptor8, this);\n      _initializerDefineProperty(this, \"replyCount\", _descriptor9, this);\n      _initializerDefineProperty(this, \"tracking\", _descriptor10, this);\n      _initializerDefineProperty(this, \"currentUserMembership\", _descriptor11, this);\n      _initializerDefineProperty(this, \"preview\", _descriptor12, this);\n      _defineProperty(this, \"messagesManager\", new _chatMessagesManager.default((0, _getOwner.getOwnerWithFallback)(this)));\n      this.id = args.id;\n      this.channel = channel;\n      this.status = args.status;\n      this.staged = args.staged;\n      this.replyCount = args.reply_count;\n      this.originalMessage = args.original_message ? _chatMessage.default.create(channel, args.original_message) : null;\n      if (this.originalMessage) {\n        this.originalMessage.thread = this;\n      }\n      this.title = args.title;\n      if (args.current_user_membership) {\n        this.currentUserMembership = _userChatThreadMembership.default.create(args.current_user_membership);\n      }\n      this.tracking = new _chatTrackingState.default((0, _getOwner.getOwnerWithFallback)(this));\n      this.preview = _chatThreadPreview.default.create(args.preview);\n    }\n    resetDraft(user) {\n      this.draft = _chatMessage.default.createDraftMessage(this.channel, {\n        user,\n        thread: this\n      });\n    }\n    async stageMessage(message) {\n      message.id = (0, _guid.default)();\n      message.staged = true;\n      message.processed = false;\n      message.draft = false;\n      message.createdAt = new Date();\n      message.thread = this;\n      this.messagesManager.addMessages([message]);\n      message.manager = this.messagesManager;\n    }\n    get routeModels() {\n      return [...this.channel.routeModels, this.id];\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"id\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"title\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"status\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"draft\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"staged\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"channel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"originalMessage\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"threadMessageBusLastId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"replyCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"tracking\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"currentUserMembership\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"preview\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/chat-tracking-state\", [\"exports\", \"@glimmer/tracking\", \"@ember/application\", \"@ember/service\"], function (_exports, _tracking, _application, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatTrackingState = _exports.default = (_class = class ChatTrackingState {\n    constructor(owner, params = {}) {\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"_unreadCount\", _descriptor2, this);\n      _initializerDefineProperty(this, \"_mentionCount\", _descriptor3, this);\n      (0, _application.setOwner)(this, owner);\n      this._unreadCount = params.unreadCount || 0;\n      this._mentionCount = params.mentionCount || 0;\n    }\n    reset() {\n      this._unreadCount = 0;\n      this._mentionCount = 0;\n    }\n    get unreadCount() {\n      return this._unreadCount;\n    }\n    set unreadCount(value) {\n      const valueChanged = this._unreadCount !== value;\n      if (valueChanged) {\n        this._unreadCount = value;\n        this.chatTrackingStateManager.triggerNotificationsChanged();\n      }\n    }\n    get mentionCount() {\n      return this._mentionCount;\n    }\n    set mentionCount(value) {\n      const valueChanged = this._mentionCount !== value;\n      if (valueChanged) {\n        this._mentionCount = value;\n        this.chatTrackingStateManager.triggerNotificationsChanged();\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"_unreadCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"_mentionCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/models/user-chat-channel-membership\", [\"exports\", \"@glimmer/tracking\", \"discourse/models/user\"], function (_exports, _tracking, _user) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _initUserModel;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let UserChatChannelMembership = _exports.default = (_class = (_initUserModel = /*#__PURE__*/new WeakSet(), class UserChatChannelMembership {\n    static create(args = {}) {\n      return new UserChatChannelMembership(args);\n    }\n    constructor(args = {}) {\n      _classPrivateMethodInitSpec(this, _initUserModel);\n      _initializerDefineProperty(this, \"following\", _descriptor, this);\n      _initializerDefineProperty(this, \"muted\", _descriptor2, this);\n      _initializerDefineProperty(this, \"desktopNotificationLevel\", _descriptor3, this);\n      _initializerDefineProperty(this, \"mobileNotificationLevel\", _descriptor4, this);\n      _initializerDefineProperty(this, \"lastReadMessageId\", _descriptor5, this);\n      _initializerDefineProperty(this, \"lastViewedAt\", _descriptor6, this);\n      _initializerDefineProperty(this, \"user\", _descriptor7, this);\n      this.following = args.following;\n      this.muted = args.muted;\n      this.desktopNotificationLevel = args.desktop_notification_level;\n      this.mobileNotificationLevel = args.mobile_notification_level;\n      this.lastReadMessageId = args.last_read_message_id;\n      this.lastViewedAt = new Date(args.last_viewed_at);\n      this.user = _classPrivateMethodGet(this, _initUserModel, _initUserModel2).call(this, args.user);\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"following\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"muted\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"desktopNotificationLevel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"mobileNotificationLevel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"lastReadMessageId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"lastViewedAt\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"user\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n  function _initUserModel2(user) {\n    if (!user || user instanceof _user.default) {\n      return user;\n    }\n    return _user.default.create(user);\n  }\n});","define(\"discourse/plugins/chat/discourse/models/user-chat-thread-membership\", [\"exports\", \"@glimmer/tracking\", \"discourse/lib/notification-levels\"], function (_exports, _tracking, _notificationLevels) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let UserChatThreadMembership = _exports.default = (_class = class UserChatThreadMembership {\n    static create(args = {}) {\n      return new UserChatThreadMembership(args);\n    }\n    constructor(args = {}) {\n      _initializerDefineProperty(this, \"lastReadMessageId\", _descriptor, this);\n      _initializerDefineProperty(this, \"notificationLevel\", _descriptor2, this);\n      this.lastReadMessageId = args.last_read_message_id;\n      this.notificationLevel = args.notification_level;\n    }\n    get isQuiet() {\n      return this.notificationLevel === _notificationLevels.NotificationLevels.REGULAR || this.notificationLevel === _notificationLevels.NotificationLevels.MUTED;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"lastReadMessageId\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"notificationLevel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/emoji-picker-scroll-listener\", [\"exports\", \"@ember/destroyable\", \"@ember/service\", \"ember-modifier\"], function (_exports, _destroyable, _service, _emberModifier) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let EmojiPickerScrollListener = _exports.default = (_class = class EmojiPickerScrollListener extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      _initializerDefineProperty(this, \"emojiPickerScrollObserver\", _descriptor, this);\n      _defineProperty(this, \"element\", null);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element) {\n      this.element = element;\n      this.emojiPickerScrollObserver.observe(element);\n    }\n    cleanup() {\n      this.emojiPickerScrollObserver.unobserve(this.element);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"emojiPickerScrollObserver\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/later-fn\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\", \"discourse-common/lib/later\"], function (_exports, _destroyable, _runloop, _emberModifier, _later) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class ChatLaterFn extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [fn, delay]) {\n      this.handler = (0, _later.default)(() => {\n        fn?.(element);\n      }, delay);\n    }\n    cleanup() {\n      (0, _runloop.cancel)(this.handler);\n    }\n  }\n  _exports.default = ChatLaterFn;\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/on-animation-end\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _runloop, _emberModifier, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let ChatOnAnimationEnd = _exports.default = (_class = class ChatOnAnimationEnd extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [fn]) {\n      this.element = element;\n      this.fn = fn;\n      this.handler = (0, _runloop.schedule)(\"afterRender\", () => {\n        this.element.addEventListener(\"animationend\", this.handleAnimationEnd);\n      });\n    }\n    handleAnimationEnd() {\n      if (this.isDestroying || this.isDestroyed) {\n        return;\n      }\n      this.fn?.(this.element);\n    }\n    cleanup() {\n      (0, _runloop.cancel)(this.handler);\n      this.element?.removeEventListener(\"animationend\", this.handleAnimationEnd);\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"handleAnimationEnd\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleAnimationEnd\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/on-long-press\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"@ember/service\", \"ember-modifier\", \"discourse-common/lib/later\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _runloop, _service, _emberModifier, _later, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  function cancelEvent(event) {\n    event.stopPropagation();\n  }\n  let ChatOnLongPress = _exports.default = (_class = class ChatOnLongPress extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      _initializerDefineProperty(this, \"capabilities\", _descriptor, this);\n      _initializerDefineProperty(this, \"site\", _descriptor2, this);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    get enabled() {\n      return this.capabilities.touch && this.site.mobileView;\n    }\n    modify(element, [onLongPressStart, onLongPressEnd, onLongPressCancel]) {\n      if (!this.enabled) {\n        return;\n      }\n      this.element = element;\n      this.onLongPressStart = onLongPressStart || (() => {});\n      this.onLongPressEnd = onLongPressEnd || (() => {});\n      this.onLongPressCancel = onLongPressCancel || (() => {});\n      this.element.addEventListener(\"touchstart\", this.handleTouchStart, {\n        passive: true\n      });\n    }\n    onCancel() {\n      (0, _runloop.cancel)(this.timeout);\n      if (this.capabilities.touch) {\n        this.element.removeEventListener(\"touchmove\", this.onCancel, {\n          passive: true\n        });\n        this.element.removeEventListener(\"touchend\", this.onCancel);\n        this.element.removeEventListener(\"touchcancel\", this.onCancel);\n      }\n      this.onLongPressCancel(this.element);\n    }\n    handleTouchStart(event) {\n      if (event.touches.length > 1) {\n        this.onCancel();\n        return;\n      }\n      this.onLongPressStart(this.element, event);\n      this.element.addEventListener(\"touchmove\", this.onCancel, {\n        passive: true\n      });\n      this.element.addEventListener(\"touchend\", this.onCancel);\n      this.element.addEventListener(\"touchcancel\", this.onCancel);\n      this.timeout = (0, _later.default)(() => {\n        if (this.isDestroying || this.isDestroyed) {\n          return;\n        }\n        this.element.addEventListener(\"touchend\", cancelEvent, {\n          once: true,\n          passive: true\n        });\n        this.onLongPressEnd(this.element, event);\n      }, 400);\n    }\n    cleanup() {\n      if (!this.enabled) {\n        return;\n      }\n      this.element.removeEventListener(\"touchstart\", this.handleTouchStart, {\n        passive: true\n      });\n      this.onCancel();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"capabilities\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"onCancel\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onCancel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleTouchStart\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleTouchStart\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/on-resize\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\"], function (_exports, _destroyable, _runloop, _emberModifier) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class ChatOnResize extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [fn, options = {}]) {\n      this.resizeObserver = new ResizeObserver(entries => {\n        this.throttleHandler = (0, _runloop.throttle)(this, fn, entries, options.delay ?? 0, options.immediate ?? false);\n      });\n      this.resizeObserver.observe(element);\n    }\n    cleanup() {\n      (0, _runloop.cancel)(this.throttleHandler);\n      this.resizeObserver?.disconnect();\n    }\n  }\n  _exports.default = ChatOnResize;\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/on-scroll\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _runloop, _emberModifier, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let ChatOnScroll = _exports.default = (_class = class ChatOnScroll extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [callback, options]) {\n      this.element = element;\n      this.callback = callback;\n      this.options = options;\n      this.element.addEventListener(\"scroll\", this.throttledCallback, {\n        passive: true\n      });\n    }\n    throttledCallback(event) {\n      this.throttledHandler = (0, _runloop.throttle)(this, this.callback, event, this.options.delay ?? 100, this.options.immediate ?? false);\n    }\n    cleanup() {\n      (0, _runloop.cancel)(this.throttledHandler);\n      this.element.removeEventListener(\"scroll\", this.throttledCallback);\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"throttledCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"throttledCallback\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/resizable-node\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _runloop, _emberModifier, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const MINIMUM_SIZE = 20;\n  let ResizableNode = _exports.default = (_class = class ResizableNode extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      _defineProperty(this, \"element\", null);\n      _defineProperty(this, \"resizerSelector\", null);\n      _defineProperty(this, \"didResizeContainer\", null);\n      _defineProperty(this, \"options\", null);\n      _defineProperty(this, \"_originalWidth\", 0);\n      _defineProperty(this, \"_originalHeight\", 0);\n      _defineProperty(this, \"_originalX\", 0);\n      _defineProperty(this, \"_originalY\", 0);\n      _defineProperty(this, \"_originalPageX\", 0);\n      _defineProperty(this, \"_originalPageY\", 0);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [resizerSelector, didResizeContainer, options = {}]) {\n      this.resizerSelector = resizerSelector;\n      this.element = element;\n      this.didResizeContainer = didResizeContainer;\n      this.options = Object.assign({\n        vertical: true,\n        horizontal: true,\n        position: true,\n        mutate: true,\n        resetOnWindowResize: false\n      }, options);\n      this.element.querySelector(this.resizerSelector)?.addEventListener(\"touchstart\", this._startResize);\n      this.element.querySelector(this.resizerSelector)?.addEventListener(\"mousedown\", this._startResize);\n      window.addEventListener(\"resize\", this._resizeWindow);\n    }\n    cleanup() {\n      this.element.querySelector(this.resizerSelector)?.removeEventListener(\"touchstart\", this._startResize);\n      this.element.querySelector(this.resizerSelector)?.removeEventListener(\"mousedown\", this._startResize);\n      window.removeEventListener(\"resize\", this._resizeWindow);\n      (0, _runloop.cancel)(this._throttledResizeHandler);\n    }\n    _startResize(event) {\n      event.preventDefault();\n      this._minimumWidth = parseFloat(getComputedStyle(this.element, null).getPropertyValue(\"min-width\").replace(\"px\", \"\") || MINIMUM_SIZE);\n      this._minimumHeight = parseFloat(getComputedStyle(this.element, null).getPropertyValue(\"min-height\").replace(\"px\", \"\") || MINIMUM_SIZE);\n      this._originalWidth = parseFloat(getComputedStyle(this.element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n      this._originalHeight = parseFloat(getComputedStyle(this.element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n      this._originalX = this.element.getBoundingClientRect().left;\n      this._originalY = this.element.getBoundingClientRect().top;\n      this._originalPageX = this._eventValueForProperty(event, \"pageX\");\n      this._originalPageY = this._eventValueForProperty(event, \"pageY\");\n      window.addEventListener(\"touchmove\", this._resize);\n      window.addEventListener(\"touchend\", this._stopResize);\n      window.addEventListener(\"mousemove\", this._resize);\n      window.addEventListener(\"mouseup\", this._stopResize);\n    }\n\n    /*\n      The bulk of the logic is to calculate the new width and height of the element\n      based on the current position on page: width is calculated by subtracting\n      the difference between the current pageX and the original this._originalPageX\n      from the original this._originalWidth, and rounding up to the nearest integer.\n      height is calculated in a similar way using pageY and this._originalPageY.\n       In this example (B) is the current element top/left and (A) is x/y of the mouse after dragging:\n       A------\n      |     |\n      |  B--|\n      |  |  |\n      -------\n    */\n    _resize(event) {\n      let width = this._originalWidth;\n      let diffWidth = this._eventValueForProperty(event, \"pageX\") - this._originalPageX;\n      if (document.documentElement.classList.contains(\"rtl\")) {\n        width = Math.ceil(width + diffWidth);\n      } else {\n        width = Math.ceil(width - diffWidth);\n      }\n      const height = Math.ceil(this._originalHeight - (this._eventValueForProperty(event, \"pageY\") - this._originalPageY));\n      const newStyle = {};\n      if (this.options.horizontal && width >= this._minimumWidth) {\n        newStyle.width = width + \"px\";\n        if (this.options.position) {\n          newStyle.left = Math.ceil(this._originalX + (this._eventValueForProperty(event, \"pageX\") - this._originalPageX)) + \"px\";\n        }\n      }\n      if (this.options.vertical && height >= this._minimumHeight) {\n        newStyle.height = height + \"px\";\n        if (this.options.position) {\n          newStyle.top = Math.ceil(this._originalY + (this._eventValueForProperty(event, \"pageY\") - this._originalPageY)) + \"px\";\n        }\n      }\n      if (this.options.mutate) {\n        Object.assign(this.element.style, newStyle);\n      }\n      this.didResizeContainer?.(this.element, {\n        width: width >= this._minimumWidth ? width : this._minimumWidth,\n        height: height >= this._minimumHeight ? height : this._minimumHeight\n      });\n    }\n    _resizeWindow() {\n      if (!this.options.resetOnWindowResize) {\n        return;\n      }\n      this._throttledResizeHandler = (0, _runloop.throttle)(this, this._throttledResize, 100);\n    }\n    _throttledResize() {\n      const style = {};\n      if (this.options.vertical) {\n        style.height = \"auto\";\n      }\n      if (this.options.horizontal) {\n        style.width = \"auto\";\n      }\n      Object.assign(this.element.style, style);\n    }\n    _stopResize() {\n      window.removeEventListener(\"touchmove\", this._resize);\n      window.removeEventListener(\"touchend\", this._stopResize);\n      window.removeEventListener(\"mousemove\", this._resize);\n      window.removeEventListener(\"mouseup\", this._stopResize);\n    }\n    _eventValueForProperty(event, property) {\n      if (event.changedTouches) {\n        return event.changedTouches[0][property];\n      } else {\n        return event[property];\n      }\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"_startResize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_startResize\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_resize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_resize\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_resizeWindow\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_resizeWindow\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_throttledResize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_throttledResize\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_stopResize\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_stopResize\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/scrollable-list\", [\"exports\", \"@ember/destroyable\", \"@ember/runloop\", \"ember-modifier\", \"discourse-common/lib/later\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _runloop, _emberModifier, _later, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const UP = \"up\";\n  const DOWN = \"down\";\n  let ChatScrollableList = _exports.default = (_class = class ChatScrollableList extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [options]) {\n      this.element = element;\n      this.options = options;\n      this.lastScrollTop = this.computeInitialScrollTop();\n      this.element.addEventListener(\"scroll\", this.handleScroll, {\n        passive: true\n      });\n      // listen for wheel events to detect scrolling even when at the top or bottom\n      this.element.addEventListener(\"wheel\", this.handleWheel, {\n        passive: true\n      });\n    }\n    handleScroll() {\n      this.throttleComputeScroll();\n    }\n    handleWheel() {\n      this.throttleComputeScroll();\n    }\n    computeScroll() {\n      const scrollTop = this.element.scrollTop;\n      this.options.onScroll?.(this.computeState());\n      this.lastScrollTop = scrollTop;\n    }\n    throttleComputeScroll() {\n      (0, _runloop.cancel)(this.scrollTimer);\n      this.throttleTimer = (0, _runloop.throttle)(this, this.computeScroll, 50, true);\n      this.scrollTimer = (0, _later.default)(() => {\n        this.options.onScrollEnd?.(this.computeState());\n      }, this.options.delay || 250);\n    }\n    cleanup() {\n      (0, _runloop.cancel)(this.scrollTimer);\n      (0, _runloop.cancel)(this.throttleTimer);\n      this.element.removeEventListener(\"scroll\", this.handleScroll);\n      this.element.removeEventListener(\"wheel\", this.handleWheel);\n    }\n    computeState() {\n      const direction = this.computeScrollDirection();\n      const distanceToBottom = this.computeDistanceToBottom();\n      const distanceToTop = this.computeDistanceToTop();\n      return {\n        up: direction === UP,\n        down: direction === DOWN,\n        distanceToBottom,\n        distanceToTop,\n        atBottom: distanceToBottom.pixels <= 1,\n        atTop: distanceToTop.pixels <= 1\n      };\n    }\n    computeInitialScrollTop() {\n      if (this.options.reverse) {\n        return this.element.scrollHeight - this.element.clientHeight;\n      } else {\n        return this.element.scrollTop;\n      }\n    }\n    computeScrollTop() {\n      if (this.options.reverse) {\n        return this.element.scrollHeight - this.element.clientHeight - this.element.scrollTop;\n      } else {\n        return this.element.scrollTop;\n      }\n    }\n    computeDistanceToTop() {\n      let pixels;\n      const height = this.element.scrollHeight - this.element.clientHeight;\n      if (this.options.reverse) {\n        pixels = height - Math.abs(this.element.scrollTop);\n      } else {\n        pixels = Math.abs(this.element.scrollTop);\n      }\n      return {\n        pixels,\n        percentage: Math.round(pixels / height * 100)\n      };\n    }\n    computeDistanceToBottom() {\n      let pixels;\n      const height = this.element.scrollHeight - this.element.clientHeight;\n      if (this.options.reverse) {\n        pixels = -this.element.scrollTop;\n      } else {\n        pixels = height - Math.abs(this.element.scrollTop);\n      }\n      return {\n        pixels,\n        percentage: Math.round(pixels / height * 100)\n      };\n    }\n    computeScrollDirection() {\n      if (this.element.scrollTop === this.lastScrollTop) {\n        return null;\n      }\n      return this.element.scrollTop < this.lastScrollTop ? UP : DOWN;\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"handleScroll\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleScroll\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleWheel\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"handleWheel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"computeScroll\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"computeScroll\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/track-message-separator-date\", [\"exports\", \"@ember/destroyable\", \"ember-modifier\"], function (_exports, _destroyable, _emberModifier) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  const IS_PINNED_CLASS = \"is-pinned\";\n\n  /*\n    This modifier is used to track the date separator in the chat message list.\n    The trick is to have an element with `top: -1px` which will stop fully intersecting\n    as soon as it's scrolled a little bit.\n  */\n  class ChatTrackMessageSeparatorDate extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element) {\n      this.intersectionObserver = new IntersectionObserver(([entry]) => {\n        if (entry.isIntersecting && entry.intersectionRatio < 1 && entry.boundingClientRect.y < entry.intersectionRect.y) {\n          entry.target.classList.add(IS_PINNED_CLASS);\n        } else {\n          entry.target.classList.remove(IS_PINNED_CLASS);\n        }\n      }, {\n        threshold: [0, 1]\n      });\n      this.intersectionObserver.observe(element);\n    }\n    cleanup() {\n      this.intersectionObserver?.disconnect();\n    }\n  }\n  _exports.default = ChatTrackMessageSeparatorDate;\n});","define(\"discourse/plugins/chat/discourse/modifiers/chat/track-message\", [\"exports\", \"@ember/destroyable\", \"ember-modifier\", \"discourse-common/utils/decorators\"], function (_exports, _destroyable, _emberModifier, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  let ChatTrackMessage = _exports.default = (_class = class ChatTrackMessage extends _emberModifier.default {\n    constructor(owner, args) {\n      super(owner, args);\n      _defineProperty(this, \"didEnterViewport\", null);\n      _defineProperty(this, \"didLeaveViewport\", null);\n      (0, _destroyable.registerDestructor)(this, instance => instance.cleanup());\n    }\n    modify(element, [didEnterViewport, didLeaveViewport]) {\n      this.didEnterViewport = didEnterViewport;\n      this.didLeaveViewport = didLeaveViewport;\n      this.intersectionObserver = new IntersectionObserver(this._intersectionObserverCallback, {\n        root: document,\n        threshold: 0\n      });\n      this.intersectionObserver.observe(element);\n    }\n    cleanup() {\n      this.intersectionObserver?.disconnect();\n    }\n    _intersectionObserverCallback(entries) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.didEnterViewport?.();\n        } else {\n          this.didLeaveViewport?.();\n        }\n      });\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"_intersectionObserverCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_intersectionObserverCallback\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/pre-initializers/chat-plugin-api\", [\"exports\", \"discourse/lib/plugin-api\", \"discourse/plugins/chat/discourse/components/chat-message\", \"discourse/plugins/chat/discourse/lib/chat-composer-buttons\", \"discourse/plugins/chat/discourse/lib/chat-message-interactor\", \"discourse/plugins/chat/discourse/services/chat-state-manager\"], function (_exports, _pluginApi, _chatMessage, _chatComposerButtons, _chatMessageInteractor, _chatStateManager) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  /**\n   * Class exposing the javascript API available to plugins and themes.\n   * @class PluginApi\n   */\n  /**\n   * Callback used to decorate a chat message\n   *\n   * @callback PluginApi~decorateChatMessageCallback\n   * @param {ChatMessage} chatMessage - model\n   * @param {HTMLElement} messageContainer - DOM node\n   * @param {ChatChannel} chatChannel - model\n   */\n  /**\n   * Callback used to decorate a chat message\n   *\n   * @callback PluginApi~chatDrawerStateCallback\n   * @param {Object} state\n   * @param {boolean} state.isDrawerActive - is the chat drawer active\n   * @param {boolean} state.isDrawerExpanded - is the chat drawer expanded\n   */\n  /**\n   * Decorate a chat message\n   *\n   * @memberof PluginApi\n   * @instance\n   * @function decorateChatMessage\n   * @param {PluginApi~decorateChatMessageCallback} decorator\n   * @example\n   *\n   * api.decorateChatMessage((chatMessage, messageContainer) => {\n   *   messageContainer.dataset.foo = chatMessage.id;\n   * });\n   */\n  /**\n   * Register a button in the chat composer\n   *\n   * @memberof PluginApi\n   * @instance\n   * @function registerChatComposerButton\n   * @param {Object} options\n   * @param {number} options.id - The id of the button\n   * @param {function} options.action - An action name or an anonymous function called when the button is pressed, eg: \"onFooClicked\" or `() => { console.log(\"clicked\") }`\n   * @param {string} options.icon - A valid font awesome icon name, eg: \"far fa-image\"\n   * @param {string} options.label - Text displayed on the button, a translatable key, eg: \"foo.bar\"\n   * @param {string} options.translatedLabel - Text displayed on the button, a string, eg: \"Add gifs\"\n   * @param {string} [options.position] - Can be \"inline\" or \"dropdown\", defaults to \"inline\"\n   * @param {string} [options.title] - Title attribute of the button, a translatable key, eg: \"foo.bar\"\n   * @param {string} [options.translatedTitle] - Title attribute of the button, a string, eg: \"Add gifs\"\n   * @param {string} [options.ariaLabel] - aria-label attribute of the button, a translatable key, eg: \"foo.bar\"\n   * @param {string} [options.translatedAriaLabel] - aria-label attribute of the button, a string, eg: \"Add gifs\"\n   * @param {string} [options.classNames] - Additional names to add to the button’s class attribute, eg: [\"foo\", \"bar\"]\n   * @param {boolean} [options.displayed] - Hide or show the button\n   * @param {boolean} [options.disabled] - Sets the disabled attribute on the button\n   * @param {number} [options.priority] - An integer defining the order of the buttons, higher comes first, eg: `700`\n   * @param {Array.<string>} [options.dependentKeys] - List of property names which should trigger a refresh of the buttons when changed, eg: `[\"foo.bar\", \"bar.baz\"]`\n   * @example\n   *\n   * api.registerChatComposerButton({\n   *   id: \"foo\",\n   *   displayed() {\n   *     return this.site.mobileView && this.canAttachUploads;\n   *   }\n   * });\n   */\n  /**\n   * Callback when the sate of the chat drawer changes\n   *\n   * @memberof PluginApi\n   * @instance\n   * @function addChatDrawerStateCallback\n   * @param {PluginApi~chatDrawerStateCallback} callback\n   * @example\n   *\n   * api.addChatDrawerStateCallback(({isDrawerExpanded, isDrawerActive}) => {\n   *   if (isDrawerActive && isDrawerExpanded) {\n   *     // do something\n   *   }\n   * });\n   */\n  /**\n   * Send a chat message, message or uploads must be provided\n   *\n   * @memberof PluginApi\n   * @instance\n   * @function sendChatMessage\n   * @param {number} channelId - The id of the channel\n   * @param {Object} options\n   * @param {string} [options.message] - The content of the message to send\n   * @param {string} [options.uploads] - A list of uploads to send\n   * @param {number} [options.threadId] - The thread id where the message should be sent\n   *\n   * @example\n   *\n   * api.sendChatMessage(\n   *   1,\n   *  { message: \"Hello world\", threadId: 2 }\n   * );\n   */\n  /**\n   * Removes secondary actions from the chat composer\n   *\n   * @memberof PluginApi\n   * @instance\n   * @function removeChatComposerSecondaryActions\n   * @param {...string} [1] - List of secondary action ids to remove, eg: `\"copyLink\", \"select\"\n   * @example\n   *\n   * api.removeChatComposerSecondaryActions(\"copyLink\", \"select\");\n   */\n  var _default = _exports.default = {\n    name: \"chat-plugin-api\",\n    after: \"inject-discourse-objects\",\n    initialize() {\n      (0, _pluginApi.withPluginApi)(\"1.2.0\", api => {\n        const apiPrototype = Object.getPrototypeOf(api);\n        if (!apiPrototype.hasOwnProperty(\"decorateChatMessage\")) {\n          Object.defineProperty(apiPrototype, \"decorateChatMessage\", {\n            value(decorator) {\n              (0, _chatMessage.addChatMessageDecorator)(decorator);\n            }\n          });\n        }\n        if (!apiPrototype.hasOwnProperty(\"registerChatComposerButton\")) {\n          Object.defineProperty(apiPrototype, \"registerChatComposerButton\", {\n            value(button) {\n              (0, _chatComposerButtons.registerChatComposerButton)(button);\n            }\n          });\n        }\n        if (!apiPrototype.hasOwnProperty(\"addChatDrawerStateCallback\")) {\n          Object.defineProperty(apiPrototype, \"addChatDrawerStateCallback\", {\n            value(callback) {\n              (0, _chatStateManager.addChatDrawerStateCallback)(callback);\n            }\n          });\n        }\n        if (!apiPrototype.hasOwnProperty(\"sendChatMessage\")) {\n          Object.defineProperty(apiPrototype, \"sendChatMessage\", {\n            async value(channelId, options = {}) {\n              return this.container.lookup(\"service:chat-api\").sendMessage(channelId, {\n                thread_id: options.threadId,\n                message: options.message,\n                uploads: options.uploads\n              });\n            }\n          });\n        }\n        if (!apiPrototype.hasOwnProperty(\"removeChatComposerSecondaryActions\")) {\n          Object.defineProperty(apiPrototype, \"removeChatComposerSecondaryActions\", {\n            value(...actionIds) {\n              (0, _chatMessageInteractor.removeChatComposerSecondaryActions)(actionIds);\n            }\n          });\n        }\n      });\n    },\n    teardown() {\n      (0, _chatMessage.resetChatMessageDecorators)();\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/preferences-chat-route-map\", [\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = {\n    resource: \"user.preferences\",\n    map() {\n      this.route(\"chat\");\n    }\n  };\n});","define(\"discourse/plugins/chat/discourse/routes/admin-plugins-chat\", [\"exports\", \"@ember/object\", \"discourse/lib/ajax\", \"discourse/routes/discourse\", \"discourse/plugins/chat/discourse/models/chat-channel\"], function (_exports, _object, _ajax, _discourse, _chatChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class AdminPluginsChatRoute extends _discourse.default {\n    model() {\n      if (!this.currentUser?.admin) {\n        return {\n          model: null\n        };\n      }\n      return (0, _ajax.ajax)(\"/admin/plugins/chat.json\").then(model => {\n        model.incoming_chat_webhooks = model.incoming_chat_webhooks.map(webhook => _object.default.create(webhook));\n        model.chat_channels = model.chat_channels.map(channel => {\n          return _chatChannel.default.create(channel);\n        });\n        return model;\n      });\n    }\n  }\n  _exports.default = AdminPluginsChatRoute;\n});","define(\"discourse/plugins/chat/discourse/routes/chat-browse-archived\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatBrowseIndexRoute = _exports.default = (_class = class ChatBrowseIndexRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n    }\n    afterModel() {\n      if (!this.siteSettings.chat_allow_archiving_channels) {\n        this.router.replaceWith(\"chat.browse\");\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-browse-index\", [\"exports\", \"@ember/service\", \"discourse/lib/utilities\", \"discourse/routes/discourse\"], function (_exports, _service, _utilities, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatBrowseIndexRoute = _exports.default = (_class = class ChatBrowseIndexRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n    }\n    beforeModel() {\n      if (!this.siteSettings.enable_public_channels) {\n        return this.router.transitionTo(`discovery.${(0, _utilities.defaultHomepage)()}`);\n      }\n    }\n    activate() {\n      this.chat.activeChannel = null;\n    }\n    afterModel() {\n      this.router.replaceWith(\"chat.browse.open\");\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-decorator\", [\"exports\", \"@ember/service\"], function (_exports, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = withChatChannel;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  function withChatChannel(extendedClass) {\n    var _class, _descriptor, _descriptor2, _descriptor3;\n    return _class = class WithChatChannel extends extendedClass {\n      constructor(...args) {\n        super(...args);\n        _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor, this);\n        _initializerDefineProperty(this, \"chat\", _descriptor2, this);\n        _initializerDefineProperty(this, \"router\", _descriptor3, this);\n      }\n      async model(params) {\n        return this.chatChannelsManager.find(params.channelId);\n      }\n      titleToken() {\n        if (!this.currentModel) {\n          return;\n        }\n        if (this.currentModel.isDirectMessageChannel) {\n          return `${this.currentModel.title}`;\n        } else {\n          return `#${this.currentModel.title}`;\n        }\n      }\n      afterModel(model) {\n        super.afterModel?.(...arguments);\n        this.chat.activeChannel = model;\n        if (!model) {\n          return this.router.replaceWith(\"chat\");\n        }\n        let {\n          channelTitle\n        } = this.paramsFor(this.routeName);\n        if (channelTitle && channelTitle !== model.slugifiedTitle) {\n          if (this.routeName === \"chat.channel.info\") {\n            return this.router.replaceWith(\"chat.channel.info\", ...model.routeModels);\n          }\n          const messageId = this.paramsFor(\"chat.channel.near-message\").messageId;\n          const threadId = this.paramsFor(\"chat.channel.thread\").threadId;\n          if (threadId) {\n            const threadMessageId = this.paramsFor(\"chat.channel.thread.near-message\").messageId;\n            if (threadMessageId) {\n              this.router.replaceWith(\"chat.channel.thread.near-message\", ...model.routeModels, threadId, threadMessageId);\n            } else {\n              this.router.replaceWith(\"chat.channel.thread\", ...model.routeModels, threadId);\n            }\n          } else if (messageId) {\n            this.router.replaceWith(\"chat.channel.near-message\", ...model.routeModels, messageId);\n          } else {\n            this.router.replaceWith(\"chat.channel\", ...model.routeModels);\n          }\n        } else {\n          this.controllerFor(\"chat-channel\").set(\"targetMessageId\", null);\n        }\n      }\n    }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      initializer: null\n    }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      initializer: null\n    }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      initializer: null\n    })), _class;\n  }\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-info-index\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelInfoIndexRoute = _exports.default = (_class = class ChatChannelInfoIndexRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    afterModel() {\n      this.router.replaceWith(\"chat.channel.info.settings\");\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-info-members\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelInfoMembersRoute = _exports.default = (_class = class ChatChannelInfoMembersRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    afterModel(model) {\n      if (!model.isOpen) {\n        return this.router.replaceWith(\"chat.channel.info.settings\");\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-info\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\", \"discourse/plugins/chat/discourse/services/chat-channel-info-route-origin-manager\", \"discourse/plugins/chat/discourse/routes/chat-channel-decorator\"], function (_exports, _service, _discourse, _chatChannelInfoRouteOriginManager, _chatChannelDecorator) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelInfoRoute = _exports.default = (0, _chatChannelDecorator.default)(_class = (_class2 = class ChatChannelInfoRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatChannelInfoRouteOriginManager\", _descriptor, this);\n    }\n    activate(transition) {\n      const name = transition?.from?.name;\n      if (name) {\n        this.chatChannelInfoRouteOriginManager.origin = name.startsWith(\"chat.browse\") ? _chatChannelInfoRouteOriginManager.ORIGINS.browse : _chatChannelInfoRouteOriginManager.ORIGINS.channel;\n      }\n    }\n    deactivate() {\n      this.chatChannelInfoRouteOriginManager.origin = null;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"chatChannelInfoRouteOriginManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class2)) || _class;\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-legacy\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelLegacyRoute = _exports.default = (_class = class ChatChannelLegacyRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    redirect() {\n      const {\n        channelTitle,\n        channelId,\n        messageId\n      } = this.paramsFor(this.routeName);\n      this.router.replaceWith(\"chat.channel\", channelTitle, channelId, {\n        queryParams: {\n          messageId\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-near-message\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  // This route is only here as a convenience method for a clean `/c/:channelTitle/:channelId/:messageId` URL.\n  // It's not a real route, it just redirects to the real route after setting a param on the controller.\n  let ChatChannelNearMessage = _exports.default = (_class = class ChatChannelNearMessage extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    beforeModel() {\n      const channel = this.modelFor(\"chat-channel\");\n      const {\n        messageId\n      } = this.paramsFor(this.routeName);\n      this.controllerFor(\"chat-channel\").set(\"messageId\", null);\n      if (messageId || this.controllerFor(\"chat-channel\").get(\"targetMessageId\")) {\n        this.controllerFor(\"chat-channel\").set(\"targetMessageId\", messageId);\n      }\n      this.router.replaceWith(\"chat.channel\", ...channel.routeModels);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-thread-near-message\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  // This route is only here as a convenience method for a clean `/c/:channelTitle/:channelId/t/:threadId/:messageId` URL.\n  // It's not a real route, it just redirects to the real route after setting a param on the controller.\n  let ChatChannelThreadNearMessage = _exports.default = (_class = class ChatChannelThreadNearMessage extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n    }\n    beforeModel() {\n      const thread = this.modelFor(\"chat-channel-thread\");\n      const {\n        messageId\n      } = this.paramsFor(this.routeName);\n      if (messageId || this.controllerFor(\"chat-channel-thread\").get(\"targetMessageId\")) {\n        this.controllerFor(\"chat-channel-thread\").set(\"targetMessageId\", messageId);\n      }\n      this.router.replaceWith(\"chat.channel.thread\", ...thread.routeModels);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-thread\", [\"exports\", \"@ember/object\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _object, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelThread = _exports.default = (_class = class ChatChannelThread extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatThreadPane\", _descriptor4, this);\n    }\n    model(params, transition) {\n      const channel = this.modelFor(\"chat.channel\");\n      return channel.threadsManager.find(channel.id, params.threadId).catch(() => {\n        transition.abort();\n        this.chatStateManager.closeSidePanel();\n        this.router.transitionTo(\"chat.channel\", ...channel.routeModels);\n        return;\n      });\n    }\n    afterModel(model) {\n      this.chat.activeChannel.activeThread = model;\n    }\n    willTransition(transition) {\n      if (transition.targetName === \"chat.channel.index\" || transition.targetName === \"chat.channel.near-message\" || transition.targetName === \"chat.index\" || !transition.targetName.startsWith(\"chat\")) {\n        this.chatStateManager.closeSidePanel();\n      }\n    }\n    beforeModel(transition) {\n      const channel = this.modelFor(\"chat.channel\");\n      if (!channel.threadingEnabled) {\n        transition.abort();\n        this.router.transitionTo(\"chat.channel\", ...channel.routeModels);\n        return;\n      }\n      const {\n        messageId\n      } = this.paramsFor(this.routeName + \".near-message\");\n      if (!messageId && this.controllerFor(\"chat-channel-thread\").get(\"targetMessageId\")) {\n        this.controllerFor(\"chat-channel-thread\").set(\"targetMessageId\", null);\n      }\n      this.chatStateManager.openSidePanel();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"willTransition\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"willTransition\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel-threads\", [\"exports\", \"@ember/object\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _object, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelThreads = _exports.default = (_class = class ChatChannelThreads extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatThreadListPane\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n    }\n    beforeModel(transition) {\n      const channel = this.modelFor(\"chat.channel\");\n      if (!channel.threadingEnabled) {\n        transition.abort();\n        this.router.transitionTo(\"chat.channel\", ...channel.routeModels);\n        return;\n      }\n      this.chatStateManager.openSidePanel();\n    }\n    willTransition(transition) {\n      if (transition.targetName === \"chat.channel.index\" || transition.targetName === \"chat.channel.near-message\" || transition.targetName === \"chat.index\" || !transition.targetName.startsWith(\"chat\")) {\n        this.chatStateManager.closeSidePanel();\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatThreadListPane\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"willTransition\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"willTransition\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-channel\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\", \"discourse/plugins/chat/discourse/routes/chat-channel-decorator\"], function (_exports, _service, _discourse, _chatChannelDecorator) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _class2, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelRoute = _exports.default = (0, _chatChannelDecorator.default)(_class = (_class2 = class ChatChannelRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"site\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n    }\n    redirect(model) {\n      if (this.site.mobileView) {\n        return;\n      }\n      const messageId = this.paramsFor(\"chat.channel.near-message\").messageId;\n      const threadId = this.paramsFor(\"chat.channel.thread\").threadId;\n      if (!messageId && !threadId && model.threadsManager.unreadThreadCount > 0) {\n        this.router.transitionTo(\"chat.channel.threads\", ...model.routeModels);\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class2)) || _class;\n});","define(\"discourse/plugins/chat/discourse/routes/chat-draft-channel\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDraftChannelRoute = _exports.default = (_class = class ChatDraftChannelRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n    }\n    beforeModel() {\n      if (!this.chat.userCanDirectMessage) {\n        this.router.transitionTo(\"chat\");\n      }\n    }\n    activate() {\n      this.chat.activeChannel = null;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-index\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatIndexRoute = _exports.default = (_class = class ChatIndexRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n    }\n    activate() {\n      this.chat.activeChannel = null;\n    }\n    redirect() {\n      // Always want the channel index on mobile.\n      if (this.site.mobileView) {\n        return;\n      }\n\n      // We are on desktop. Check for a channel to enter and transition if so\n      const id = this.chat.getIdealFirstChannelId();\n      if (id) {\n        return this.chatChannelsManager.find(id).then(c => {\n          return this.router.replaceWith(\"chat.channel\", ...c.routeModels);\n        });\n      } else {\n        return this.router.replaceWith(\"chat.browse\");\n      }\n    }\n    model() {\n      if (this.site.mobileView) {\n        return this.chatChannelsManager.channels;\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat-threads\", [\"exports\", \"@ember/service\", \"discourse/routes/discourse\"], function (_exports, _service, _discourse) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelThreads = _exports.default = (_class = class ChatChannelThreads extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor2, this);\n    }\n    activate() {\n      this.chat.activeChannel = null;\n      this.chatStateManager.closeSidePanel();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/chat\", [\"exports\", \"@ember/runloop\", \"@ember/service\", \"discourse/lib/plugin-api\", \"discourse/lib/utilities\", \"discourse/mixins/scroll-top\", \"discourse/routes/discourse\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode\", \"discourse/plugins/chat/discourse/lib/init-sidebar-state\"], function (_exports, _runloop, _service, _pluginApi, _utilities, _scrollTop, _discourse, _discourseI18n, _getUserChatSeparateSidebarMode, _initSidebarState) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatRoute = _exports.default = (_class = class ChatRoute extends _discourse.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n    }\n    titleToken() {\n      return _discourseI18n.default.t(\"chat.title_capitalized\");\n    }\n    beforeModel(transition) {\n      if (!this.chat.userCanChat) {\n        return this.router.transitionTo(`discovery.${(0, _utilities.defaultHomepage)()}`);\n      }\n      const INTERCEPTABLE_ROUTES = [\"chat.channel\", \"chat.threads\", \"chat.channel.thread\", \"chat.channel.thread.index\", \"chat.channel.thread.near-message\", \"chat.channel.threads\", \"chat.channel.index\", \"chat.channel.near-message\", \"chat.channel-legacy\", \"chat\", \"chat.index\"];\n      if (transition.from &&\n      // don't intercept when directly loading chat\n      this.chatStateManager.isDrawerPreferred && INTERCEPTABLE_ROUTES.includes(transition.targetName)) {\n        transition.abort();\n        let url = transition.intent.url;\n        if (transition.targetName.startsWith(\"chat.channel\")) {\n          url ??= this.router.urlFor(transition.targetName, ...transition.intent.contexts);\n        } else {\n          url ??= this.router.urlFor(transition.targetName);\n        }\n        this.appEvents.trigger(\"chat:open-url\", url);\n        return;\n      }\n      this.appEvents.trigger(\"chat:toggle-close\");\n    }\n    activate() {\n      (0, _pluginApi.withPluginApi)(\"1.8.0\", api => {\n        api.setSidebarPanel(_initSidebarState.CHAT_PANEL);\n        const chatSeparateSidebarMode = (0, _getUserChatSeparateSidebarMode.getUserChatSeparateSidebarMode)(this.currentUser);\n        if (chatSeparateSidebarMode.never) {\n          api.setCombinedSidebarMode();\n          api.hideSidebarSwitchPanelButtons();\n        } else {\n          api.setSeparatedSidebarMode();\n        }\n      });\n      this.chatStateManager.storeAppURL();\n      this.chat.updatePresence();\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        document.body.classList.add(\"has-full-page-chat\");\n        document.documentElement.classList.add(\"has-full-page-chat\");\n        (0, _scrollTop.scrollTop)();\n      });\n    }\n    deactivate(transition) {\n      (0, _pluginApi.withPluginApi)(\"1.8.0\", api => {\n        (0, _initSidebarState.initSidebarState)(api, this.currentUser);\n      });\n      if (transition) {\n        const url = this.router.urlFor(transition.from.name);\n        this.chatStateManager.storeChatURL(url);\n      }\n      this.chat.activeChannel = null;\n      this.chat.updatePresence();\n      (0, _runloop.schedule)(\"afterRender\", () => {\n        document.body.classList.remove(\"has-full-page-chat\");\n        document.documentElement.classList.remove(\"has-full-page-chat\");\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/routes/preferences-chat\", [\"exports\", \"@ember/service\", \"discourse/lib/utilities\", \"discourse/routes/restricted-user\"], function (_exports, _service, _utilities, _restrictedUser) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let PreferencesChatRoute = _exports.default = (_class = class PreferencesChatRoute extends _restrictedUser.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n      _defineProperty(this, \"showFooter\", true);\n    }\n    setupController(controller, user) {\n      if (!this.siteSettings.chat_enabled || !user.can_chat && !this.currentUser?.admin) {\n        return this.router.transitionTo(`discovery.${(0, _utilities.defaultHomepage)()}`);\n      }\n      controller.set(\"model\", user);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-admin-api\", [\"exports\", \"@ember/service\", \"discourse/lib/ajax\"], function (_exports, _service, _ajax) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _basePath = /*#__PURE__*/new WeakMap();\n  var _post = /*#__PURE__*/new WeakSet();\n  class ChatAdminApi extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _post);\n      _classPrivateFieldInitSpec(this, _basePath, {\n        get: _get_basePath,\n        set: void 0\n      });\n    }\n    async exportMessages() {\n      await _classPrivateMethodGet(this, _post, _post2).call(this, `/export/messages`);\n    }\n  }\n  _exports.default = ChatAdminApi;\n  function _get_basePath() {\n    return \"/chat/admin\";\n  }\n  function _post2(endpoint, data = {}) {\n    return (0, _ajax.ajax)(`${_classPrivateFieldGet(this, _basePath)}${endpoint}`, {\n      type: \"POST\",\n      data\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-api\", [\"exports\", \"@ember/service\", \"discourse/lib/ajax\", \"discourse/plugins/chat/discourse/models/user-chat-channel-membership\", \"discourse/plugins/chat/discourse/lib/collection\"], function (_exports, _service, _ajax, _userChatChannelMembership, _collection) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _basePath, _getRequest, _putRequest, _postRequest, _deleteRequest;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  /**\n   * Chat API service. Provides methods to interact with the chat API.\n   *\n   * @module ChatApi\n   * @implements {@ember/service}\n   */\n  let ChatApi = _exports.default = (_class = (_basePath = /*#__PURE__*/new WeakMap(), _getRequest = /*#__PURE__*/new WeakSet(), _putRequest = /*#__PURE__*/new WeakSet(), _postRequest = /*#__PURE__*/new WeakSet(), _deleteRequest = /*#__PURE__*/new WeakSet(), class ChatApi extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _deleteRequest);\n      _classPrivateMethodInitSpec(this, _postRequest);\n      _classPrivateMethodInitSpec(this, _putRequest);\n      _classPrivateMethodInitSpec(this, _getRequest);\n      _classPrivateFieldInitSpec(this, _basePath, {\n        get: _get_basePath,\n        set: void 0\n      });\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n    }\n    channel(channelId) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/channels/${channelId}`);\n    }\n    channelThreadMessages(channelId, threadId, params = {}) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/channels/${channelId}/threads/${threadId}/messages?${new URLSearchParams(params).toString()}`);\n    }\n    channelMessages(channelId, params = {}) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/channels/${channelId}/messages?${new URLSearchParams(params).toString()}`);\n    }\n\n    /**\n     * Flags a message in a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @param {number} messageId - The ID of the message to flag.\n     * @param {object} params - Params of the flag.\n     * @param {integer} params.flag_type_id\n     * @param {string} [params.message]\n     * @param {boolean} [params.is_warning]\n     * @param {boolean} [params.queue_for_review]\n     * @param {boolean} [params.take_action]\n     * @returns {Promise}\n     *\n     * @example\n     *\n     *    this.chatApi.flagMessage(5, 1);\n     */\n    flagMessage(channelId, messageId, params = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/messages/${messageId}/flags`, params);\n    }\n\n    /**\n     * Get a thread in a channel by its ID.\n     * @param {number} channelId - The ID of the channel.\n     * @param {number} threadId - The ID of the thread.\n     * @returns {Promise}\n     *\n     * @example\n     *\n     *    this.chatApi.thread(5, 1).then(thread => { ... })\n     */\n    thread(channelId, threadId) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/channels/${channelId}/threads/${threadId}`);\n    }\n\n    /**\n     * Loads all threads for a channel.\n     * For now we only get the 50 threads ordered\n     * by the last message sent by the user then the\n     * thread creation date, later we will paginate\n     * and add filters.\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Promise}\n     */\n    threads(channelId, handler) {\n      return new _collection.default(`${_classPrivateFieldGet(this, _basePath)}/channels/${channelId}/threads`, handler);\n    }\n\n    /**\n     * List all accessible category channels of the current user.\n     * @returns {Collection}\n     *\n     * @example\n     *\n     *    this.chatApi.channels.then(channels => { ... })\n     */\n    channels(params = {}) {\n      return new _collection.default(`${_classPrivateFieldGet(this, _basePath)}/channels`, response => {\n        return response.channels.map(channel => this.chatChannelsManager.store(channel));\n      }, params);\n    }\n\n    /**\n     * Moves messages from one channel to another.\n     * @param {number} channelId - The ID of the original channel.\n     * @param {object} data - Params of the move.\n     * @param {Array.<number>} data.message_ids - IDs of the moved messages.\n     * @param {number} data.destination_channel_id - ID of the channel where the messages are moved to.\n     * @returns {Promise}\n     *\n     * @example\n     *\n     *   this.chatApi\n     *     .moveChannelMessages(1, {\n     *       message_ids: [2, 3],\n     *       destination_channel_id: 4,\n     *     }).then(() => { ... })\n     */\n    moveChannelMessages(channelId, data = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/messages/moves`, {\n        move: data\n      });\n    }\n\n    /**\n     * Destroys a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Promise}\n     *\n     * @example\n     *\n     *    this.chatApi.destroyChannel(1).then(() => { ... })\n     */\n    destroyChannel(channelId) {\n      return _classPrivateMethodGet(this, _deleteRequest, _deleteRequest2).call(this, `/channels/${channelId}`);\n    }\n\n    /**\n     * Creates a channel.\n     * @param {object} data - Params of the channel.\n     * @param {string} data.name - The name of the channel.\n     * @param {string} data.chatable_id - The category of the channel.\n     * @param {string} data.description - The description of the channel.\n     * @param {boolean} [data.auto_join_users] - Should users join this channel automatically.\n     * @returns {Promise}\n     *\n     * @example\n     *\n     *    this.chatApi\n     *      .createChannel({ name: \"foo\", chatable_id: 1, description \"bar\" })\n     *      .then((channel) => { ... })\n     */\n    createChannel(data = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, \"/channels\", {\n        channel: data\n      }).then(response => this.chatChannelsManager.store(response.channel));\n    }\n\n    /**\n     * Lists chat permissions for a category.\n     * @param {number} categoryId - ID of the category.\n     * @returns {Promise}\n     */\n    categoryPermissions(categoryId) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/category-chatables/${categoryId}/permissions`);\n    }\n\n    /**\n     * Sends a message.\n     * @param {number} channelId - ID of the channel.\n     * @param {object} data - Params of the message.\n     * @param {string} data.message - The raw content of the message in markdown.\n     * @param {string} data.cooked - The cooked content of the message.\n     * @param {number} [data.in_reply_to_id] - The ID of the replied-to message.\n     * @param {number} [data.staged_id] - The staged ID of the message before it was persisted.\n     * @param {number} [data.thread_id] - The ID of the thread where this message should be posted.\n     * @param {Array.<number>} [data.upload_ids] - Array of upload ids linked to the message.\n     * @returns {Promise}\n     */\n    sendMessage(channelId, data = {}) {\n      return (0, _ajax.ajax)(`/chat/${channelId}`, {\n        ignoreUnsent: false,\n        type: \"POST\",\n        data\n      });\n    }\n\n    /**\n     * Trashes (soft deletes) a chat message.\n     * @param {number} channelId - ID of the channel.\n     * @param {number} messageId - ID of the message.\n     * @returns {Promise}\n     */\n    trashMessage(channelId, messageId) {\n      return _classPrivateMethodGet(this, _deleteRequest, _deleteRequest2).call(this, `/channels/${channelId}/messages/${messageId}`);\n    }\n\n    /**\n     * Creates a channel archive.\n     * @param {number} channelId - The ID of the channel.\n     * @param {object} data - Params of the archive.\n     * @param {string} data.selection - \"new_topic\" or \"existing_topic\".\n     * @param {string} [data.title] - Title of the topic when creating a new topic.\n     * @param {string} [data.category_id] - ID of the category used when creating a new topic.\n     * @param {Array.<string>} [data.tags] - tags used when creating a new topic.\n     * @param {string} [data.topic_id] - ID of the topic when using an existing topic.\n     * @returns {Promise}\n     */\n    createChannelArchive(channelId, data = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/archives`, {\n        archive: data\n      });\n    }\n\n    /**\n     * Updates a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @param {object} data - Params of the archive.\n     * @param {string} [data.description] - Description of the channel.\n     * @param {string} [data.name] - Name of the channel.\n     * @returns {Promise}\n     */\n    updateChannel(channelId, data = {}) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}`, {\n        channel: data\n      });\n    }\n\n    /**\n     * Creates a thread.\n     * @param {number} channelId - The ID of the channel.\n     * @param {number} originalMessageId - The ID of the original message.\n     * @param {object} data - Params of the thread.\n     * @param {string} [data.title] - Title of the thread.\n     * @returns {Promise}\n     */\n    createThread(channelId, originalMessageId, data = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/threads`, {\n        title: data.title,\n        original_message_id: originalMessageId\n      });\n    }\n\n    /**\n     * Updates the status of a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @param {string} status - The new status, can be \"open\" or \"closed\".\n     * @returns {Promise}\n     */\n    updateChannelStatus(channelId, status) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/status`, {\n        status\n      });\n    }\n\n    /**\n     * Lists members of a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Collection}\n     */\n    listChannelMemberships(channelId, params = {}) {\n      return new _collection.default(`${_classPrivateFieldGet(this, _basePath)}/channels/${channelId}/memberships`, response => {\n        return response.memberships.map(membership => _userChatChannelMembership.default.create(membership));\n      }, params);\n    }\n\n    /**\n     * Lists public and direct message channels of the current user.\n     * @returns {Promise}\n     */\n    listCurrentUserChannels() {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, \"/me/channels\");\n    }\n\n    /**\n     * Makes current user follow a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Promise}\n     */\n    followChannel(channelId) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/memberships/me`).then(result => _userChatChannelMembership.default.create(result.membership));\n    }\n\n    /**\n     * Makes current user unfollow a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Promise}\n     */\n    unfollowChannel(channelId) {\n      return _classPrivateMethodGet(this, _deleteRequest, _deleteRequest2).call(this, `/channels/${channelId}/memberships/me/follows`).then(result => _userChatChannelMembership.default.create(result.membership));\n    }\n\n    /**\n     * Destroys the membership of current user on a channel.\n     *\n     * @param {number} channelId - The ID of the channel.\n     * @returns {Promise}\n     */\n    leaveChannel(channelId) {\n      return _classPrivateMethodGet(this, _deleteRequest, _deleteRequest2).call(this, `/channels/${channelId}/memberships/me`);\n    }\n\n    /**\n     * Get the list of tracked threads for the current user.\n     *\n     * @returns {Promise}\n     */\n    userThreads(handler) {\n      return new _collection.default(`${_classPrivateFieldGet(this, _basePath)}/me/threads`, handler);\n    }\n\n    /**\n     * Update notifications settings of current user for a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @param {object} data - The settings to modify.\n     * @param {boolean} [data.muted] - Mutes the channel.\n     * @param {string} [data.desktop_notification_level] - Notifications level on desktop: never, mention or always.\n     * @param {string} [data.mobile_notification_level] - Notifications level on mobile: never, mention or always.\n     * @returns {Promise}\n     */\n    updateCurrentUserChannelNotificationsSettings(channelId, data = {}) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/notifications-settings/me`, {\n        notifications_settings: data\n      });\n    }\n\n    /**\n     * Update notifications settings of current user for a thread.\n     * @param {number} channelId - The ID of the channel.\n     * @param {number} threadId - The ID of the thread.\n     * @param {object} data - The settings to modify.\n     * @param {boolean} [data.notification_level] - The new notification level, c.f. Chat::NotificationLevels. Threads only support\n     *  \"regular\" and \"tracking\" for now.\n     * @returns {Promise}\n     */\n    updateCurrentUserThreadNotificationsSettings(channelId, threadId, data) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/threads/${threadId}/notifications-settings/me`, {\n        notification_level: data.notificationLevel\n      });\n    }\n\n    /**\n     * Saves a draft for the channel, which includes message contents and uploads.\n     * @param {number} channelId - The ID of the channel.\n     * @param {object} data - The draft data, see ChatMessage.toJSONDraft() for more details.\n     * @returns {Promise}\n     */\n    saveDraft(channelId, data, options = {}) {\n      let endpoint = `/chat/api/channels/${channelId}`;\n      if (options.threadId) {\n        endpoint += `/threads/${options.threadId}`;\n      }\n      endpoint += \"/drafts\";\n      return (0, _ajax.ajax)(endpoint, {\n        type: \"POST\",\n        data: {\n          data\n        },\n        ignoreUnsent: false\n      }).then(() => {\n        this.chat.markNetworkAsReliable();\n      }).catch(error => {\n        // we ignore a draft which can't be saved because it's too big\n        // and only deal with network error for now\n        if (!error.jqXHR?.responseJSON?.errors?.length) {\n          this.chat.markNetworkAsUnreliable();\n        }\n      });\n    }\n\n    /**\n     * Adds or removes an emoji reaction for a message inside a channel.\n     * @param {number} channelId - The ID of the channel.\n     * @param {number} messageId - The ID of the message to react on.\n     * @param {string} emoji - The text version of the emoji without colons, e.g. tada\n     * @param {string} reaction - Either \"add\" or \"remove\"\n     * @returns {Promise}\n     */\n    publishReaction(channelId, messageId, emoji, reactAction) {\n      return (0, _ajax.ajax)(`/chat/${channelId}/react/${messageId}`, {\n        type: \"PUT\",\n        data: {\n          react_action: reactAction,\n          emoji\n        }\n      });\n    }\n\n    /**\n     * Restores a single deleted chat message in a channel.\n     *\n     * @param {number} channelId - The ID of the channel for the message being restored.\n     * @param {number} messageId - The ID of the message being restored.\n     */\n    restoreMessage(channelId, messageId) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/messages/${messageId}/restore`);\n    }\n\n    /**\n     * Rebakes the cooked HTML of a single message in a channel.\n     *\n     * @param {number} channelId - The ID of the channel for the message being restored.\n     * @param {number} messageId - The ID of the message being restored.\n     */\n    rebakeMessage(channelId, messageId) {\n      return (0, _ajax.ajax)(`/chat/${channelId}/${messageId}/rebake`, {\n        type: \"PUT\"\n      });\n    }\n\n    /**\n     * Saves an edit to a message's contents in a channel.\n     *\n     * @param {number} channelId - The ID of the channel for the message being edited.\n     * @param {number} messageId - The ID of the message being edited.\n     * @param {object} data - Params of the edit.\n     * @param {string} data.new_message - The edited content of the message.\n     * @param {Array<number>} data.upload_ids - The uploads attached to the message after editing.\n     */\n    editMessage(channelId, messageId, data) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/messages/${messageId}`, data);\n    }\n\n    /**\n     * Marks messages for all of a user's chat channel memberships as read.\n     *\n     * @returns {Promise}\n     */\n    markAllChannelsAsRead() {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/read`);\n    }\n\n    /**\n     * Lists all possible chatables.\n     *\n     * @param {term} string - The term to search for. # prefix will scope to channels, @ to users.\n     *\n     * @returns {Promise}\n     */\n    chatables(args = {}) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, \"/chatables\", args);\n    }\n\n    /**\n     * Marks messages for a single user chat channel membership as read. If no\n     * message ID is provided, then the latest message for the channel is fetched\n     * on the server and used for the last read message.\n     *\n     * @param {number} channelId - The ID of the channel for the message being marked as read.\n     * @param {number} [messageId] - The ID of the message being marked as read.\n     * @returns {Promise}\n     */\n    markChannelAsRead(channelId, messageId = null) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/read/${messageId}`);\n    }\n\n    /**\n     * Marks all messages and mentions in a thread as read. This is quite\n     * far-reaching for now, and is not granular since there is no membership/\n     * read state per-user for threads. In future this will be expanded to\n     * also pass message ID in the same way as markChannelAsRead\n     *\n     * @param {number} channelId - The ID of the channel for the thread being marked as read.\n     * @param {number} threadId - The ID of the thread being marked as read.\n     * @returns {Promise}\n     */\n    markThreadAsRead(channelId, threadId) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/threads/${threadId}/read`);\n    }\n\n    /**\n     * Updates settings of a thread.\n     *\n     * @param {number} channelId - The ID of the channel for the thread being edited.\n     * @param {number} threadId - The ID of the thread being edited.\n     * @param {object} data - Params of the edit.\n     * @param {string} data.title - The new title for the thread.\n     */\n    editThread(channelId, threadId, data) {\n      return _classPrivateMethodGet(this, _putRequest, _putRequest2).call(this, `/channels/${channelId}/threads/${threadId}`, data);\n    }\n\n    /**\n     * Generate a quote for a list of messages.\n     *\n     * @param {number} channelId - The ID of the channel containing the messages.\n     * @param {Array<number>} messageIds - The IDs of the messages to quote.\n     */\n    generateQuote(channelId, messageIds) {\n      return (0, _ajax.ajax)(`/chat/${channelId}/quote`, {\n        type: \"POST\",\n        data: {\n          message_ids: messageIds\n        }\n      });\n    }\n\n    /**\n     * Invite users to a channel.\n     *\n     * @param {number} channelId - The ID of the channel.\n     * @param {Array<number>} userIds - The IDs of the users to invite.\n     * @param {object} options\n     * @param {number} options.chat_message_id - A message ID to display in the invite.\n     */\n    invite(channelId, userIds, options = {}) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/invites`, {\n        user_ids: userIds,\n        message_id: options.messageId\n      });\n    }\n\n    /**\n     * Summarize a channel.\n     *\n     * @param {number} channelId - The ID of the channel to summarize.\n     * @param {object} options\n     * @param {number} options.since - Number of hours ago the summary should start (1, 3, 6, 12, 24, 72, 168).\n     */\n    summarize(channelId, options = {}) {\n      return _classPrivateMethodGet(this, _getRequest, _getRequest2).call(this, `/channels/${channelId}/summarize`, options);\n    }\n\n    /**\n     * Add members to a channel.\n     *\n     * @param {number} channelId - The ID of the channel.\n     * @param {Array<string>} usernames - The usernames of the users to add.\n     */\n    addMembersToChannel(channelId, usernames) {\n      return _classPrivateMethodGet(this, _postRequest, _postRequest2).call(this, `/channels/${channelId}/memberships`, {\n        usernames\n      });\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _get_basePath() {\n    return \"/chat/api\";\n  }\n  function _getRequest2(endpoint, data = {}) {\n    return (0, _ajax.ajax)(`${_classPrivateFieldGet(this, _basePath)}${endpoint}`, {\n      type: \"GET\",\n      data\n    });\n  }\n  function _putRequest2(endpoint, data = {}) {\n    return (0, _ajax.ajax)(`${_classPrivateFieldGet(this, _basePath)}${endpoint}`, {\n      type: \"PUT\",\n      data\n    });\n  }\n  function _postRequest2(endpoint, data = {}) {\n    return (0, _ajax.ajax)(`${_classPrivateFieldGet(this, _basePath)}${endpoint}`, {\n      type: \"POST\",\n      data\n    });\n  }\n  function _deleteRequest2(endpoint, data = {}) {\n    return (0, _ajax.ajax)(`${_classPrivateFieldGet(this, _basePath)}${endpoint}`, {\n      type: \"DELETE\",\n      data\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-audio-manager\", [\"exports\", \"@ember/service\", \"discourse-common/config/environment\", \"discourse-common/lib/get-url\", \"discourse-common/utils/decorators\"], function (_exports, _service, _environment, _getUrl, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.CHAT_SOUNDS = void 0;\n  var _dec, _class;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  const AUDIO_DEBOUNCE_DELAY = 3000;\n  const CHAT_SOUNDS = _exports.CHAT_SOUNDS = {\n    bell: [{\n      src: \"/plugins/chat/audio/bell.mp3\",\n      type: \"audio/mpeg\"\n    }],\n    ding: [{\n      src: \"/plugins/chat/audio/ding.mp3\",\n      type: \"audio/mpeg\"\n    }]\n  };\n  const DEFAULT_SOUND_NAME = \"bell\";\n  const createAudioCache = sources => {\n    const audio = new Audio();\n    audio.pause();\n    sources.forEach(({\n      type,\n      src\n    }) => {\n      const source = document.createElement(\"source\");\n      source.type = type;\n      source.src = (0, _getUrl.getURLWithCDN)(src);\n      audio.appendChild(source);\n    });\n    return audio;\n  };\n  let ChatAudioManager = _exports.default = (_dec = (0, _decorators.debounce)(AUDIO_DEBOUNCE_DELAY, true), (_class = class ChatAudioManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"_audioCache\", {});\n    }\n    setup() {\n      Object.keys(CHAT_SOUNDS).forEach(soundName => {\n        this._audioCache[soundName] = createAudioCache(CHAT_SOUNDS[soundName]);\n      });\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      this._audioCache = {};\n    }\n    playImmediately(soundName) {\n      return this._play(soundName);\n    }\n    play(soundName) {\n      return this._play(soundName);\n    }\n    _play(soundName) {\n      const audio = this._audioCache[soundName] || this._audioCache[DEFAULT_SOUND_NAME];\n      audio.muted = (0, _environment.isTesting)();\n      if (!audio.paused) {\n        audio.pause();\n        if (typeof audio.fastSeek === \"function\") {\n          audio.fastSeek(0);\n        } else {\n          audio.currentTime = 0;\n        }\n      }\n      return audio.play().catch(() => {\n        if (!(0, _environment.isTesting)()) {\n          // eslint-disable-next-line no-console\n          console.info(\"[chat] User needs to interact with DOM before we can play notification sounds.\");\n        }\n      });\n    }\n  }, (_applyDecoratedDescriptor(_class.prototype, \"play\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"play\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/services/chat-channel-composer\", [\"exports\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\"], function (_exports, _tracking, _object, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelComposer = _exports.default = (_dec = (0, _service.inject)(\"chat-thread-composer\"), (_class = class ChatChannelComposer extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n      _initializerDefineProperty(this, \"router\", _descriptor4, this);\n      _initializerDefineProperty(this, \"threadComposer\", _descriptor5, this);\n      _initializerDefineProperty(this, \"loadingSlider\", _descriptor6, this);\n      _initializerDefineProperty(this, \"textarea\", _descriptor7, this);\n    }\n    focus(options = {}) {\n      this.textarea?.focus(options);\n    }\n    blur() {\n      this.textarea.blur();\n    }\n    edit(message) {\n      this.chat.activeMessage = null;\n      message.editing = true;\n      message.channel.draft = message;\n      this.focus({\n        refreshHeight: true,\n        ensureAtEnd: true\n      });\n    }\n    async replyTo(message) {\n      this.chat.activeMessage = null;\n      if (message.channel.threadingEnabled) {\n        if (!message.thread?.id) {\n          try {\n            this.loadingSlider.transitionStarted();\n            const threadObject = await this.chatApi.createThread(message.channel.id, message.id);\n            message.thread = message.channel.threadsManager.add(message.channel, threadObject);\n          } finally {\n            this.loadingSlider.transitionEnded();\n          }\n        }\n        message.channel.resetDraft(this.currentUser);\n        await this.router.transitionTo(\"chat.channel.thread\", ...message.thread.routeModels);\n        this.threadComposer.focus({\n          ensureAtEnd: true,\n          refreshHeight: true\n        });\n      } else {\n        message.channel.draft.inReplyTo = message;\n        this.focus({\n          ensureAtEnd: true,\n          refreshHeight: true\n        });\n      }\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"threadComposer\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"loadingSlider\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"textarea\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"focus\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"focus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"blur\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"blur\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"edit\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"edit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"replyTo\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"replyTo\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/services/chat-channel-emoji-picker-manager\", [\"exports\", \"discourse/plugins/chat/discourse/services/chat-emoji-picker-manager\"], function (_exports, _chatEmojiPickerManager) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  class ChatChannelEmojiPickerManager extends _chatEmojiPickerManager.default {}\n  _exports.default = ChatChannelEmojiPickerManager;\n});","define(\"discourse/plugins/chat/discourse/services/chat-channel-info-route-origin-manager\", [\"exports\", \"@ember/service\", \"@ember/utils\", \"discourse/lib/key-value-store\"], function (_exports, _service, _utils, _keyValueStore) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.ORIGINS = _exports.INFO_ROUTE_NAMESPACE = _exports.BACK_KEY = void 0;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  const BACK_KEY = _exports.BACK_KEY = \"back\";\n  const INFO_ROUTE_NAMESPACE = _exports.INFO_ROUTE_NAMESPACE = \"discourse_chat_info_route\";\n  const ORIGINS = _exports.ORIGINS = {\n    channel: \"channel\",\n    browse: \"browse\"\n  };\n  class ChatChannelInfoRouteOriginManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _defineProperty(this, \"store\", new _keyValueStore.default(INFO_ROUTE_NAMESPACE));\n    }\n    get origin() {\n      const origin = this.store.getObject(BACK_KEY);\n      if (origin) {\n        return ORIGINS[origin];\n      }\n    }\n    set origin(value) {\n      this.store.setObject({\n        key: BACK_KEY,\n        value\n      });\n    }\n    get isBrowse() {\n      return this.origin === ORIGINS.browse;\n    }\n    get isChannel() {\n      return this.origin === ORIGINS.channel || (0, _utils.isEmpty)(this.origin);\n    }\n  }\n  _exports.default = ChatChannelInfoRouteOriginManager;\n});","define(\"discourse/plugins/chat/discourse/services/chat-channel-notices-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"@ember-compat/tracked-built-ins\", \"discourse/plugins/chat/discourse/models/chat-notice\"], function (_exports, _tracking, _service, _trackedBuiltIns, _chatNotice) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelNoticesManager = _exports.default = (_class = class ChatChannelNoticesManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"notices\", _descriptor, this);\n    }\n    handleNotice(data) {\n      this.notices.pushObject(_chatNotice.default.create(data));\n    }\n    clearNotice(notice) {\n      this.notices.removeObject(notice);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"notices\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return new _trackedBuiltIns.TrackedArray();\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-channel-pane\", [\"exports\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\"], function (_exports, _tracking, _object, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatChannelPane = _exports.default = (_class = class ChatChannelPane extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"reacting\", _descriptor2, this);\n      _initializerDefineProperty(this, \"selectingMessages\", _descriptor3, this);\n      _initializerDefineProperty(this, \"lastSelectedMessage\", _descriptor4, this);\n      _initializerDefineProperty(this, \"sending\", _descriptor5, this);\n    }\n    get channel() {\n      return this.chat.activeChannel;\n    }\n    get selectedMessageIds() {\n      return this.channel.messagesManager.selectedMessages.mapBy(\"id\");\n    }\n    cancelSelecting() {\n      this.selectingMessages = false;\n      this.channel.messagesManager.clearSelectedMessages();\n    }\n    onSelectMessage(message) {\n      this.lastSelectedMessage = message;\n      this.selectingMessages = true;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"reacting\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"selectingMessages\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"lastSelectedMessage\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"sending\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"cancelSelecting\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"cancelSelecting\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSelectMessage\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSelectMessage\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-channels-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"@ember-compat/tracked-built-ins\", \"rsvp\", \"discourse/lib/ajax-error\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/models/chat-channel\"], function (_exports, _tracking, _service, _trackedBuiltIns, _rsvp, _ajaxError, _decorators, _chatChannel) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _find, _cache, _findStale, _sortDirectMessageChannels;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const DIRECT_MESSAGE_CHANNELS_LIMIT = 20;\n\n  /*\n    The ChatChannelsManager service is responsible for managing the loaded chat channels.\n    It provides helpers to facilitate using and managing loaded channels instead of constantly\n    fetching them from the server.\n  */\n  let ChatChannelsManager = _exports.default = (_dec = (0, _decorators.debounce)(300), (_class = (_find = /*#__PURE__*/new WeakSet(), _cache = /*#__PURE__*/new WeakSet(), _findStale = /*#__PURE__*/new WeakSet(), _sortDirectMessageChannels = /*#__PURE__*/new WeakSet(), class ChatChannelsManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _sortDirectMessageChannels);\n      _classPrivateMethodInitSpec(this, _findStale);\n      _classPrivateMethodInitSpec(this, _cache);\n      _classPrivateMethodInitSpec(this, _find);\n      _initializerDefineProperty(this, \"chatSubscriptionsManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n      _initializerDefineProperty(this, \"router\", _descriptor4, this);\n      _initializerDefineProperty(this, \"_cached\", _descriptor5, this);\n    }\n    async find(id, options = {\n      fetchIfNotFound: true\n    }) {\n      const existingChannel = _classPrivateMethodGet(this, _findStale, _findStale2).call(this, id);\n      if (existingChannel) {\n        return _rsvp.default.resolve(existingChannel);\n      } else if (options.fetchIfNotFound) {\n        return _classPrivateMethodGet(this, _find, _find2).call(this, id);\n      } else {\n        return _rsvp.default.resolve();\n      }\n    }\n    get channels() {\n      return Object.values(this._cached);\n    }\n    store(channelObject, options = {}) {\n      let model;\n      if (!options.replace) {\n        model = _classPrivateMethodGet(this, _findStale, _findStale2).call(this, channelObject.id);\n      }\n      if (!model) {\n        if (channelObject instanceof _chatChannel.default) {\n          model = channelObject;\n        } else {\n          model = _chatChannel.default.create(channelObject);\n        }\n        _classPrivateMethodGet(this, _cache, _cache2).call(this, model);\n      }\n      if (channelObject.meta?.message_bus_last_ids?.channel_message_bus_last_id !== undefined) {\n        model.channelMessageBusLastId = channelObject.meta.message_bus_last_ids.channel_message_bus_last_id;\n      }\n      return model;\n    }\n    async follow(model) {\n      this.chatSubscriptionsManager.startChannelSubscription(model);\n      if (!model.currentUserMembership.following) {\n        return this.chatApi.followChannel(model.id).then(membership => {\n          model.currentUserMembership = membership;\n          return model;\n        });\n      } else {\n        return model;\n      }\n    }\n    async unfollow(model) {\n      try {\n        this.chatSubscriptionsManager.stopChannelSubscription(model);\n        model.currentUserMembership = await this.chatApi.unfollowChannel(model.id);\n        return model;\n      } catch (error) {\n        (0, _ajaxError.popupAjaxError)(error);\n      }\n    }\n    async markAllChannelsRead() {\n      // The user tracking state for each channel marked read will be propagated by MessageBus\n      return this.chatApi.markAllChannelsAsRead();\n    }\n    remove(model) {\n      this.chatSubscriptionsManager.stopChannelSubscription(model);\n      delete this._cached[model.id];\n    }\n    get allChannels() {\n      return [...this.publicMessageChannels, ...this.directMessageChannels].sort((a, b) => {\n        return b?.currentUserMembership?.lastViewedAt?.localeCompare?.(a?.currentUserMembership?.lastViewedAt);\n      });\n    }\n    get publicMessageChannels() {\n      return this.channels.filter(channel => channel.isCategoryChannel && channel.currentUserMembership.following).sort((a, b) => a?.slug?.localeCompare?.(b?.slug));\n    }\n    get directMessageChannels() {\n      return _classPrivateMethodGet(this, _sortDirectMessageChannels, _sortDirectMessageChannels2).call(this, this.channels.filter(channel => {\n        const membership = channel.currentUserMembership;\n        return channel.isDirectMessageChannel && membership.following;\n      }));\n    }\n    get truncatedDirectMessageChannels() {\n      return this.directMessageChannels.slice(0, DIRECT_MESSAGE_CHANNELS_LIMIT);\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatSubscriptionsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"_cached\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return new _trackedBuiltIns.TrackedObject();\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"markAllChannelsRead\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"markAllChannelsRead\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"publicMessageChannels\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"publicMessageChannels\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"directMessageChannels\", [_tracking.cached], Object.getOwnPropertyDescriptor(_class.prototype, \"directMessageChannels\"), _class.prototype)), _class));\n  async function _find2(id) {\n    try {\n      const result = await this.chatApi.channel(id);\n      return this.store(result.channel);\n    } catch (error) {\n      (0, _ajaxError.popupAjaxError)(error);\n    }\n  }\n  function _cache2(channel) {\n    if (!channel) {\n      return;\n    }\n    this._cached[channel.id] = channel;\n  }\n  function _findStale2(id) {\n    return this._cached[id];\n  }\n  function _sortDirectMessageChannels2(channels) {\n    return channels.sort((a, b) => {\n      if (!a.lastMessage.id) {\n        return 1;\n      }\n      if (!b.lastMessage.id) {\n        return -1;\n      }\n      if (a.tracking.unreadCount === b.tracking.unreadCount) {\n        return new Date(a.lastMessage.createdAt) > new Date(b.lastMessage.createdAt) ? -1 : 1;\n      } else {\n        return a.tracking.unreadCount > b.tracking.unreadCount ? -1 : 1;\n      }\n    });\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-composer-presence-manager\", [\"exports\", \"@ember/runloop\", \"@ember/service\", \"discourse-common/config/environment\"], function (_exports, _runloop, _service, _environment) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const KEEP_ALIVE_DURATION_SECONDS = 10;\n\n  // This service is loosely based on discourse-presence's ComposerPresenceManager service\n  // It is a singleton which receives notifications each time the value of the chat composer changes\n  // This service ensures that a single browser can only be 'replying' to a single chatChannel at\n  // one time, and automatically 'leaves' the channel if the composer value hasn't changed for 10 seconds\n  let ChatComposerPresenceManager = _exports.default = (_class = class ChatComposerPresenceManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"presence\", _descriptor, this);\n    }\n    willDestroy() {\n      this.leave();\n    }\n    notifyState(channelName, replying) {\n      if (!replying) {\n        this.leave();\n        return;\n      }\n      if (this._channelName !== channelName) {\n        this._enter(channelName);\n        this._channelName = channelName;\n      }\n      if (!(0, _environment.isTesting)()) {\n        this._autoLeaveTimer = (0, _runloop.debounce)(this, this.leave, KEEP_ALIVE_DURATION_SECONDS * 1000);\n      }\n    }\n    leave() {\n      this._presentChannel?.leave();\n      this._presentChannel = null;\n      this._channelName = null;\n      if (this._autoLeaveTimer) {\n        (0, _runloop.cancel)(this._autoLeaveTimer);\n        this._autoLeaveTimer = null;\n      }\n    }\n    _enter(channelName) {\n      this.leave();\n      this._presentChannel = this.presence.getChannel(channelName);\n      this._presentChannel.enter();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"presence\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-composer-warnings-tracker\", [\"exports\", \"@glimmer/tracking\", \"@ember/runloop\", \"@ember/service\", \"discourse/lib/ajax\", \"discourse-common/lib/debounce\", \"discourse-common/utils/decorators\"], function (_exports, _tracking, _runloop, _service, _ajax, _debounce, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _resetMentionStats, _recordNewWarnings, _rebuildWarnings;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const MENTION_RESULT = {\n    invalid: -1,\n    unreachable: 0,\n    over_members_limit: 1\n  };\n  const MENTION_DEBOUNCE_MS = 1000;\n  let ChatComposerWarningsTracker = _exports.default = (_class = (_resetMentionStats = /*#__PURE__*/new WeakSet(), _recordNewWarnings = /*#__PURE__*/new WeakSet(), _rebuildWarnings = /*#__PURE__*/new WeakSet(), class ChatComposerWarningsTracker extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _rebuildWarnings);\n      _classPrivateMethodInitSpec(this, _recordNewWarnings);\n      _classPrivateMethodInitSpec(this, _resetMentionStats);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor, this);\n      // Track mention hints to display warnings\n      _initializerDefineProperty(this, \"unreachableGroupMentions\", _descriptor2, this);\n      _initializerDefineProperty(this, \"overMembersLimitGroupMentions\", _descriptor3, this);\n      _initializerDefineProperty(this, \"tooManyMentions\", _descriptor4, this);\n      _initializerDefineProperty(this, \"channelWideMentionDisallowed\", _descriptor5, this);\n      _initializerDefineProperty(this, \"mentionsCount\", _descriptor6, this);\n      _initializerDefineProperty(this, \"mentionsTimer\", _descriptor7, this);\n      // Complimentary structure to avoid repeating mention checks.\n      _defineProperty(this, \"_mentionWarningsSeen\", {});\n    }\n    willDestroy() {\n      (0, _runloop.cancel)(this.mentionsTimer);\n    }\n    reset() {\n      _classPrivateMethodGet(this, _resetMentionStats, _resetMentionStats2).call(this);\n      this.mentionsCount = 0;\n      (0, _runloop.cancel)(this.mentionsTimer);\n    }\n    trackMentions(currentMessage, skipDebounce) {\n      if (skipDebounce) {\n        return this._trackMentions(currentMessage);\n      }\n      this.mentionsTimer = (0, _debounce.default)(this, this._trackMentions, currentMessage, MENTION_DEBOUNCE_MS);\n    }\n    _trackMentions(currentMessage) {\n      if (!this.siteSettings.enable_mentions) {\n        return;\n      }\n      currentMessage.parseMentions().then(mentions => {\n        this.mentionsCount = mentions?.length;\n        if (this.mentionsCount > 0) {\n          this.tooManyMentions = this.mentionsCount > this.siteSettings.max_mentions_per_chat_message;\n          if (!this.tooManyMentions) {\n            const newMentions = mentions.filter(mention => !(mention in this._mentionWarningsSeen));\n            this.channelWideMentionDisallowed = !currentMessage.channel.allowChannelWideMentions && (mentions.includes(\"here\") || mentions.includes(\"all\"));\n            if (newMentions?.length > 0) {\n              _classPrivateMethodGet(this, _recordNewWarnings, _recordNewWarnings2).call(this, newMentions, mentions);\n            } else {\n              _classPrivateMethodGet(this, _rebuildWarnings, _rebuildWarnings2).call(this, mentions);\n            }\n          }\n        } else {\n          _classPrivateMethodGet(this, _resetMentionStats, _resetMentionStats2).call(this);\n        }\n      });\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"unreachableGroupMentions\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"overMembersLimitGroupMentions\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return [];\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"tooManyMentions\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"channelWideMentionDisallowed\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"mentionsCount\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return 0;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"mentionsTimer\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"reset\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"reset\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"trackMentions\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"trackMentions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_trackMentions\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_trackMentions\"), _class.prototype)), _class);\n  function _resetMentionStats2() {\n    this.tooManyMentions = false;\n    this.channelWideMentionDisallowed = false;\n    this.unreachableGroupMentions = [];\n    this.overMembersLimitGroupMentions = [];\n  }\n  function _recordNewWarnings2(newMentions, mentions) {\n    (0, _ajax.ajax)(\"/chat/api/mentions/groups.json\", {\n      data: {\n        mentions: newMentions\n      }\n    }).then(newWarnings => {\n      newWarnings.unreachable.forEach(warning => {\n        this._mentionWarningsSeen[warning] = MENTION_RESULT[\"unreachable\"];\n      });\n      newWarnings.over_members_limit.forEach(warning => {\n        this._mentionWarningsSeen[warning] = MENTION_RESULT[\"over_members_limit\"];\n      });\n      newWarnings.invalid.forEach(warning => {\n        this._mentionWarningsSeen[warning] = MENTION_RESULT[\"invalid\"];\n      });\n      _classPrivateMethodGet(this, _rebuildWarnings, _rebuildWarnings2).call(this, mentions);\n    }).catch(_classPrivateMethodGet(this, _rebuildWarnings, _rebuildWarnings2).call(this, mentions));\n  }\n  function _rebuildWarnings2(mentions) {\n    const newWarnings = mentions.reduce((memo, mention) => {\n      if (mention in this._mentionWarningsSeen && !(this._mentionWarningsSeen[mention] === MENTION_RESULT[\"invalid\"])) {\n        if (this._mentionWarningsSeen[mention] === MENTION_RESULT[\"unreachable\"]) {\n          memo[0].push(mention);\n        } else {\n          memo[1].push(mention);\n        }\n      }\n      return memo;\n    }, [[], []]);\n    this.unreachableGroupMentions = newWarnings[0];\n    this.overMembersLimitGroupMentions = newWarnings[1];\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-drafts-manager\", [\"exports\", \"@ember/runloop\", \"@ember/service\"], function (_exports, _runloop, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatDraftsManager = _exports.default = (_class = class ChatDraftsManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _defineProperty(this, \"drafts\", {});\n    }\n    async add(message, channelId, threadId) {\n      try {\n        this.drafts[this.key(channelId, threadId)] = message;\n        await this.persistDraft(message, channelId, threadId);\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.log(\"Couldn't save draft\", e);\n      }\n    }\n    get(channelId, threadId) {\n      return this.drafts[this.key(channelId, threadId)];\n    }\n    remove(channelId, threadId) {\n      delete this.drafts[this.key(channelId, threadId)];\n    }\n    reset() {\n      this.drafts = {};\n    }\n    key(channelId, threadId) {\n      let key = `c-${channelId}`;\n      if (threadId) {\n        key += `:t-${threadId}`;\n      }\n      return key.toString();\n    }\n    async persistDraft(message, channelId, threadId) {\n      try {\n        await this.chatApi.saveDraft(channelId, message.toJSONDraft(), {\n          threadId\n        });\n        message.draftSaved = true;\n      } catch (e) {\n        // We don't want to throw an error if the draft fails to save\n      }\n    }\n    willDestroy() {\n      (0, _runloop.cancel)(this?._persistHandler);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-drawer-router\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel\", \"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-thread\", \"discourse/plugins/chat/discourse/components/chat/drawer-routes/channel-threads\", \"discourse/plugins/chat/discourse/components/chat/drawer-routes/channels\", \"discourse/plugins/chat/discourse/components/chat/drawer-routes/threads\"], function (_exports, _tracking, _service, _channel, _channelThread, _channelThreads, _channels, _threads) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const ROUTES = {\n    \"chat.channel\": {\n      name: _channel.default\n    },\n    \"chat.channel.thread\": {\n      name: _channelThread.default,\n      extractParams: route => {\n        return {\n          channelId: route.parent.params.channelId,\n          threadId: route.params.threadId\n        };\n      }\n    },\n    \"chat.channel.thread.index\": {\n      name: _channelThread.default,\n      extractParams: route => {\n        return {\n          channelId: route.parent.params.channelId,\n          threadId: route.params.threadId\n        };\n      }\n    },\n    \"chat.channel.thread.near-message\": {\n      name: _channelThread.default,\n      extractParams: route => {\n        return {\n          channelId: route.parent.parent.params.channelId,\n          threadId: route.parent.params.threadId,\n          messageId: route.params.messageId\n        };\n      }\n    },\n    \"chat.channel.threads\": {\n      name: _channelThreads.default,\n      extractParams: route => {\n        return {\n          channelId: route.parent.params.channelId\n        };\n      }\n    },\n    \"chat.threads\": {\n      name: _threads.default\n    },\n    chat: {\n      name: _channels.default\n    },\n    \"chat.channel.near-message\": {\n      name: _channel.default,\n      extractParams: route => {\n        return {\n          channelId: route.parent.params.channelId,\n          messageId: route.params.messageId\n        };\n      }\n    },\n    \"chat.channel-legacy\": {\n      name: _channel.default,\n      extractParams: route => {\n        return {\n          channelId: route.params.channelId,\n          messageId: route.queryParams.messageId\n        };\n      }\n    }\n  };\n  let ChatDrawerRouter = _exports.default = (_class = class ChatDrawerRouter extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"router\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatHistory\", _descriptor2, this);\n      _initializerDefineProperty(this, \"component\", _descriptor3, this);\n      _initializerDefineProperty(this, \"drawerRoute\", _descriptor4, this);\n      _initializerDefineProperty(this, \"params\", _descriptor5, this);\n    }\n    stateFor(route) {\n      this.drawerRoute?.deactivate?.(this.chatHistory.currentRoute);\n      this.chatHistory.visit(route);\n      this.drawerRoute = ROUTES[route.name];\n      this.params = this.drawerRoute?.extractParams?.(route) || route.params;\n      this.component = this.drawerRoute?.name || _channels.default;\n      this.drawerRoute.activate?.(route);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatHistory\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"component\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"drawerRoute\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"params\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-drawer-size\", [\"exports\", \"@ember/service\", \"discourse/lib/key-value-store\"], function (_exports, _service, _keyValueStore) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _min = /*#__PURE__*/new WeakSet();\n  class ChatDrawerSize extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _min);\n      _defineProperty(this, \"STORE_NAMESPACE\", \"discourse_chat_drawer_size_\");\n      _defineProperty(this, \"MIN_HEIGHT\", 300);\n      _defineProperty(this, \"MIN_WIDTH\", 250);\n      _defineProperty(this, \"store\", new _keyValueStore.default(this.STORE_NAMESPACE));\n    }\n    get size() {\n      return {\n        width: this.store.getObject(\"width\") || 400,\n        height: this.store.getObject(\"height\") || 530\n      };\n    }\n    set size({\n      width,\n      height\n    }) {\n      this.store.setObject({\n        key: \"width\",\n        value: _classPrivateMethodGet(this, _min, _min2).call(this, width, this.MIN_WIDTH)\n      });\n      this.store.setObject({\n        key: \"height\",\n        value: _classPrivateMethodGet(this, _min, _min2).call(this, height, this.MIN_HEIGHT)\n      });\n    }\n  }\n  _exports.default = ChatDrawerSize;\n  function _min2(number, min) {\n    return Math.max(number, min);\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-emoji-picker-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/runloop\", \"@ember/service\", \"rsvp\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse-common/config/environment\", \"discourse-common/lib/helpers\", \"discourse-common/utils/decorators\"], function (_exports, _tracking, _object, _runloop, _service, _rsvp, _ajax, _ajaxError, _environment, _helpers, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const TRANSITION_TIME = (0, _environment.isTesting)() ? 0 : 125; // CSS transition time\n  const DEFAULT_VISIBLE_SECTIONS = [\"favorites\", \"smileys_&_emotion\"];\n  const DEFAULT_LAST_SECTION = \"favorites\";\n  let ChatEmojiPickerManager = _exports.default = (_class = class ChatEmojiPickerManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor, this);\n      _initializerDefineProperty(this, \"closing\", _descriptor2, this);\n      _initializerDefineProperty(this, \"loading\", _descriptor3, this);\n      _initializerDefineProperty(this, \"picker\", _descriptor4, this);\n      _initializerDefineProperty(this, \"emojis\", _descriptor5, this);\n      _initializerDefineProperty(this, \"visibleSections\", _descriptor6, this);\n      _initializerDefineProperty(this, \"lastVisibleSection\", _descriptor7, this);\n      _initializerDefineProperty(this, \"element\", _descriptor8, this);\n    }\n    get sections() {\n      return !this.loading && this.emojis ? Object.keys(this.emojis) : [];\n    }\n    closeExisting() {\n      this.visibleSections = DEFAULT_VISIBLE_SECTIONS;\n      this.lastVisibleSection = DEFAULT_LAST_SECTION;\n      this.picker = null;\n    }\n    close() {\n      this.closing = true;\n      (0, _runloop.later)(() => {\n        if (this.isDestroyed || this.isDestroying) {\n          return;\n        }\n        this.visibleSections = DEFAULT_VISIBLE_SECTIONS;\n        this.lastVisibleSection = DEFAULT_LAST_SECTION;\n        this.closing = false;\n        this.picker = null;\n      }, TRANSITION_TIME);\n    }\n    addVisibleSections(sections) {\n      this.visibleSections = (0, _helpers.makeArray)(this.visibleSections).concat((0, _helpers.makeArray)(sections)).uniq();\n    }\n    open(picker) {\n      this.loadEmojis();\n      if (this.picker) {\n        if (this.picker.trigger === picker.trigger) {\n          this.closeExisting();\n        } else {\n          this.closeExisting();\n          this.picker = picker;\n        }\n      } else {\n        this.picker = picker;\n      }\n    }\n    loadEmojis() {\n      if (this.emojis) {\n        return _rsvp.Promise.resolve();\n      }\n      this.loading = true;\n      return (0, _ajax.ajax)(\"/chat/emojis.json\").then(emojis => {\n        this.emojis = emojis;\n      }).catch(_ajaxError.popupAjaxError).finally(() => {\n        this.loading = false;\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"closing\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"picker\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"emojis\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"visibleSections\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return DEFAULT_VISIBLE_SECTIONS;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"lastVisibleSection\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return DEFAULT_LAST_SECTION;\n    }\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"element\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"closeExisting\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"closeExisting\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"close\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"close\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"loadEmojis\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"loadEmojis\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-emoji-reaction-store\", [\"exports\", \"@ember/service\", \"discourse/lib/key-value-store\"], function (_exports, _service, _keyValueStore) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // This class is adapted from emoji-store class in core. We want to maintain separate emoji store for reactions in chat plugin.\n  // https://github.com/discourse/discourse/blob/892f7e0506f3a4d40d9a59a4c926ff0a2aa0947e/app/assets/javascripts/discourse/app/services/emoji-store.js\n  class ChatEmojiReactionStore extends _service.default {\n    constructor() {\n      super(...arguments);\n      _defineProperty(this, \"STORE_NAMESPACE\", \"discourse_chat_emoji_reaction_\");\n      _defineProperty(this, \"MAX_DISPLAYED_EMOJIS\", 20);\n      _defineProperty(this, \"MAX_TRACKED_EMOJIS\", this.MAX_DISPLAYED_EMOJIS * 2);\n      _defineProperty(this, \"SKIN_TONE_STORE_KEY\", \"emojiSelectedDiversity\");\n      _defineProperty(this, \"USER_EMOJIS_STORE_KEY\", \"emojiUsage\");\n      _defineProperty(this, \"store\", new _keyValueStore.default(this.STORE_NAMESPACE));\n      if (!this.store.getObject(this.USER_EMOJIS_STORE_KEY)) {\n        this.storedFavorites = [];\n      }\n    }\n    get diversity() {\n      return this.store.getObject(this.SKIN_TONE_STORE_KEY) || 1;\n    }\n    set diversity(value = 1) {\n      this.store.setObject({\n        key: this.SKIN_TONE_STORE_KEY,\n        value\n      });\n      this.notifyPropertyChange(\"diversity\");\n    }\n    get storedFavorites() {\n      let value = this.store.getObject(this.USER_EMOJIS_STORE_KEY) || [];\n      if (value.length < 1) {\n        if (!this.siteSettings.default_emoji_reactions) {\n          value = [];\n        } else {\n          value = this.siteSettings.default_emoji_reactions.split(\"|\").filter(Boolean);\n        }\n        this.store.setObject({\n          key: this.USER_EMOJIS_STORE_KEY,\n          value\n        });\n      }\n      return value;\n    }\n    set storedFavorites(value) {\n      this.store.setObject({\n        key: this.USER_EMOJIS_STORE_KEY,\n        value\n      });\n      this.notifyPropertyChange(\"favorites\");\n    }\n    get favorites() {\n      const computedStored = [...new Set(this._frequencySort(this.storedFavorites))];\n      return computedStored.slice(0, this.MAX_DISPLAYED_EMOJIS);\n    }\n    set favorites(value = []) {\n      this.store.setObject({\n        key: this.USER_EMOJIS_STORE_KEY,\n        value\n      });\n    }\n    track(code) {\n      const normalizedCode = code.replace(/(^:)|(:$)/g, \"\");\n      let recent = this.storedFavorites;\n      recent.unshift(normalizedCode);\n      recent.length = Math.min(recent.length, this.MAX_TRACKED_EMOJIS);\n      this.storedFavorites = recent;\n    }\n    reset() {\n      this.store.setObject({\n        key: this.USER_EMOJIS_STORE_KEY,\n        value: []\n      });\n      this.store.setObject({\n        key: this.SKIN_TONE_STORE_KEY,\n        value: 1\n      });\n    }\n    _frequencySort(array = []) {\n      const counters = array.reduce((obj, val) => {\n        obj[val] = (obj[val] || 0) + 1;\n        return obj;\n      }, {});\n      return Object.keys(counters).sort((a, b) => counters[b] - counters[a]);\n    }\n  }\n  _exports.default = ChatEmojiReactionStore;\n});","define(\"discourse/plugins/chat/discourse/services/chat-guardian\", [\"exports\", \"@ember/service\"], function (_exports, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatGuardian = _exports.default = (_class = class ChatGuardian extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor, this);\n      _initializerDefineProperty(this, \"siteSettings\", _descriptor2, this);\n    }\n    canEditChatChannel() {\n      return this.canUseChat() && this.currentUser.staff;\n    }\n    canArchiveChannel(channel) {\n      return this.canEditChatChannel() && this.siteSettings.chat_allow_archiving_channels && !channel.isArchived && !channel.isReadOnly;\n    }\n    canUseChat() {\n      return this.currentUser?.has_chat_enabled && this.siteSettings?.chat_enabled;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"siteSettings\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-history\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\"], function (_exports, _tracking, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatHistory = _exports.default = (_class = class ChatHistory extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"history\", _descriptor, this);\n    }\n    get previousRoute() {\n      if (this.history?.length > 1) {\n        return this.history[this.history.length - 2];\n      }\n    }\n    get currentRoute() {\n      if (this.history?.length > 0) {\n        return this.history[this.history.length - 1];\n      }\n    }\n    visit(route) {\n      this.history = (this.history || []).slice(-9).concat([route]);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"history\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-notification-manager\", [\"exports\", \"@ember/service\", \"discourse/lib/desktop-notifications\", \"discourse/lib/plugin-api\", \"discourse-common/config/environment\", \"discourse-common/utils/decorators\"], function (_exports, _service, _desktopNotifications, _pluginApi, _environment, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatNotificationManager = _exports.default = (_class = class ChatNotificationManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"presence\", _descriptor, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor3, this);\n      _defineProperty(this, \"_subscribedToCore\", true);\n      _defineProperty(this, \"_subscribedToChat\", false);\n      _defineProperty(this, \"_countChatInDocTitle\", true);\n    }\n    start() {\n      if (!this._shouldRun()) {\n        return;\n      }\n      this.set(\"_chatPresenceChannel\", this.presence.getChannel(`/chat-user/chat/${this.currentUser.id}`));\n      this.set(\"_corePresenceChannel\", this.presence.getChannel(`/chat-user/core/${this.currentUser.id}`));\n      this._chatPresenceChannel.subscribe();\n      this._corePresenceChannel.subscribe();\n      (0, _pluginApi.withPluginApi)(\"0.12.1\", api => {\n        api.onPageChange(this._pageChanged);\n      });\n      this._pageChanged();\n      this._chatPresenceChannel.on(\"change\", this._subscribeToCorrectNotifications);\n      this._corePresenceChannel.on(\"change\", this._subscribeToCorrectNotifications);\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      if (!this._shouldRun()) {\n        return;\n      }\n      this._chatPresenceChannel.off(\"change\", this._subscribeToCorrectNotifications);\n      this._chatPresenceChannel.unsubscribe();\n      this._chatPresenceChannel.leave();\n      this._corePresenceChannel.off(\"change\", this._subscribeToCorrectNotifications);\n      this._corePresenceChannel.unsubscribe();\n      this._corePresenceChannel.leave();\n    }\n    shouldCountChatInDocTitle() {\n      return this._countChatInDocTitle;\n    }\n    _pageChanged() {\n      if (this.chatStateManager.isActive) {\n        this._chatPresenceChannel.enter({\n          onlyWhileActive: false\n        });\n        this._corePresenceChannel.leave();\n      } else {\n        this._chatPresenceChannel.leave();\n        this._corePresenceChannel.enter({\n          onlyWhileActive: false\n        });\n      }\n    }\n    _coreAlertChannel() {\n      return (0, _desktopNotifications.alertChannel)(this.currentUser);\n    }\n    _chatAlertChannel() {\n      return `/chat${(0, _desktopNotifications.alertChannel)(this.currentUser)}`;\n    }\n    _subscribeToCorrectNotifications() {\n      const oneTabForEachOpen = this._chatPresenceChannel.count > 0 && this._corePresenceChannel.count > 0;\n      if (oneTabForEachOpen) {\n        this.chatStateManager.isActive ? this._subscribeToChat({\n          only: true\n        }) : this._subscribeToCore({\n          only: true\n        });\n      } else {\n        this._subscribeToBoth();\n      }\n    }\n    _subscribeToBoth() {\n      this._subscribeToChat();\n      this._subscribeToCore();\n    }\n    _subscribeToChat(opts = {\n      only: false\n    }) {\n      this.set(\"_countChatInDocTitle\", true);\n      if (!this._subscribedToChat) {\n        this.messageBus.subscribe(this._chatAlertChannel(), this.onMessage);\n        this.set(\"_subscribedToChat\", true);\n      }\n      if (opts.only && this._subscribedToCore) {\n        this.messageBus.unsubscribe(this._coreAlertChannel(), this.onMessage);\n        this.set(\"_subscribedToCore\", false);\n      }\n    }\n    _subscribeToCore(opts = {\n      only: false\n    }) {\n      if (opts.only) {\n        this.set(\"_countChatInDocTitle\", false);\n      }\n      if (!this._subscribedToCore) {\n        this.messageBus.subscribe(this._coreAlertChannel(), this.onMessage);\n        this.set(\"_subscribedToCore\", true);\n      }\n      if (opts.only && this._subscribedToChat) {\n        this.messageBus.unsubscribe(this._chatAlertChannel(), this.onMessage);\n        this.set(\"_subscribedToChat\", false);\n      }\n    }\n    onMessage(data) {\n      return (0, _desktopNotifications.onNotification)(data, this.siteSettings, this.currentUser);\n    }\n    _shouldRun() {\n      return this.chat.userCanChat && !(0, _environment.isTesting)();\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"presence\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"_pageChanged\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_pageChanged\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_subscribeToCorrectNotifications\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_subscribeToCorrectNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onMessage\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onMessage\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-side-panel-size\", [\"exports\", \"@ember/service\", \"discourse/lib/key-value-store\"], function (_exports, _service, _keyValueStore) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  var _min = /*#__PURE__*/new WeakSet();\n  class ChatSidePanelSize extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _min);\n      _defineProperty(this, \"STORE_NAMESPACE\", \"discourse_chat_side_panel_size_\");\n      _defineProperty(this, \"MIN_WIDTH\", 250);\n      _defineProperty(this, \"store\", new _keyValueStore.default(this.STORE_NAMESPACE));\n    }\n    get width() {\n      return this.store.getObject(\"width\") || this.MIN_WIDTH;\n    }\n    set width(width) {\n      this.store.setObject({\n        key: \"width\",\n        value: _classPrivateMethodGet(this, _min, _min2).call(this, width, this.MIN_WIDTH)\n      });\n    }\n  }\n  _exports.default = ChatSidePanelSize;\n  function _min2(number, min) {\n    return Math.max(number, min);\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-state-manager\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"discourse/lib/key-value-store\", \"discourse/lib/plugin-api\", \"discourse/lib/utilities\", \"discourse/models/site\", \"discourse/services/sidebar-state\", \"discourse-common/lib/get-url\", \"discourse/plugins/chat/discourse/lib/get-user-chat-separate-sidebar-mode\"], function (_exports, _tracking, _service, _keyValueStore, _pluginApi, _utilities, _site, _sidebarState, _getUrl, _getUserChatSeparateSidebarMode) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.addChatDrawerStateCallback = addChatDrawerStateCallback;\n  _exports.default = void 0;\n  _exports.resetChatDrawerStateCallbacks = resetChatDrawerStateCallbacks;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _publishStateChange;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const PREFERRED_MODE_KEY = \"preferred_mode\";\n  const PREFERRED_MODE_STORE_NAMESPACE = \"discourse_chat_\";\n  const FULL_PAGE_CHAT = \"FULL_PAGE_CHAT\";\n  const DRAWER_CHAT = \"DRAWER_CHAT\";\n  let chatDrawerStateCallbacks = [];\n  function addChatDrawerStateCallback(callback) {\n    chatDrawerStateCallbacks.push(callback);\n  }\n  function resetChatDrawerStateCallbacks() {\n    chatDrawerStateCallbacks = [];\n  }\n  let ChatStateManager = _exports.default = (_class = (_publishStateChange = /*#__PURE__*/new WeakSet(), class ChatStateManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateMethodInitSpec(this, _publishStateChange);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatHistory\", _descriptor2, this);\n      _initializerDefineProperty(this, \"router\", _descriptor3, this);\n      _initializerDefineProperty(this, \"isSidePanelExpanded\", _descriptor4, this);\n      _initializerDefineProperty(this, \"isDrawerExpanded\", _descriptor5, this);\n      _initializerDefineProperty(this, \"isDrawerActive\", _descriptor6, this);\n      _initializerDefineProperty(this, \"_chatURL\", _descriptor7, this);\n      _initializerDefineProperty(this, \"_appURL\", _descriptor8, this);\n      _defineProperty(this, \"_store\", new _keyValueStore.default(PREFERRED_MODE_STORE_NAMESPACE));\n    }\n    reset() {\n      this._store.remove(PREFERRED_MODE_KEY);\n      this._chatURL = null;\n      this._appURL = null;\n    }\n    prefersFullPage() {\n      this._store.setObject({\n        key: PREFERRED_MODE_KEY,\n        value: FULL_PAGE_CHAT\n      });\n    }\n    prefersDrawer() {\n      this._store.setObject({\n        key: PREFERRED_MODE_KEY,\n        value: DRAWER_CHAT\n      });\n    }\n    openSidePanel() {\n      this.isSidePanelExpanded = true;\n    }\n    closeSidePanel() {\n      this.isSidePanelExpanded = false;\n    }\n    didOpenDrawer(url = null) {\n      (0, _pluginApi.withPluginApi)(\"1.8.0\", api => {\n        if ((0, _getUserChatSeparateSidebarMode.getUserChatSeparateSidebarMode)(this.currentUser).always) {\n          api.setSidebarPanel(_sidebarState.MAIN_PANEL);\n          api.setSeparatedSidebarMode();\n          api.hideSidebarSwitchPanelButtons();\n        } else {\n          api.setCombinedSidebarMode();\n        }\n      });\n      this.isDrawerActive = true;\n      this.isDrawerExpanded = true;\n      if (url) {\n        this.storeChatURL(url);\n      }\n      this.chat.updatePresence();\n      _classPrivateMethodGet(this, _publishStateChange, _publishStateChange2).call(this);\n    }\n    didCloseDrawer() {\n      (0, _pluginApi.withPluginApi)(\"1.8.0\", api => {\n        api.setSidebarPanel(_sidebarState.MAIN_PANEL);\n        const chatSeparateSidebarMode = (0, _getUserChatSeparateSidebarMode.getUserChatSeparateSidebarMode)(this.currentUser);\n        if (chatSeparateSidebarMode.fullscreen) {\n          api.setCombinedSidebarMode();\n          api.showSidebarSwitchPanelButtons();\n        } else if (chatSeparateSidebarMode.always) {\n          api.setSeparatedSidebarMode();\n          api.showSidebarSwitchPanelButtons();\n        } else {\n          api.setCombinedSidebarMode();\n          api.hideSidebarSwitchPanelButtons();\n        }\n      });\n      this.isDrawerActive = false;\n      this.isDrawerExpanded = false;\n      this.chat.updatePresence();\n      _classPrivateMethodGet(this, _publishStateChange, _publishStateChange2).call(this);\n    }\n    didExpandDrawer() {\n      this.isDrawerActive = true;\n      this.isDrawerExpanded = true;\n      this.chat.updatePresence();\n    }\n    didCollapseDrawer() {\n      this.isDrawerActive = true;\n      this.isDrawerExpanded = false;\n      _classPrivateMethodGet(this, _publishStateChange, _publishStateChange2).call(this);\n    }\n    didToggleDrawer() {\n      this.isDrawerExpanded = !this.isDrawerExpanded;\n      this.isDrawerActive = true;\n      _classPrivateMethodGet(this, _publishStateChange, _publishStateChange2).call(this);\n    }\n    get isFullPagePreferred() {\n      return !!(_site.default.currentProp(\"mobileView\") || this._store.getObject(PREFERRED_MODE_KEY) === FULL_PAGE_CHAT);\n    }\n    get isDrawerPreferred() {\n      return !!(!this.isFullPagePreferred || !_site.default.currentProp(\"mobileView\") && (!this._store.getObject(PREFERRED_MODE_KEY) || this._store.getObject(PREFERRED_MODE_KEY) === DRAWER_CHAT));\n    }\n    get isFullPageActive() {\n      return this.router.currentRouteName?.startsWith(\"chat\");\n    }\n    get isActive() {\n      return this.isFullPageActive || this.isDrawerActive;\n    }\n    storeAppURL(url = null) {\n      if (url) {\n        this._appURL = url;\n      } else if (this.router.currentURL?.startsWith(\"/chat\")) {\n        this._appURL = \"/\";\n      } else {\n        this._appURL = this.router.currentURL;\n      }\n    }\n    storeChatURL(url) {\n      this._chatURL = url;\n    }\n    get lastKnownAppURL() {\n      let url = this._appURL;\n      if (!url || url === \"/\") {\n        url = this.router.urlFor(`discovery.${(0, _utilities.defaultHomepage)()}`);\n      }\n      return (0, _getUrl.default)(url);\n    }\n    get lastKnownChatURL() {\n      return (0, _getUrl.default)(this._chatURL || \"/chat\");\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatHistory\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"isSidePanelExpanded\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"isDrawerExpanded\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"isDrawerActive\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return false;\n    }\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"_chatURL\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"_appURL\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  })), _class);\n  function _publishStateChange2() {\n    const state = {\n      isDrawerActive: this.isDrawerActive,\n      isDrawerExpanded: this.isDrawerExpanded\n    };\n    chatDrawerStateCallbacks.forEach(callback => callback(state));\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat-subscriptions-manager\", [\"exports\", \"@ember/service\", \"discourse-common/utils/decorators\", \"discourse-i18n\", \"discourse/plugins/chat/discourse/models/chat-channel\", \"discourse/plugins/chat/discourse/models/chat-channel-archive\"], function (_exports, _service, _decorators, _discourseI18n, _chatChannel, _chatChannelArchive) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatSubscriptionsManager = _exports.default = (_class = class ChatSubscriptionsManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"store\", _descriptor, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor2, this);\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor3, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor4, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chat\", _descriptor6, this);\n      _initializerDefineProperty(this, \"dialog\", _descriptor7, this);\n      _initializerDefineProperty(this, \"router\", _descriptor8, this);\n      _defineProperty(this, \"_channelSubscriptions\", new Set());\n    }\n    startChannelSubscription(channel) {\n      if (channel.currentUserMembership.muted || this._channelSubscriptions.has(channel.id)) {\n        return;\n      }\n      this._channelSubscriptions.add(channel.id);\n      this._startChannelMentionsSubscription(channel);\n      if (!channel.isDirectMessageChannel) {\n        this._startKickFromChannelSubscription(channel);\n      }\n      this._startChannelNewMessagesSubscription(channel);\n    }\n    stopChannelSubscription(channel) {\n      this.messageBus.unsubscribe(`/chat/${channel.id}/new-messages`, this._onNewMessages);\n      if (!channel.isDirectMessageChannel) {\n        this.messageBus.unsubscribe(`/chat/${channel.id}/new-mentions`, this._onNewMentions);\n        this.messageBus.unsubscribe(`/chat/${channel.id}/kick`, this._onKickFromChannel);\n      }\n      this._channelSubscriptions.delete(channel.id);\n    }\n    startChannelsSubscriptions(messageBusIds) {\n      this._startNewChannelSubscription(messageBusIds.new_channel);\n      this._startChannelArchiveStatusSubscription(messageBusIds.archive_status);\n      this._startUserTrackingStateSubscription(messageBusIds.user_tracking_state);\n      this._startChannelsEditsSubscription(messageBusIds.channel_edits);\n      this._startChannelsStatusChangesSubscription(messageBusIds.channel_status);\n      this._startChannelsMetadataChangesSubscription(messageBusIds.channel_metadata);\n    }\n    stopChannelsSubscriptions() {\n      this._stopNewChannelSubscription();\n      this._stopChannelArchiveStatusSubscription();\n      this._stopUserTrackingStateSubscription();\n      this._stopChannelsEditsSubscription();\n      this._stopChannelsStatusChangesSubscription();\n      this._stopChannelsMetadataChangesSubscription();\n      (this.chatChannelsManager.channels || []).forEach(channel => {\n        this.stopChannelSubscription(channel);\n      });\n    }\n    _startChannelArchiveStatusSubscription(lastId) {\n      if (this.currentUser.admin) {\n        this.messageBus.subscribe(\"/chat/channel-archive-status\", this._onChannelArchiveStatusUpdate, lastId);\n      }\n    }\n    _stopChannelArchiveStatusSubscription() {\n      if (this.currentUser.admin) {\n        this.messageBus.unsubscribe(\"/chat/channel-archive-status\", this._onChannelArchiveStatusUpdate);\n      }\n    }\n    _startChannelMentionsSubscription(channel) {\n      this.messageBus.subscribe(`/chat/${channel.id}/new-mentions`, this._onNewMentions, channel.meta.message_bus_last_ids.new_mentions);\n    }\n    _startKickFromChannelSubscription(channel) {\n      this.messageBus.subscribe(`/chat/${channel.id}/kick`, this._onKickFromChannel, channel.meta.message_bus_last_ids.kick);\n    }\n    _onChannelArchiveStatusUpdate(busData) {\n      // we don't want to fetch a channel we don't have locally because archive status changed\n      this.chatChannelsManager.find(busData.chat_channel_id, {\n        fetchIfNotFound: false\n      }).then(channel => {\n        if (!channel) {\n          return;\n        }\n        channel.archive = _chatChannelArchive.default.create(busData);\n      });\n    }\n    _onNewMentions(busData) {\n      this.chatChannelsManager.find(busData.channel_id).then(channel => {\n        const membership = channel.currentUserMembership;\n        if (busData.message_id > membership?.lastReadMessageId) {\n          channel.tracking.mentionCount++;\n        }\n      });\n    }\n    _onKickFromChannel(busData) {\n      this.chatChannelsManager.find(busData.channel_id).then(channel => {\n        if (this.chat.activeChannel.id === channel.id) {\n          this.dialog.alert({\n            message: _discourseI18n.default.t(\"chat.kicked_from_channel\"),\n            didConfirm: () => {\n              this.chatChannelsManager.remove(channel);\n              const firstChannel = this.chatChannelsManager.publicMessageChannels[0];\n              if (firstChannel) {\n                this.router.transitionTo(\"chat.channel\", ...firstChannel.routeModels);\n              } else {\n                this.router.transitionTo(\"chat.browse\");\n              }\n            }\n          });\n        } else {\n          this.chatChannelsManager.remove(channel);\n        }\n      });\n    }\n    _startChannelNewMessagesSubscription(channel) {\n      this.messageBus.subscribe(`/chat/${channel.id}/new-messages`, this._onNewMessages, channel.meta.message_bus_last_ids.new_messages);\n    }\n    _onNewMessages(busData) {\n      switch (busData.type) {\n        case \"channel\":\n          this._onNewChannelMessage(busData);\n          break;\n        case \"thread\":\n          this._onNewThreadMessage(busData);\n          break;\n      }\n    }\n    _onNewChannelMessage(busData) {\n      this.chatChannelsManager.find(busData.channel_id).then(channel => {\n        channel.lastMessage = busData.message;\n        const user = busData.message.user;\n        if (user.id === this.currentUser.id) {\n          // User sent message, update tracking state to no unread\n          channel.currentUserMembership.lastReadMessageId = channel.lastMessage.id;\n        } else {\n          // Ignored user sent message, update tracking state to no unread\n          if (this.currentUser.ignored_users.includes(user.username)) {\n            channel.currentUserMembership.lastReadMessageId = channel.lastMessage.id;\n          } else {\n            if (channel.lastMessage.id > (channel.currentUserMembership.lastReadMessageId || 0)) {\n              channel.tracking.unreadCount++;\n            }\n\n            // Thread should be considered unread if not already.\n            if (busData.thread_id && channel.threadingEnabled) {\n              channel.threadsManager.find(channel.id, busData.thread_id).then(thread => {\n                if (thread.currentUserMembership) {\n                  channel.threadsManager.markThreadUnread(busData.thread_id, busData.message.created_at);\n                  this._updateActiveLastViewedAt(channel);\n                }\n              });\n            }\n          }\n        }\n      });\n    }\n    _onNewThreadMessage(busData) {\n      this.chatChannelsManager.find(busData.channel_id).then(channel => {\n        if (!channel.threadingEnabled) {\n          return;\n        }\n        channel.threadsManager.find(busData.channel_id, busData.thread_id).then(thread => {\n          if (busData.message.user.id === this.currentUser.id) {\n            // Thread should no longer be considered unread.\n            if (thread.currentUserMembership) {\n              channel.threadsManager.unreadThreadOverview.delete(parseInt(busData.thread_id, 10));\n              thread.currentUserMembership.lastReadMessageId = busData.message.id;\n            }\n          } else {\n            // Ignored user sent message, update tracking state to no unread\n            if (this.currentUser.ignored_users.includes(busData.message.user.username)) {\n              if (thread.currentUserMembership) {\n                thread.currentUserMembership.lastReadMessageId = busData.message.id;\n              }\n            } else {\n              // Message from other user. Increment unread for thread tracking state.\n              if (thread.currentUserMembership && busData.message.id > (thread.currentUserMembership.lastReadMessageId || 0) && !thread.currentUserMembership.isQuiet) {\n                channel.threadsManager.markThreadUnread(busData.thread_id, busData.message.created_at);\n                thread.tracking.unreadCount++;\n                this._updateActiveLastViewedAt(channel);\n              }\n            }\n          }\n        });\n      });\n    }\n\n    // If the user is currently looking at this channel via activeChannel, we don't want the unread\n    // indicator to show in the sidebar for unread threads (since that is based on the lastViewedAt).\n    _updateActiveLastViewedAt(channel) {\n      if (this.chat.activeChannel?.id === channel.id) {\n        channel.updateLastViewedAt();\n      }\n    }\n    _startUserTrackingStateSubscription(lastId) {\n      if (!this.currentUser) {\n        return;\n      }\n      this.messageBus.subscribe(`/chat/user-tracking-state/${this.currentUser.id}`, this._onUserTrackingStateUpdate, lastId);\n      this.messageBus.subscribe(`/chat/bulk-user-tracking-state/${this.currentUser.id}`, this._onBulkUserTrackingStateUpdate, lastId);\n    }\n    _stopUserTrackingStateSubscription() {\n      if (!this.currentUser) {\n        return;\n      }\n      this.messageBus.unsubscribe(`/chat/user-tracking-state/${this.currentUser.id}`, this._onUserTrackingStateUpdate);\n      this.messageBus.unsubscribe(`/chat/bulk-user-tracking-state/${this.currentUser.id}`, this._onBulkUserTrackingStateUpdate);\n    }\n    _onBulkUserTrackingStateUpdate(busData) {\n      Object.keys(busData).forEach(channelId => {\n        this._updateChannelTrackingData(channelId, busData[channelId]);\n      });\n    }\n    _onUserTrackingStateUpdate(busData) {\n      this._updateChannelTrackingData(busData.channel_id, busData);\n    }\n    _updateChannelTrackingData(channelId, busData) {\n      this.chatChannelsManager.find(channelId).then(channel => {\n        if (!busData.thread_id) {\n          channel.currentUserMembership.lastReadMessageId = busData.last_read_message_id;\n        }\n        channel.tracking.unreadCount = busData.unread_count;\n        channel.tracking.mentionCount = busData.mention_count;\n        if (busData.hasOwnProperty(\"unread_thread_overview\") && channel.threadingEnabled) {\n          channel.threadsManager.unreadThreadOverview = busData.unread_thread_overview;\n        }\n        if (busData.thread_id && busData.hasOwnProperty(\"thread_tracking\") && channel.threadingEnabled) {\n          channel.threadsManager.find(channelId, busData.thread_id).then(thread => {\n            if (thread.currentUserMembership && !thread.currentUserMembership.isQuiet) {\n              thread.currentUserMembership.lastReadMessageId = busData.last_read_message_id;\n              thread.tracking.unreadCount = busData.thread_tracking.unread_count;\n              thread.tracking.mentionCount = busData.thread_tracking.mention_count;\n            }\n          });\n        }\n      });\n    }\n    _startNewChannelSubscription(lastId) {\n      this.messageBus.subscribe(\"/chat/new-channel\", this._onNewChannelSubscription, lastId);\n    }\n    _stopNewChannelSubscription() {\n      this.messageBus.unsubscribe(\"/chat/new-channel\", this._onNewChannelSubscription);\n    }\n    _onNewChannelSubscription(data) {\n      this.chatChannelsManager.find(data.channel.id).then(channel => {\n        // we need to refresh here to have correct last message ids\n        channel.meta = data.channel.meta;\n        channel.currentUserMembership = data.channel.current_user_membership;\n        if (channel.isDirectMessageChannel && !channel.currentUserMembership.following) {\n          channel.tracking.unreadCount = 1;\n        }\n        this.chatChannelsManager.follow(channel);\n      });\n    }\n    _startChannelsMetadataChangesSubscription(lastId) {\n      this.messageBus.subscribe(\"/chat/channel-metadata\", this._onChannelMetadata, lastId);\n    }\n    _startChannelsEditsSubscription(lastId) {\n      this.messageBus.subscribe(\"/chat/channel-edits\", this._onChannelEdits, lastId);\n    }\n    _startChannelsStatusChangesSubscription(lastId) {\n      this.messageBus.subscribe(\"/chat/channel-status\", this._onChannelStatus, lastId);\n    }\n    _stopChannelsStatusChangesSubscription() {\n      this.messageBus.unsubscribe(\"/chat/channel-status\", this._onChannelStatus);\n    }\n    _stopChannelsEditsSubscription() {\n      this.messageBus.unsubscribe(\"/chat/channel-edits\", this._onChannelEdits);\n    }\n    _stopChannelsMetadataChangesSubscription() {\n      this.messageBus.unsubscribe(\"/chat/channel-metadata\", this._onChannelMetadata);\n    }\n    _onChannelMetadata(busData) {\n      this.chatChannelsManager.find(busData.chat_channel_id, {\n        fetchIfNotFound: false\n      }).then(channel => {\n        if (channel) {\n          channel.membershipsCount = busData.memberships_count;\n          this.appEvents.trigger(\"chat:refresh-channel-members\");\n        }\n      });\n    }\n    _onChannelEdits(busData) {\n      this.chatChannelsManager.find(busData.chat_channel_id).then(channel => {\n        if (channel) {\n          channel.title = busData.name;\n          channel.description = busData.description;\n          channel.slug = busData.slug;\n        }\n      });\n    }\n    _onChannelStatus(busData) {\n      this.chatChannelsManager.find(busData.chat_channel_id).then(channel => {\n        channel.status = busData.status;\n\n        // it is not possible for the user to set their last read message id\n        // if the channel has been archived, because all the messages have\n        // been deleted. we don't want them seeing the blue dot anymore so\n        // just completely reset the unreads\n        if (busData.status === _chatChannel.CHANNEL_STATUSES.archived) {\n          channel.tracking.reset();\n        }\n      });\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"store\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"dialog\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"_onChannelArchiveStatusUpdate\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onChannelArchiveStatusUpdate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onNewMentions\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onNewMentions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onKickFromChannel\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onKickFromChannel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onNewMessages\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onNewMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onBulkUserTrackingStateUpdate\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onBulkUserTrackingStateUpdate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onUserTrackingStateUpdate\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onUserTrackingStateUpdate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_updateChannelTrackingData\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_updateChannelTrackingData\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onNewChannelSubscription\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onNewChannelSubscription\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onChannelMetadata\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onChannelMetadata\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onChannelEdits\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onChannelEdits\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"_onChannelStatus\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_onChannelStatus\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-thread-composer\", [\"exports\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/service\"], function (_exports, _tracking, _object, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadComposer = _exports.default = (_class = class ChatThreadComposer extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"textarea\", _descriptor2, this);\n    }\n    focus(options = {}) {\n      this.textarea?.focus(options);\n    }\n    blur() {\n      this.textarea?.blur();\n    }\n    edit(message) {\n      this.chat.activeMessage = null;\n      message.editing = true;\n      message.thread.draft = message;\n      this.focus({\n        refreshHeight: true,\n        ensureAtEnd: true\n      });\n    }\n    replyTo() {\n      this.chat.activeMessage = null;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"textarea\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _applyDecoratedDescriptor(_class.prototype, \"focus\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"focus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"blur\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"blur\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"edit\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"edit\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"replyTo\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"replyTo\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-thread-list-pane\", [\"exports\", \"@ember/service\"], function (_exports, _service) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadListPane = _exports.default = (_class = class ChatThreadListPane extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n    }\n    get isOpened() {\n      return this.router.currentRoute.name === \"chat.channel.threads\";\n    }\n    async close() {\n      await this.router.transitionTo(\"chat.channel\", ...this.chat.activeChannel.routeModels);\n    }\n    async open() {\n      await this.router.transitionTo(\"chat.channel.threads\", ...this.chat.activeChannel.routeModels);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-thread-pane\", [\"exports\", \"@ember/service\", \"discourse/plugins/chat/discourse/services/chat-channel-pane\"], function (_exports, _service, _chatChannelPane) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let ChatThreadPane = _exports.default = (_class = class ChatThreadPane extends _chatChannelPane.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chat\", _descriptor, this);\n      _initializerDefineProperty(this, \"router\", _descriptor2, this);\n    }\n    get thread() {\n      return this.channel?.activeThread;\n    }\n    get isOpened() {\n      return this.router.currentRoute.name === \"chat.channel.thread\";\n    }\n    get selectedMessageIds() {\n      return this.thread.messagesManager.selectedMessages.mapBy(\"id\");\n    }\n    async close() {\n      await this.router.transitionTo(\"chat.channel\", ...this.channel.routeModels);\n    }\n    async open(thread) {\n      await this.router.transitionTo(\"chat.channel.thread\", ...thread.routeModels);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chat\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n});","define(\"discourse/plugins/chat/discourse/services/chat-tracking-state-manager\", [\"exports\", \"@ember/application\", \"@ember/runloop\", \"@ember/service\", \"discourse-common/lib/debounce\", \"discourse/plugins/chat/discourse/models/chat-tracking-state\"], function (_exports, _application, _runloop, _service, _debounce, _chatTrackingState) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2, _triggerNotificationsChanged, _setState, _publicChannels, _directMessageChannels;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n  function _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\n  function _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n  function _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n  function _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n  function _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  /**\n   * This service is used to provide a global interface to tracking individual\n   * channels and threads. In many places in the app, we need to know the global\n   * unread count for channels, threads, etc.\n   *\n   * The individual tracking state of each channel and thread is stored in\n   * a ChatTrackingState class instance and changed via the getters/setters\n   * provided there.\n   *\n   * This service is also used to preload bulk tracking state for channels\n   * and threads, which is used when the user first loads the app, and in\n   * certain cases where we need to set the state for many items at once.\n   */\n  let ChatTrackingStateManager = _exports.default = (_class = (_triggerNotificationsChanged = /*#__PURE__*/new WeakSet(), _setState = /*#__PURE__*/new WeakSet(), _publicChannels = /*#__PURE__*/new WeakMap(), _directMessageChannels = /*#__PURE__*/new WeakMap(), class ChatTrackingStateManager extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _classPrivateFieldInitSpec(this, _directMessageChannels, {\n        get: _get_directMessageChannels,\n        set: void 0\n      });\n      _classPrivateFieldInitSpec(this, _publicChannels, {\n        get: _get_publicChannels,\n        set: void 0\n      });\n      _classPrivateMethodInitSpec(this, _setState);\n      _classPrivateMethodInitSpec(this, _triggerNotificationsChanged);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor2, this);\n    }\n    // NOTE: In future, we may want to preload some thread tracking state\n    // as well, but for now we do that on demand when the user opens a channel,\n    // to avoid having to load all the threads across all channels into memory at once.\n    setupWithPreloadedState({\n      channel_tracking = {}\n    }) {\n      this.chatChannelsManager.channels.forEach(channel => {\n        if (channel_tracking[channel.id.toString()]) {\n          _classPrivateMethodGet(this, _setState, _setState2).call(this, channel, channel_tracking[channel.id.toString()]);\n        }\n      });\n    }\n    setupChannelThreadState(channel, threadTracking) {\n      channel.threadsManager.threads.forEach(thread => {\n        const tracking = threadTracking[thread.id.toString()];\n        if (tracking) {\n          _classPrivateMethodGet(this, _setState, _setState2).call(this, thread, tracking);\n        }\n      });\n    }\n    get publicChannelUnreadCount() {\n      return _classPrivateFieldGet(this, _publicChannels).reduce((unreadCount, channel) => {\n        return unreadCount + channel.tracking.unreadCount;\n      }, 0);\n    }\n    get allChannelMentionCount() {\n      let totalPublicMentions = _classPrivateFieldGet(this, _publicChannels).reduce((channelMentionCount, channel) => {\n        return channelMentionCount + channel.tracking.mentionCount;\n      }, 0);\n      let totalPrivateMentions = _classPrivateFieldGet(this, _directMessageChannels).reduce((dmMentionCount, channel) => {\n        return dmMentionCount + channel.tracking.mentionCount;\n      }, 0);\n      return totalPublicMentions + totalPrivateMentions;\n    }\n    get allChannelUrgentCount() {\n      let publicChannelMentionCount = _classPrivateFieldGet(this, _publicChannels).reduce((mentionCount, channel) => {\n        return mentionCount + channel.tracking.mentionCount;\n      }, 0);\n      let dmChannelUnreadCount = _classPrivateFieldGet(this, _directMessageChannels).reduce((unreadCount, channel) => {\n        return unreadCount + channel.tracking.unreadCount;\n      }, 0);\n      return publicChannelMentionCount + dmChannelUnreadCount;\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      (0, _runloop.cancel)(this._onTriggerNotificationDebounceHandler);\n    }\n\n    /**\n     * Some reactivity in the app such as the document title\n     * updates are only done via appEvents -- rather than\n     * sprinkle this appEvent call everywhere we just define\n     * it here so it can be changed as required.\n     */\n    triggerNotificationsChanged() {\n      this._onTriggerNotificationDebounceHandler = (0, _debounce.default)(this, _classPrivateMethodGet(this, _triggerNotificationsChanged, _triggerNotificationsChanged2), 100);\n    }\n  }), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  })), _class);\n  function _triggerNotificationsChanged2() {\n    this.appEvents.trigger(\"notifications:changed\");\n  }\n  function _setState2(model, state) {\n    if (!model.tracking) {\n      model.tracking = new _chatTrackingState.default((0, _application.getOwner)(this));\n    }\n    model.tracking.unreadCount = state.unread_count;\n    model.tracking.mentionCount = state.mention_count;\n  }\n  function _get_publicChannels() {\n    return this.chatChannelsManager.publicMessageChannels;\n  }\n  function _get_directMessageChannels() {\n    return this.chatChannelsManager.directMessageChannels;\n  }\n});","define(\"discourse/plugins/chat/discourse/services/chat\", [\"exports\", \"@glimmer/tracking\", \"@ember/object\", \"@ember/object/computed\", \"@ember/runloop\", \"@ember/service\", \"discourse/lib/ajax\", \"discourse/lib/ajax-error\", \"discourse/lib/user-presence\", \"discourse-common/lib/deprecated\", \"discourse-common/lib/later\", \"discourse-common/utils/decorators\", \"discourse/plugins/chat/discourse/models/chat-message\"], function (_exports, _tracking, _object, _computed, _runloop, _service, _ajax, _ajaxError, _userPresence, _deprecated, _later, _decorators, _chatMessage) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _dec, _dec2, _dec3, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  const CHAT_ONLINE_OPTIONS = {\n    userUnseenTime: 300000,\n    // 5 minutes seconds with no interaction\n    browserHiddenTime: 300000 // Or the browser has been in the background for 5 minutes\n  };\n  let Chat = _exports.default = (_dec = (0, _computed.and)(\"currentUser.has_chat_enabled\", \"siteSettings.chat_enabled\"), _dec2 = (0, _object.computed)(\"currentUser.staff\", \"currentUser.groups.[]\"), _dec3 = (0, _object.computed)(\"activeChannel.userSilenced\"), (_class = class Chat extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatApi\", _descriptor, this);\n      _initializerDefineProperty(this, \"appEvents\", _descriptor2, this);\n      _initializerDefineProperty(this, \"currentUser\", _descriptor3, this);\n      _initializerDefineProperty(this, \"chatNotificationManager\", _descriptor4, this);\n      _initializerDefineProperty(this, \"chatSubscriptionsManager\", _descriptor5, this);\n      _initializerDefineProperty(this, \"chatStateManager\", _descriptor6, this);\n      _initializerDefineProperty(this, \"chatDraftsManager\", _descriptor7, this);\n      _initializerDefineProperty(this, \"presence\", _descriptor8, this);\n      _initializerDefineProperty(this, \"router\", _descriptor9, this);\n      _initializerDefineProperty(this, \"site\", _descriptor10, this);\n      _initializerDefineProperty(this, \"chatChannelsManager\", _descriptor11, this);\n      _initializerDefineProperty(this, \"chatTrackingStateManager\", _descriptor12, this);\n      _defineProperty(this, \"cook\", null);\n      _defineProperty(this, \"presenceChannel\", null);\n      _defineProperty(this, \"sidebarActive\", false);\n      _defineProperty(this, \"isNetworkUnreliable\", false);\n      _initializerDefineProperty(this, \"userCanChat\", _descriptor13, this);\n      _initializerDefineProperty(this, \"_activeMessage\", _descriptor14, this);\n      _initializerDefineProperty(this, \"_activeChannel\", _descriptor15, this);\n    }\n    get activeChannel() {\n      return this._activeChannel;\n    }\n    set activeChannel(channel) {\n      if (!channel) {\n        this._activeMessage = null;\n      }\n      if (this._activeChannel) {\n        this._activeChannel.activeThread = null;\n      }\n      this._activeChannel = channel;\n    }\n    get userCanDirectMessage() {\n      if (!this.currentUser) {\n        return false;\n      }\n      return this.currentUser.staff || this.siteSettings.userInAnyGroups(\"direct_message_enabled_groups\", this.currentUser);\n    }\n    get userCanInteractWithChat() {\n      return !this.activeChannel?.userSilenced;\n    }\n    get activeMessage() {\n      return this._activeMessage;\n    }\n    set activeMessage(hash) {\n      if (hash) {\n        this._activeMessage = hash;\n      } else {\n        this._activeMessage = null;\n      }\n    }\n    init() {\n      super.init(...arguments);\n      if (this.userCanChat) {\n        this.presenceChannel = this.presence.getChannel(\"/chat/online\");\n        (0, _userPresence.onPresenceChange)({\n          callback: this.onPresenceChangeCallback,\n          browserHiddenTime: 150000,\n          userUnseenTime: 150000\n        });\n      }\n    }\n    onPresenceChangeCallback(present) {\n      if (present) {\n        // NOTE: channels is more than a simple array, it also contains\n        // tracking and membership data, see Chat::StructuredChannelSerializer\n        this.chatApi.listCurrentUserChannels().then(channelsView => {\n          this.chatSubscriptionsManager.stopChannelsSubscriptions();\n          this.chatSubscriptionsManager.startChannelsSubscriptions(channelsView.meta.message_bus_last_ids);\n          [...channelsView.public_channels, ...channelsView.direct_message_channels].forEach(channelObject => {\n            this.chatChannelsManager.find(channelObject.id, {\n              fetchIfNotFound: false\n            }).then(channel => {\n              if (!channel) {\n                return;\n              }\n              // TODO (martin) We need to do something here for thread tracking\n              // state as well on presence change, otherwise we will be back in\n              // the same place as the channels were.\n              //\n              // At some point it would likely be better to just fetch an\n              // endpoint that gives you all channel tracking state and the\n              // thread tracking state for the current channel.\n\n              // ensures we have the latest message bus ids\n              channel.meta.message_bus_last_ids = channelObject.meta.message_bus_last_ids;\n              const state = channelsView.tracking.channel_tracking[channel.id];\n              channel.tracking.unreadCount = state.unread_count;\n              channel.tracking.mentionCount = state.mention_count;\n              channel.currentUserMembership = channelObject.current_user_membership;\n              this.chatSubscriptionsManager.startChannelSubscription(channel);\n            });\n          });\n        });\n      }\n    }\n    markNetworkAsUnreliable() {\n      (0, _runloop.cancel)(this._networkCheckHandler);\n      this.set(\"isNetworkUnreliable\", true);\n      this._networkCheckHandler = (0, _later.default)(() => {\n        if (this.isDestroyed || this.isDestroying) {\n          return;\n        }\n        this.markNetworkAsReliable();\n      }, 30000);\n    }\n    markNetworkAsReliable() {\n      (0, _runloop.cancel)(this._networkCheckHandler);\n      this.set(\"isNetworkUnreliable\", false);\n    }\n    setupWithPreloadedChannels(channelsView) {\n      this.chatSubscriptionsManager.startChannelsSubscriptions(channelsView.meta.message_bus_last_ids);\n      this.presenceChannel.subscribe(channelsView.global_presence_channel_state);\n      [...channelsView.public_channels, ...channelsView.direct_message_channels].forEach(channelObject => {\n        const storedChannel = this.chatChannelsManager.store(channelObject);\n        const storedDrafts = (this.currentUser?.chat_drafts || []).filter(draft => draft.channel_id === storedChannel.id);\n        storedDrafts.forEach(storedDraft => {\n          this.chatDraftsManager.add(_chatMessage.default.createDraftMessage(storedChannel, Object.assign({\n            user: this.currentUser\n          }, JSON.parse(storedDraft.data))), storedDraft.channel_id, storedDraft.thread_id);\n        });\n        if (channelsView.unread_thread_overview?.[storedChannel.id]) {\n          storedChannel.threadsManager.unreadThreadOverview = channelsView.unread_thread_overview[storedChannel.id];\n        }\n        return this.chatChannelsManager.follow(storedChannel);\n      });\n      this.chatTrackingStateManager.setupWithPreloadedState(channelsView.tracking);\n    }\n    willDestroy() {\n      super.willDestroy(...arguments);\n      if (this.userCanChat) {\n        this.chatSubscriptionsManager.stopChannelsSubscriptions();\n        (0, _userPresence.removeOnPresenceChange)(this.onPresenceChangeCallback);\n      }\n    }\n    updatePresence() {\n      (0, _runloop.next)(() => {\n        if (this.isDestroyed || this.isDestroying) {\n          return;\n        }\n        if (this.currentUser.user_option?.hide_profile_and_presence) {\n          return;\n        }\n        if (this.chatStateManager.isActive) {\n          this.presenceChannel.enter({\n            activeOptions: CHAT_ONLINE_OPTIONS\n          });\n        } else {\n          this.presenceChannel.leave();\n        }\n      });\n    }\n    getDocumentTitleCount() {\n      return this.chatNotificationManager.shouldCountChatInDocTitle() ? this.chatTrackingStateManager.allChannelUrgentCount : 0;\n    }\n    switchChannelUpOrDown(direction) {\n      const {\n        activeChannel\n      } = this;\n      if (!activeChannel) {\n        return; // Chat isn't open. Return and do nothing!\n      }\n      let currentList, otherList;\n      if (activeChannel.isDirectMessageChannel) {\n        currentList = this.chatChannelsManager.truncatedDirectMessageChannels;\n        otherList = this.chatChannelsManager.publicMessageChannels;\n      } else {\n        currentList = this.chatChannelsManager.publicMessageChannels;\n        otherList = this.chatChannelsManager.truncatedDirectMessageChannels;\n      }\n      const directionUp = direction === \"up\";\n      const currentChannelIndex = currentList.findIndex(c => c.id === activeChannel.id);\n      let nextChannelInSameList = currentList[currentChannelIndex + (directionUp ? -1 : 1)];\n      if (nextChannelInSameList) {\n        // You're navigating in the same list of channels, just use index +- 1\n        return this.router.transitionTo(\"chat.channel\", ...nextChannelInSameList.routeModels);\n      }\n\n      // You need to go to the next list of channels, if it exists.\n      const nextList = otherList.length ? otherList : currentList;\n      const nextChannel = directionUp ? nextList[nextList.length - 1] : nextList[0];\n      if (nextChannel.id !== activeChannel.id) {\n        return this.router.transitionTo(\"chat.channel\", ...nextChannel.routeModels);\n      }\n    }\n    getIdealFirstChannelId() {\n      // When user opens chat we need to give them the 'best' channel when they enter.\n      //\n      // Look for public channels with mentions. If one exists, enter that.\n      // Next best is a DM channel with unread messages.\n      // Next best is a public channel with unread messages.\n      // Then we fall back to the chat_default_channel_id site setting\n      // if that is present and in the list of channels the user can access.\n      // If none of these options exist, then we get the first public channel,\n      // or failing that the first DM channel.\n      // Defined in order of significance.\n      let publicChannelWithMention, dmChannelWithUnread, publicChannelWithUnread, publicChannel, dmChannel, defaultChannel;\n      this.chatChannelsManager.channels.forEach(channel => {\n        const membership = channel.currentUserMembership;\n        if (!membership.following) {\n          return;\n        }\n        if (channel.isDirectMessageChannel) {\n          if (!dmChannelWithUnread && channel.tracking.unreadCount > 0) {\n            dmChannelWithUnread = channel.id;\n          } else if (!dmChannel) {\n            dmChannel = channel.id;\n          }\n        } else {\n          if (membership.unread_mentions > 0) {\n            publicChannelWithMention = channel.id;\n            return; // <- We have a public channel with a mention. Break and return this.\n          } else if (!publicChannelWithUnread && channel.tracking.unreadCount > 0) {\n            publicChannelWithUnread = channel.id;\n          } else if (!defaultChannel && parseInt(this.siteSettings.chat_default_channel_id || 0, 10) === channel.id) {\n            defaultChannel = channel.id;\n          } else if (!publicChannel) {\n            publicChannel = channel.id;\n          }\n        }\n      });\n      return publicChannelWithMention || dmChannelWithUnread || publicChannelWithUnread || defaultChannel || publicChannel || dmChannel;\n    }\n    _fireOpenFloatAppEvent(channel, messageId = null) {\n      messageId ? this.router.transitionTo(\"chat.channel.near-message\", ...channel.routeModels, messageId) : this.router.transitionTo(\"chat.channel\", ...channel.routeModels);\n    }\n    async followChannel(channel) {\n      return this.chatChannelsManager.follow(channel);\n    }\n    async unfollowChannel(channel) {\n      return this.chatChannelsManager.unfollow(channel).then(() => {\n        if (channel === this.activeChannel && channel.isDirectMessageChannel) {\n          this.router.transitionTo(\"chat\");\n        }\n      });\n    }\n    upsertDmChannelForUser(channel, user) {\n      const usernames = (channel.chatable.users || []).mapBy(\"username\").concat(user.username).uniq();\n      return this.upsertDmChannelForUsernames(usernames);\n    }\n\n    // @param {array} usernames - The usernames to create or fetch the direct message\n    // channel for. The current user will automatically be included in the channel\n    // when it is created.\n    upsertDmChannelForUsernames(usernames, name = null) {\n      return (0, _ajax.ajax)(\"/chat/api/direct-message-channels.json\", {\n        method: \"POST\",\n        data: {\n          target_usernames: usernames.uniq(),\n          name\n        }\n      }).then(response => {\n        const channel = this.chatChannelsManager.store(response.channel);\n        this.chatChannelsManager.follow(channel);\n        return channel;\n      }).catch(_ajaxError.popupAjaxError);\n    }\n\n    // @param {array} usernames - The usernames to fetch the direct message\n    // channel for. The current user will automatically be included as a\n    // participant to fetch the channel for.\n    getDmChannelForUsernames(usernames) {\n      return (0, _ajax.ajax)(\"/chat/direct_messages.json\", {\n        data: {\n          usernames: usernames.uniq().join(\",\")\n        }\n      });\n    }\n    addToolbarButton() {\n      (0, _deprecated.default)(\"Use the new chat API `api.registerChatComposerButton` instead of `chat.addToolbarButton`\");\n    }\n    toggleDrawer() {\n      this.chatStateManager.didToggleDrawer();\n      this.appEvents.trigger(\"chat:toggle-expand\", this.chatStateManager.isDrawerExpanded);\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatApi\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"appEvents\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"currentUser\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"chatNotificationManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"chatSubscriptionsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"chatStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"chatDraftsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"presence\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"router\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"site\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"chatChannelsManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"chatTrackingStateManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"userCanChat\", [_dec], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"_activeMessage\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"_activeChannel\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return null;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"userCanDirectMessage\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"userCanDirectMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"userCanInteractWithChat\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"userCanInteractWithChat\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onPresenceChangeCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"onPresenceChangeCallback\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleDrawer\", [_object.action], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleDrawer\"), _class.prototype)), _class));\n});","define(\"discourse/plugins/chat/discourse/services/emoji-picker-scroll-observer\", [\"exports\", \"@glimmer/tracking\", \"@ember/service\", \"discourse-common/utils/decorators\"], function (_exports, _tracking, _service, _decorators) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _class, _descriptor, _descriptor2;\n  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n  function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'transform-class-properties is enabled and runs after the decorators transform.'); }\n  let EmojiPickerScrollObserver = _exports.default = (_class = class EmojiPickerScrollObserver extends _service.default {\n    constructor(...args) {\n      super(...args);\n      _initializerDefineProperty(this, \"chatEmojiPickerManager\", _descriptor, this);\n      _initializerDefineProperty(this, \"enabled\", _descriptor2, this);\n      _defineProperty(this, \"direction\", \"up\");\n      _defineProperty(this, \"prevYPosition\", 0);\n    }\n    _observerCallback(event) {\n      if (!this.enabled) {\n        return;\n      }\n      this._setScrollDirection(event.target);\n      const visibleSections = [...document.querySelectorAll(\".chat-emoji-picker__section\")].filter(sectionElement => this._isSectionVisibleInPicker(sectionElement, event.target));\n      if (visibleSections?.length) {\n        let sectionElement;\n        if (this.direction === \"up\" || this.prevYPosition < 50) {\n          sectionElement = visibleSections.firstObject;\n        } else {\n          sectionElement = visibleSections.lastObject;\n        }\n        this.chatEmojiPickerManager.lastVisibleSection = sectionElement.dataset.section;\n        this.chatEmojiPickerManager.addVisibleSections(visibleSections.map(s => s.dataset.section));\n      }\n    }\n    observe(element) {\n      element.addEventListener(\"scroll\", this._observerCallback);\n    }\n    unobserve(element) {\n      element.removeEventListener(\"scroll\", this._observerCallback);\n    }\n    _setScrollDirection(target) {\n      if (target.scrollTop > this.prevYPosition) {\n        this.direction = \"down\";\n      } else {\n        this.direction = \"up\";\n      }\n      this.prevYPosition = target.scrollTop;\n    }\n    _isSectionVisibleInPicker(section, picker) {\n      const {\n        bottom,\n        height,\n        top\n      } = section.getBoundingClientRect();\n      const containerRect = picker.getBoundingClientRect();\n      return top <= containerRect.top ? containerRect.top - top <= height : bottom - containerRect.bottom <= height;\n    }\n  }, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"chatEmojiPickerManager\", [_service.inject], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: null\n  }), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"enabled\", [_tracking.tracked], {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    initializer: function () {\n      return true;\n    }\n  }), _applyDecoratedDescriptor(_class.prototype, \"_observerCallback\", [_decorators.bind], Object.getOwnPropertyDescriptor(_class.prototype, \"_observerCallback\"), _class.prototype)), _class);\n});","define(\"discourse/plugins/chat/discourse/templates/admin-plugins-chat\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Admin::ExportMessages />\n  \n  {{#if this.selectedWebhook}}\n    <DButton\n      @icon=\"chevron-left\"\n      @label=\"chat.incoming_webhooks.back\"\n      @title=\"chat.incoming_webhooks.back\"\n      @action={{fn (mut this.selectedWebhookId) null}}\n      class=\"incoming-chat-webhooks-back\"\n    />\n  \n    <form class=\"form-vertical\">\n      <div class=\"control-group\">\n        <label class=\"control-label\">\n          {{i18n \"chat.incoming_webhooks.name\"}}\n        </label>\n        <Input\n          @type=\"text\"\n          @value={{this.selectedWebhook.name}}\n          placeholder={{i18n \"chat.incoming_webhooks.name\"}}\n        />\n      </div>\n  \n      <div class=\"control-group\">\n        <label class=\"control-label\">\n          {{i18n \"chat.incoming_webhooks.description\"}}\n        </label>\n        <Textarea @value={{this.selectedWebhook.description}} />\n      </div>\n  \n      <div class=\"control-group\">\n        <label class=\"control-label\">\n          {{i18n \"chat.incoming_webhooks.username\"}}\n        </label>\n        <Input\n          @type=\"text\"\n          @value={{this.selectedWebhook.username}}\n          placeholder={{i18n \"chat.incoming_webhooks.system\"}}\n        />\n        <div class=\"control-instructions\">\n          {{i18n \"chat.incoming_webhooks.username_instructions\"}}\n        </div>\n      </div>\n  \n      <div class=\"control-group\">\n        <label class=\"control-label\">\n          {{i18n \"chat.incoming_webhooks.post_to\"}}\n        </label>\n        <ChatChannelChooser\n          @content={{this.model.chat_channels}}\n          @value={{this.selectedWebhook.chat_channel.id}}\n          @onChange={{action \"changeChatChannel\"}}\n        />\n      </div>\n  \n      <div class=\"control-group\">\n        <label class=\"control-label\">\n          {{#if this.selectedWebhook.emoji}}\n            {{i18n \"chat.incoming_webhooks.current_emoji\"}}\n  \n            <span class=\"incoming-chat-webhooks-current-emoji\">\n              {{replace-emoji this.selectedWebhook.emoji}}\n            </span>\n          {{else}}\n            {{i18n \"chat.incoming_webhooks.no_emoji\"}}\n          {{/if}}\n        </label>\n  \n        <EmojiPicker\n          @isActive={{this.emojiPickerIsActive}}\n          @isEditorFocused={{true}}\n          @emojiSelected={{action \"emojiSelected\"}}\n          @onEmojiPickerClose={{action (mut this.emojiPickerIsActive) false}}\n        />\n  \n        {{#unless this.emojiPickerIsActive}}\n          <DButton\n            @label=\"chat.incoming_webhooks.select_emoji\"\n            @action={{fn (mut this.emojiPickerIsActive) true}}\n            class=\"btn-primary\"\n          />\n          <DButton\n            @label=\"chat.incoming_webhooks.reset_emoji\"\n            @action={{fn (mut this.selectedWebhook.emoji) null}}\n            @disabled={{not this.selectedWebhook.emoji}}\n          />\n        {{/unless}}\n  \n        <div class=\"control-instructions\">\n          {{i18n \"chat.incoming_webhooks.emoji_instructions\"}}\n        </div>\n      </div>\n  \n      <div class=\"control-group\">\n        <label class=\"control-label\">{{i18n \"chat.incoming_webhooks.url\"}}</label>\n        <label>{{this.selectedWebhook.url}}</label>\n        <div class=\"control-instructions\">\n          {{i18n \"chat.incoming_webhooks.url_instructions\"}}\n        </div>\n      </div>\n  \n      <DButton\n        @label=\"chat.incoming_webhooks.save\"\n        @title=\"chat.incoming_webhooks.save\"\n        @action={{this.saveEdit}}\n        @disabled={{this.saveEditDisabled}}\n        class=\"btn-primary\"\n      />\n    </form>\n  {{else}}\n    {{!  Index view   }}\n    <h3>{{i18n \"chat.incoming_webhooks.title\"}}</h3>\n  \n    {{#if this.creatingNew}}\n      <div class=\"new-incoming-webhook-container\">\n        <Input\n          @type=\"text\"\n          @value={{this.newWebhookName}}\n          placeholder={{i18n \"chat.incoming_webhooks.name_placeholder\"}}\n        />\n        <ChatChannelChooser\n          @content={{this.model.chat_channels}}\n          @value={{this.newWebhookChannelId}}\n          @onChange={{action (mut this.newWebhookChannelId)}}\n        />\n        <DButton\n          @label=\"chat.create\"\n          @title=\"chat.create\"\n          @disabled={{not this.nameAndChannelValid}}\n          @action={{this.createNewWebhook}}\n          class=\"btn-primary create-new-incoming-webhook-btn\"\n        />\n        <DButton\n          @label=\"chat.cancel\"\n          @title=\"chat.cancel\"\n          @action={{this.resetNewWebhook}}\n        />\n      </div>\n    {{else}}\n      <DButton\n        @label=\"chat.incoming_webhooks.new\"\n        @title=\"chat.incoming_webhooks.new\"\n        @action={{fn (mut this.creatingNew) true}}\n        class=\"btn-primary\"\n      />\n    {{/if}}\n  \n    <p>{{html-safe (i18n \"chat.incoming_webhooks.instructions\")}}</p>\n  \n    <div class=\"incoming-chat-webhooks\">\n      {{#if this.model.incoming_chat_webhooks}}\n        {{#each this.sortedWebhooks as |webhook|}}\n          <div class=\"incoming-chat-webhooks--row\">\n            <div class=\"incoming-chat-webhooks--row--details\">\n              <div class=\"incoming-chat-webhooks--row--details--name\">\n                {{webhook.name}}\n              </div>\n  \n              <div>\n                {{#if webhook.emoji}}\n                  {{replace-emoji webhook.emoji}}\n                {{/if}}\n  \n                {{#if webhook.username}}\n                  {{webhook.username}}\n                {{else}}\n                  {{i18n \"chat.incoming_webhooks.system\"}}\n                {{/if}}\n              </div>\n  \n              <div><ChannelTitle @channel={{webhook.chat_channel}} /></div>\n              <div>{{webhook.description}}</div>\n            </div>\n  \n            <div class=\"incoming-chat-webhooks--row--controls\">\n              <div>\n                <DButton\n                  @icon=\"pencil-alt\"\n                  @label=\"chat.incoming_webhooks.edit\"\n                  @action={{fn (mut this.selectedWebhookId) webhook.id}}\n                />\n                <DButton\n                  @icon=\"trash-alt\"\n                  @title=\"chat.incoming_webhooks.delete\"\n                  @action={{fn this.destroyWebhook webhook}}\n                  class=\"btn-danger\"\n                />\n              </div>\n            </div>\n          </div>\n        {{/each}}\n      {{else}}\n        {{i18n \"chat.incoming_webhooks.none\"}}\n      {{/if}}\n    </div>\n  {{/if}}\n  */\n  {\n    \"id\": \"E7ktcAjF\",\n    \"block\": \"[[[8,[39,0],null,null,null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"selectedWebhook\\\"]],[[[1,\\\"  \\\"],[8,[39,2],[[24,0,\\\"incoming-chat-webhooks-back\\\"]],[[\\\"@icon\\\",\\\"@label\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"chevron-left\\\",\\\"chat.incoming_webhooks.back\\\",\\\"chat.incoming_webhooks.back\\\",[28,[37,3],[[28,[37,4],[[30,0,[\\\"selectedWebhookId\\\"]]],null],null],null]]],null],[1,\\\"\\\\n\\\\n  \\\"],[10,\\\"form\\\"],[14,0,\\\"form-vertical\\\"],[12],[1,\\\"\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.name\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,6],[[16,\\\"placeholder\\\",[28,[37,5],[\\\"chat.incoming_webhooks.name\\\"],null]]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"selectedWebhook\\\",\\\"name\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.description\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,7],null,[[\\\"@value\\\"],[[30,0,[\\\"selectedWebhook\\\",\\\"description\\\"]]]],null],[1,\\\"    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.username\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,6],[[16,\\\"placeholder\\\",[28,[37,5],[\\\"chat.incoming_webhooks.system\\\"],null]]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"selectedWebhook\\\",\\\"username\\\"]]]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.username_instructions\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.post_to\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n      \\\"],[8,[39,8],null,[[\\\"@content\\\",\\\"@value\\\",\\\"@onChange\\\"],[[30,0,[\\\"model\\\",\\\"chat_channels\\\"]],[30,0,[\\\"selectedWebhook\\\",\\\"chat_channel\\\",\\\"id\\\"]],[28,[37,9],[[30,0],\\\"changeChatChannel\\\"],null]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"selectedWebhook\\\",\\\"emoji\\\"]],[[[1,\\\"          \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.current_emoji\\\"],null]],[1,\\\"\\\\n\\\\n          \\\"],[10,1],[14,0,\\\"incoming-chat-webhooks-current-emoji\\\"],[12],[1,\\\"\\\\n            \\\"],[1,[28,[35,10],[[30,0,[\\\"selectedWebhook\\\",\\\"emoji\\\"]]],null]],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"          \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.no_emoji\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"      \\\"],[13],[1,\\\"\\\\n\\\\n      \\\"],[8,[39,11],null,[[\\\"@isActive\\\",\\\"@isEditorFocused\\\",\\\"@emojiSelected\\\",\\\"@onEmojiPickerClose\\\"],[[30,0,[\\\"emojiPickerIsActive\\\"]],true,[28,[37,9],[[30,0],\\\"emojiSelected\\\"],null],[28,[37,9],[[30,0],[28,[37,4],[[30,0,[\\\"emojiPickerIsActive\\\"]]],null],false],null]]],null],[1,\\\"\\\\n\\\\n\\\"],[41,[51,[30,0,[\\\"emojiPickerIsActive\\\"]]],[[[1,\\\"        \\\"],[8,[39,2],[[24,0,\\\"btn-primary\\\"]],[[\\\"@label\\\",\\\"@action\\\"],[\\\"chat.incoming_webhooks.select_emoji\\\",[28,[37,3],[[28,[37,4],[[30,0,[\\\"emojiPickerIsActive\\\"]]],null],true],null]]],null],[1,\\\"\\\\n        \\\"],[8,[39,2],null,[[\\\"@label\\\",\\\"@action\\\",\\\"@disabled\\\"],[\\\"chat.incoming_webhooks.reset_emoji\\\",[28,[37,3],[[28,[37,4],[[30,0,[\\\"selectedWebhook\\\",\\\"emoji\\\"]]],null],null],null],[28,[37,13],[[30,0,[\\\"selectedWebhook\\\",\\\"emoji\\\"]]],null]]],null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.emoji_instructions\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[10,0],[14,0,\\\"control-group\\\"],[12],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,[28,[35,5],[\\\"chat.incoming_webhooks.url\\\"],null]],[13],[1,\\\"\\\\n      \\\"],[10,\\\"label\\\"],[12],[1,[30,0,[\\\"selectedWebhook\\\",\\\"url\\\"]]],[13],[1,\\\"\\\\n      \\\"],[10,0],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n        \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.url_instructions\\\"],null]],[1,\\\"\\\\n      \\\"],[13],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\\n    \\\"],[8,[39,2],[[24,0,\\\"btn-primary\\\"]],[[\\\"@label\\\",\\\"@title\\\",\\\"@action\\\",\\\"@disabled\\\"],[\\\"chat.incoming_webhooks.save\\\",\\\"chat.incoming_webhooks.save\\\",[30,0,[\\\"saveEdit\\\"]],[30,0,[\\\"saveEditDisabled\\\"]]]],null],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"  \\\"],[10,\\\"h3\\\"],[12],[1,[28,[35,5],[\\\"chat.incoming_webhooks.title\\\"],null]],[13],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"creatingNew\\\"]],[[[1,\\\"    \\\"],[10,0],[14,0,\\\"new-incoming-webhook-container\\\"],[12],[1,\\\"\\\\n      \\\"],[8,[39,6],[[16,\\\"placeholder\\\",[28,[37,5],[\\\"chat.incoming_webhooks.name_placeholder\\\"],null]]],[[\\\"@type\\\",\\\"@value\\\"],[\\\"text\\\",[30,0,[\\\"newWebhookName\\\"]]]],null],[1,\\\"\\\\n      \\\"],[8,[39,8],null,[[\\\"@content\\\",\\\"@value\\\",\\\"@onChange\\\"],[[30,0,[\\\"model\\\",\\\"chat_channels\\\"]],[30,0,[\\\"newWebhookChannelId\\\"]],[28,[37,9],[[30,0],[28,[37,4],[[30,0,[\\\"newWebhookChannelId\\\"]]],null]],null]]],null],[1,\\\"\\\\n      \\\"],[8,[39,2],[[24,0,\\\"btn-primary create-new-incoming-webhook-btn\\\"]],[[\\\"@label\\\",\\\"@title\\\",\\\"@disabled\\\",\\\"@action\\\"],[\\\"chat.create\\\",\\\"chat.create\\\",[28,[37,13],[[30,0,[\\\"nameAndChannelValid\\\"]]],null],[30,0,[\\\"createNewWebhook\\\"]]]],null],[1,\\\"\\\\n      \\\"],[8,[39,2],null,[[\\\"@label\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"chat.cancel\\\",\\\"chat.cancel\\\",[30,0,[\\\"resetNewWebhook\\\"]]]],null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"    \\\"],[8,[39,2],[[24,0,\\\"btn-primary\\\"]],[[\\\"@label\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"chat.incoming_webhooks.new\\\",\\\"chat.incoming_webhooks.new\\\",[28,[37,3],[[28,[37,4],[[30,0,[\\\"creatingNew\\\"]]],null],true],null]]],null],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"\\\\n  \\\"],[10,2],[12],[1,[28,[35,14],[[28,[37,5],[\\\"chat.incoming_webhooks.instructions\\\"],null]],null]],[13],[1,\\\"\\\\n\\\\n  \\\"],[10,0],[14,0,\\\"incoming-chat-webhooks\\\"],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"model\\\",\\\"incoming_chat_webhooks\\\"]],[[[42,[28,[37,16],[[28,[37,16],[[30,0,[\\\"sortedWebhooks\\\"]]],null]],null],null,[[[1,\\\"        \\\"],[10,0],[14,0,\\\"incoming-chat-webhooks--row\\\"],[12],[1,\\\"\\\\n          \\\"],[10,0],[14,0,\\\"incoming-chat-webhooks--row--details\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[14,0,\\\"incoming-chat-webhooks--row--details--name\\\"],[12],[1,\\\"\\\\n              \\\"],[1,[30,1,[\\\"name\\\"]]],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n\\\\n            \\\"],[10,0],[12],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"emoji\\\"]],[[[1,\\\"                \\\"],[1,[28,[35,10],[[30,1,[\\\"emoji\\\"]]],null]],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n\\\"],[41,[30,1,[\\\"username\\\"]],[[[1,\\\"                \\\"],[1,[30,1,[\\\"username\\\"]]],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"                \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.system\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"            \\\"],[13],[1,\\\"\\\\n\\\\n            \\\"],[10,0],[12],[8,[39,17],null,[[\\\"@channel\\\"],[[30,1,[\\\"chat_channel\\\"]]]],null],[13],[1,\\\"\\\\n            \\\"],[10,0],[12],[1,[30,1,[\\\"description\\\"]]],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n\\\\n          \\\"],[10,0],[14,0,\\\"incoming-chat-webhooks--row--controls\\\"],[12],[1,\\\"\\\\n            \\\"],[10,0],[12],[1,\\\"\\\\n              \\\"],[8,[39,2],null,[[\\\"@icon\\\",\\\"@label\\\",\\\"@action\\\"],[\\\"pencil-alt\\\",\\\"chat.incoming_webhooks.edit\\\",[28,[37,3],[[28,[37,4],[[30,0,[\\\"selectedWebhookId\\\"]]],null],[30,1,[\\\"id\\\"]]],null]]],null],[1,\\\"\\\\n              \\\"],[8,[39,2],[[24,0,\\\"btn-danger\\\"]],[[\\\"@icon\\\",\\\"@title\\\",\\\"@action\\\"],[\\\"trash-alt\\\",\\\"chat.incoming_webhooks.delete\\\",[28,[37,3],[[30,0,[\\\"destroyWebhook\\\"]],[30,1]],null]]],null],[1,\\\"\\\\n            \\\"],[13],[1,\\\"\\\\n          \\\"],[13],[1,\\\"\\\\n        \\\"],[13],[1,\\\"\\\\n\\\"]],[1]],null]],[]],[[[1,\\\"      \\\"],[1,[28,[35,5],[\\\"chat.incoming_webhooks.none\\\"],null]],[1,\\\"\\\\n\\\"]],[]]],[1,\\\"  \\\"],[13],[1,\\\"\\\\n\\\"]],[]]]],[\\\"webhook\\\"],false,[\\\"chat/admin/export-messages\\\",\\\"if\\\",\\\"d-button\\\",\\\"fn\\\",\\\"mut\\\",\\\"i18n\\\",\\\"input\\\",\\\"textarea\\\",\\\"chat-channel-chooser\\\",\\\"action\\\",\\\"replace-emoji\\\",\\\"emoji-picker\\\",\\\"unless\\\",\\\"not\\\",\\\"html-safe\\\",\\\"each\\\",\\\"-track-array\\\",\\\"channel-title\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/admin-plugins-chat.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-browse-all\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Browse @status=\"all\" />\n  */\n  {\n    \"id\": \"wstkeSHU\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@status\\\"],[\\\"all\\\"]],null]],[],false,[\\\"chat/routes/browse\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-browse-all.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-browse-archived\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Browse @status=\"archived\" />\n  */\n  {\n    \"id\": \"0DBy4MEk\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@status\\\"],[\\\"archived\\\"]],null]],[],false,[\\\"chat/routes/browse\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-browse-archived.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-browse-closed\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Browse @status=\"closed\" />\n  */\n  {\n    \"id\": \"qYrewYp6\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@status\\\"],[\\\"closed\\\"]],null]],[],false,[\\\"chat/routes/browse\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-browse-closed.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-browse-open\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Browse @status=\"open\" />\n  */\n  {\n    \"id\": \"Ha6JlJwA\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@status\\\"],[\\\"open\\\"]],null]],[],false,[\\\"chat/routes/browse\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-browse-open.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-browse\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{outlet}}\n  */\n  {\n    \"id\": \"bDDVU8Cl\",\n    \"block\": \"[[[46,[28,[37,1],null,null],null,null,null]],[],false,[\\\"component\\\",\\\"-outlet\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-browse.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel-info-members\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::ChannelInfoMembers @channel={{this.model}} />\n  */\n  {\n    \"id\": \"F/Of0pmn\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\"],[[30,0,[\\\"model\\\"]]]],null]],[],false,[\\\"chat/routes/channel-info-members\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel-info-members.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel-info-settings\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::ChannelInfoSettings @channel={{this.model}} />\n  */\n  {\n    \"id\": \"mUrk0Olg\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\"],[[30,0,[\\\"model\\\"]]]],null]],[],false,[\\\"chat/routes/channel-info-settings\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel-info-settings.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel-info\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::ChannelInfo @channel={{this.model}} />\n  */\n  {\n    \"id\": \"Ap9/cIrL\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\"],[[30,0,[\\\"model\\\"]]]],null]],[],false,[\\\"chat/routes/channel-info\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel-info.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel-thread\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::ChannelThread\n    @thread={{this.model}}\n    @targetMessageId={{this.targetMessageId}}\n  />\n  */\n  {\n    \"id\": \"dBCndVuI\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@thread\\\",\\\"@targetMessageId\\\"],[[30,0,[\\\"model\\\"]],[30,0,[\\\"targetMessageId\\\"]]]],null]],[],false,[\\\"chat/routes/channel-thread\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel-thread.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel-threads\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::ChannelThreads @channel={{this.model}} />\n  */\n  {\n    \"id\": \"neA2/I/Y\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\"],[[30,0,[\\\"model\\\"]]]],null]],[],false,[\\\"chat/routes/channel-threads\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel-threads.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-channel\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Channel\n    @channel={{this.model}}\n    @targetMessageId={{this.targetMessageId}}\n  />\n  */\n  {\n    \"id\": \"H/iqPgyD\",\n    \"block\": \"[[[8,[39,0],null,[[\\\"@channel\\\",\\\"@targetMessageId\\\"],[[30,0,[\\\"model\\\"]],[30,0,[\\\"targetMessageId\\\"]]]],null]],[],false,[\\\"chat/routes/channel\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-channel.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-index\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChannelsList />\n  */\n  {\n    \"id\": \"Okro16df\",\n    \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"channels-list\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-index.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat-threads\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <Chat::Routes::Threads />\n  */\n  {\n    \"id\": \"xde66Ckc\",\n    \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"chat/routes/threads\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat-threads.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/chat\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div id=\"chat-progress-bar-container\"></div>\n  \n  <ChatVh />\n  \n  {{#if this.chat.sidebarActive}}\n    <div class=\"full-page-chat teams-sidebar-on\">\n      {{outlet}}\n    </div>\n  {{else}}\n    <div\n      class={{concat-class\n        \"full-page-chat\"\n        (if this.shouldUseCoreSidebar \"full-page-chat-sidebar-enabled\")\n      }}\n    >\n      {{#if this.shouldUseChatSidebar}}\n        <ChannelsList />\n      {{/if}}\n  \n      <div\n        id=\"main-chat-outlet\"\n        class={{concat-class \"main-chat-outlet\" this.mainOutletModifierClasses}}\n      >\n        {{outlet}}\n      </div>\n    </div>\n  {{/if}}\n  */\n  {\n    \"id\": \"Ypgs0gJG\",\n    \"block\": \"[[[10,0],[14,1,\\\"chat-progress-bar-container\\\"],[12],[13],[1,\\\"\\\\n\\\\n\\\"],[8,[39,0],null,null,null],[1,\\\"\\\\n\\\\n\\\"],[41,[30,0,[\\\"chat\\\",\\\"sidebarActive\\\"]],[[[1,\\\"  \\\"],[10,0],[14,0,\\\"full-page-chat teams-sidebar-on\\\"],[12],[1,\\\"\\\\n    \\\"],[46,[28,[37,3],null,null],null,null,null],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[]],[[[1,\\\"  \\\"],[10,0],[15,0,[28,[37,4],[\\\"full-page-chat\\\",[52,[30,0,[\\\"shouldUseCoreSidebar\\\"]],\\\"full-page-chat-sidebar-enabled\\\"]],null]],[12],[1,\\\"\\\\n\\\"],[41,[30,0,[\\\"shouldUseChatSidebar\\\"]],[[[1,\\\"      \\\"],[8,[39,5],null,null,null],[1,\\\"\\\\n\\\"]],[]],null],[1,\\\"\\\\n    \\\"],[10,0],[14,1,\\\"main-chat-outlet\\\"],[15,0,[28,[37,4],[\\\"main-chat-outlet\\\",[30,0,[\\\"mainOutletModifierClasses\\\"]]],null]],[12],[1,\\\"\\\\n      \\\"],[46,[28,[37,3],null,null],null,null,null],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"]],[]]]],[],false,[\\\"chat-vh\\\",\\\"if\\\",\\\"component\\\",\\\"-outlet\\\",\\\"concat-class\\\",\\\"channels-list\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/chat.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-channel-message-emoji-picker-connector\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChatChannelMessageEmojiPicker />\n  */\n  {\n    \"id\": \"yzyIVLUg\",\n    \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"chat-channel-message-emoji-picker\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-channel-message-emoji-picker-connector.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-drawer-outlet\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <div class=\"chat-drawer-outlet-container\">\n    <ChatDrawer />\n  </div>\n  */\n  {\n    \"id\": \"dBkEnbeG\",\n    \"block\": \"[[[10,0],[14,0,\\\"chat-drawer-outlet-container\\\"],[12],[1,\\\"\\\\n  \\\"],[8,[39,0],null,null,null],[1,\\\"\\\\n\\\"],[13]],[],false,[\\\"chat-drawer\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-drawer-outlet.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-desktop-outlet\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChatMessageActionsDesktop />\n  */\n  {\n    \"id\": \"6ho8SpDw\",\n    \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"chat-message-actions-desktop\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-desktop-outlet.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-mobile-outlet\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChatMessageActionsMobile />\n  */\n  {\n    \"id\": \"dy8JR7Ux\",\n    \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"chat-message-actions-mobile\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/below-footer/chat-message-actions-mobile-outlet.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/home-logo-wrapper/chat-header-connector\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <ChatHeader>{{yield}}</ChatHeader>\n  */\n  {\n    \"id\": \"edqwta3S\",\n    \"block\": \"[[[8,[39,0],null,null,[[\\\"default\\\"],[[[[18,1,null]],[]]]]]],[\\\"&default\\\"],false,[\\\"chat-header\\\",\\\"yield\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/home-logo-wrapper/chat-header-connector.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/connectors/user-card-below-message-button/chat-button\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    {{#if this.user.can_chat_user}}\n    <Chat::UserCardButton @user={{this.user}} />\n  {{/if}}\n  */\n  {\n    \"id\": \"6Q54Siix\",\n    \"block\": \"[[[41,[30,0,[\\\"user\\\",\\\"can_chat_user\\\"]],[[[1,\\\"  \\\"],[8,[39,1],null,[[\\\"@user\\\"],[[30,0,[\\\"user\\\"]]]],null],[1,\\\"\\\\n\\\"]],[]],null]],[],false,[\\\"if\\\",\\\"chat/user-card-button\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/connectors/user-card-below-message-button/chat-button.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/templates/preferences/chat\", [\"exports\", \"@ember/template-factory\"], function (_exports, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _templateFactory.createTemplateFactory)(\n  /*\n    <label class=\"control-label\">{{i18n \"chat.title_capitalized\"}}</label>\n  \n  <div class=\"control-group chat-setting\" data-setting-name=\"user_chat_enabled\">\n    <label class=\"controls\">\n      <Input\n        id=\"user_chat_enabled\"\n        @type=\"checkbox\"\n        @checked={{this.model.user_option.chat_enabled}}\n      />\n      {{i18n \"chat.enable\"}}\n    </label>\n  </div>\n  \n  <div\n    class=\"control-group chat-setting\"\n    data-setting-name=\"user_chat_only_push_notifications\"\n  >\n    <label class=\"controls\">\n      <Input\n        id=\"user_chat_only_push_notifications\"\n        @type=\"checkbox\"\n        @checked={{this.model.user_option.only_chat_push_notifications}}\n      />\n      {{i18n \"chat.only_chat_push_notifications.title\"}}\n    </label>\n    <span class=\"control-instructions\">\n      {{i18n \"chat.only_chat_push_notifications.description\"}}\n    </span>\n  </div>\n  \n  <div\n    class=\"control-group chat-setting\"\n    data-setting-name=\"user_chat_ignore_channel_wide_mention\"\n  >\n    <label class=\"controls\">\n      <Input\n        id=\"user_chat_ignore_channel_wide_mention\"\n        @type=\"checkbox\"\n        @checked={{this.model.user_option.ignore_channel_wide_mention}}\n      />\n      {{i18n \"chat.ignore_channel_wide_mention.title\"}}\n    </label>\n    <span class=\"control-instructions\">\n      {{i18n \"chat.ignore_channel_wide_mention.description\"}}\n    </span>\n  </div>\n  \n  <div\n    class=\"control-group chat-setting controls-dropdown\"\n    data-setting-name=\"user_chat_sounds\"\n  >\n    <label for=\"user_chat_sounds\">{{i18n \"chat.sound.title\"}}</label>\n    <ComboBox\n      @options={{hash none=\"chat.sounds.none\"}}\n      @valueProperty=\"value\"\n      @content={{this.chatSounds}}\n      @value={{this.model.user_option.chat_sound}}\n      @id=\"user_chat_sounds\"\n      @onChange={{action \"onChangeChatSound\"}}\n    />\n  </div>\n  \n  <div\n    class=\"control-group chat-setting controls-dropdown\"\n    data-setting-name=\"user_chat_email_frequency\"\n  >\n    <label for=\"user_chat_email_frequency\">\n      {{i18n \"chat.email_frequency.title\"}}\n    </label>\n    <ComboBox\n      @valueProperty=\"value\"\n      @content={{this.emailFrequencyOptions}}\n      @value={{this.model.user_option.chat_email_frequency}}\n      @id=\"user_chat_email_frequency\"\n      @onChange={{action (mut this.model.user_option.chat_email_frequency)}}\n    />\n    {{#if (eq this.model.user_option.chat_email_frequency \"when_away\")}}\n      <div class=\"control-instructions\">\n        {{i18n \"chat.email_frequency.description\"}}\n      </div>\n    {{/if}}\n  </div>\n  \n  <div\n    class=\"control-group chat-setting controls-dropdown\"\n    data-setting-name=\"user_chat_header_indicator_preference\"\n  >\n    <label for=\"user_chat_header_indicator_preference\">\n      {{i18n \"chat.header_indicator_preference.title\"}}\n    </label>\n    <ComboBox\n      @valueProperty=\"value\"\n      @content={{this.headerIndicatorOptions}}\n      @value={{this.model.user_option.chat_header_indicator_preference}}\n      @id=\"user_chat_header_indicator_preference\"\n      @onChange={{action\n        (mut this.model.user_option.chat_header_indicator_preference)\n      }}\n    />\n  </div>\n  \n  <div\n    class=\"control-group chat-setting controls-dropdown\"\n    data-setting-name=\"user_chat_separate_sidebar_mode\"\n  >\n    <label for=\"user_chat_separate_sidebar_mode\">\n      {{i18n \"chat.separate_sidebar_mode.title\"}}\n    </label>\n  \n    <ComboBox\n      @valueProperty=\"value\"\n      @content={{this.chatSeparateSidebarModeOptions}}\n      @value={{this.chatSeparateSidebarMode}}\n      @id=\"user_chat_separate_sidebar_mode\"\n      @onChange={{action (mut this.model.user_option.chat_separate_sidebar_mode)}}\n    />\n  </div>\n  \n  <SaveControls\n    @id=\"user_chat_preference_save\"\n    @model={{this.model}}\n    @action={{action \"save\"}}\n    @saved={{this.saved}}\n  />\n  */\n  {\n    \"id\": \"Z9h+n7xC\",\n    \"block\": \"[[[10,\\\"label\\\"],[14,0,\\\"control-label\\\"],[12],[1,[28,[35,0],[\\\"chat.title_capitalized\\\"],null]],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_enabled\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,0,\\\"controls\\\"],[12],[1,\\\"\\\\n    \\\"],[8,[39,1],[[24,1,\\\"user_chat_enabled\\\"]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_enabled\\\"]]]],null],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.enable\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_only_push_notifications\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,0,\\\"controls\\\"],[12],[1,\\\"\\\\n    \\\"],[8,[39,1],[[24,1,\\\"user_chat_only_push_notifications\\\"]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"only_chat_push_notifications\\\"]]]],null],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.only_chat_push_notifications.title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n  \\\"],[10,1],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.only_chat_push_notifications.description\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_ignore_channel_wide_mention\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,0,\\\"controls\\\"],[12],[1,\\\"\\\\n    \\\"],[8,[39,1],[[24,1,\\\"user_chat_ignore_channel_wide_mention\\\"]],[[\\\"@type\\\",\\\"@checked\\\"],[\\\"checkbox\\\",[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"ignore_channel_wide_mention\\\"]]]],null],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.ignore_channel_wide_mention.title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n  \\\"],[10,1],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.ignore_channel_wide_mention.description\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting controls-dropdown\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_sounds\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"user_chat_sounds\\\"],[12],[1,[28,[35,0],[\\\"chat.sound.title\\\"],null]],[13],[1,\\\"\\\\n  \\\"],[8,[39,2],null,[[\\\"@options\\\",\\\"@valueProperty\\\",\\\"@content\\\",\\\"@value\\\",\\\"@id\\\",\\\"@onChange\\\"],[[28,[37,3],null,[[\\\"none\\\"],[\\\"chat.sounds.none\\\"]]],\\\"value\\\",[30,0,[\\\"chatSounds\\\"]],[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_sound\\\"]],\\\"user_chat_sounds\\\",[28,[37,4],[[30,0],\\\"onChangeChatSound\\\"],null]]],null],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting controls-dropdown\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_email_frequency\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"user_chat_email_frequency\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.email_frequency.title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n  \\\"],[8,[39,2],null,[[\\\"@valueProperty\\\",\\\"@content\\\",\\\"@value\\\",\\\"@id\\\",\\\"@onChange\\\"],[\\\"value\\\",[30,0,[\\\"emailFrequencyOptions\\\"]],[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_email_frequency\\\"]],\\\"user_chat_email_frequency\\\",[28,[37,4],[[30,0],[28,[37,5],[[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_email_frequency\\\"]]],null]],null]]],null],[1,\\\"\\\\n\\\"],[41,[28,[37,7],[[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_email_frequency\\\"]],\\\"when_away\\\"],null],[[[1,\\\"    \\\"],[10,0],[14,0,\\\"control-instructions\\\"],[12],[1,\\\"\\\\n      \\\"],[1,[28,[35,0],[\\\"chat.email_frequency.description\\\"],null]],[1,\\\"\\\\n    \\\"],[13],[1,\\\"\\\\n\\\"]],[]],null],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting controls-dropdown\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_header_indicator_preference\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"user_chat_header_indicator_preference\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.header_indicator_preference.title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n  \\\"],[8,[39,2],null,[[\\\"@valueProperty\\\",\\\"@content\\\",\\\"@value\\\",\\\"@id\\\",\\\"@onChange\\\"],[\\\"value\\\",[30,0,[\\\"headerIndicatorOptions\\\"]],[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_header_indicator_preference\\\"]],\\\"user_chat_header_indicator_preference\\\",[28,[37,4],[[30,0],[28,[37,5],[[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_header_indicator_preference\\\"]]],null]],null]]],null],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[10,0],[14,0,\\\"control-group chat-setting controls-dropdown\\\"],[14,\\\"data-setting-name\\\",\\\"user_chat_separate_sidebar_mode\\\"],[12],[1,\\\"\\\\n  \\\"],[10,\\\"label\\\"],[14,\\\"for\\\",\\\"user_chat_separate_sidebar_mode\\\"],[12],[1,\\\"\\\\n    \\\"],[1,[28,[35,0],[\\\"chat.separate_sidebar_mode.title\\\"],null]],[1,\\\"\\\\n  \\\"],[13],[1,\\\"\\\\n\\\\n  \\\"],[8,[39,2],null,[[\\\"@valueProperty\\\",\\\"@content\\\",\\\"@value\\\",\\\"@id\\\",\\\"@onChange\\\"],[\\\"value\\\",[30,0,[\\\"chatSeparateSidebarModeOptions\\\"]],[30,0,[\\\"chatSeparateSidebarMode\\\"]],\\\"user_chat_separate_sidebar_mode\\\",[28,[37,4],[[30,0],[28,[37,5],[[30,0,[\\\"model\\\",\\\"user_option\\\",\\\"chat_separate_sidebar_mode\\\"]]],null]],null]]],null],[1,\\\"\\\\n\\\"],[13],[1,\\\"\\\\n\\\\n\\\"],[8,[39,8],null,[[\\\"@id\\\",\\\"@model\\\",\\\"@action\\\",\\\"@saved\\\"],[\\\"user_chat_preference_save\\\",[30,0,[\\\"model\\\"]],[28,[37,4],[[30,0],\\\"save\\\"],null],[30,0,[\\\"saved\\\"]]]],null]],[],false,[\\\"i18n\\\",\\\"input\\\",\\\"combo-box\\\",\\\"hash\\\",\\\"action\\\",\\\"mut\\\",\\\"if\\\",\\\"eq\\\",\\\"save-controls\\\"]]\",\n    \"moduleName\": \"discourse/plugins/chat/discourse/templates/preferences/chat.hbs\",\n    \"isStrictMode\": false\n  });\n});","define(\"discourse/plugins/chat/discourse/widgets/chat-header-icon\", [\"exports\", \"discourse/widgets/render-glimmer\", \"discourse/widgets/widget\", \"@ember/template-factory\"], function (_exports, _renderGlimmer, _widget, _templateFactory) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = (0, _widget.createWidget)(\"chat-header-icon\", {\n    tagName: \"li.header-dropdown-toggle.chat-header-icon\",\n    services: [\"chat\"],\n    html() {\n      if (!this.chat.userCanChat) {\n        return;\n      }\n      return [new _renderGlimmer.default(this, \"div.widget-component-connector\", (0, _templateFactory.createTemplateFactory)(\n      /*\n        <Chat::Header::Icon />\n      */\n      {\n        \"id\": \"iNo9r7Qm\",\n        \"block\": \"[[[8,[39,0],null,null,null]],[],false,[\\\"chat/header/icon\\\"]]\",\n        \"moduleName\": \"/Users/laylaelwakhi/discourse/app/assets/javascripts/discourse/discourse/plugins/chat/discourse/widgets/chat-header-icon.js\",\n        \"isStrictMode\": false\n      }))];\n    }\n  });\n});","define(\"discourse/plugins/chat/lib/discourse-markdown/chat-transcript\", [\"exports\", \"pretty-text/emoji\", \"discourse-i18n\"], function (_exports, _emoji, _discourseI18n) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.setup = setup;\n  let customMarkdownCookFn;\n  const chatTranscriptRule = {\n    tag: \"chat\",\n    replace: function (state, tagInfo, content) {\n      // shouldn't really happen but we don't want to break rendering if it does\n      if (!customMarkdownCookFn) {\n        return;\n      }\n      const options = state.md.options.discourse;\n      const [username, messageIdStart, messageTimeStart] = tagInfo.attrs.quote && tagInfo.attrs.quote.split(\";\") || [];\n      const reactions = tagInfo.attrs.reactions;\n      const multiQuote = !!tagInfo.attrs.multiQuote;\n      const noLink = !!tagInfo.attrs.noLink;\n      const channelName = tagInfo.attrs.channel;\n      const channelId = tagInfo.attrs.channelId;\n      const threadId = tagInfo.attrs.threadId;\n      const threadTitle = tagInfo.attrs.threadTitle;\n      const channelLink = channelId ? options.getURL(`/chat/c/-/${channelId}`) : null;\n      if (!username || !messageIdStart || !messageTimeStart) {\n        return;\n      }\n      const isThread = threadId && content.includes(\"[chat\");\n      let wrapperDivToken = state.push(\"div_chat_transcript_wrap\", \"div\", 1);\n      if (channelName && multiQuote) {\n        let metaDivToken = state.push(\"div_chat_transcript_meta\", \"div\", 1);\n        metaDivToken.attrs = [[\"class\", \"chat-transcript-meta\"]];\n        const channelToken = state.push(\"html_inline\", \"\", 0);\n        const unescapedChannelName = (0, _emoji.performEmojiUnescape)(channelName, {\n          getURL: options.getURL,\n          emojiSet: options.emojiSet,\n          emojiCDNUrl: options.emojiCDNUrl,\n          enableEmojiShortcuts: options.enableEmojiShortcuts,\n          inlineEmoji: options.inlineEmoji,\n          lazy: true\n        });\n        channelToken.content = _discourseI18n.default.t(\"chat.quote.original_channel\", {\n          channel: unescapedChannelName,\n          channelLink\n        });\n        state.push(\"div_chat_transcript_meta\", \"div\", -1);\n      }\n      if (isThread) {\n        state.push(\"details_chat_transcript_wrap_open\", \"details\", 1);\n        state.push(\"summary_chat_transcript_open\", \"summary\", 1);\n        const threadToken = state.push(\"div_thread_open\", \"div\", 1);\n        threadToken.attrs = [[\"class\", \"chat-transcript-thread\"]];\n        const threadHeaderToken = state.push(\"div_thread_header_open\", \"div\", 1);\n        threadHeaderToken.attrs = [[\"class\", \"chat-transcript-thread-header\"]];\n        const thread_svg = state.push(\"svg_thread_header_open\", \"svg\", 1);\n        thread_svg.block = false;\n        thread_svg.attrs = [[\"class\", \"fa d-icon d-icon-discourse-threads svg-icon svg-node\"]];\n        state.push(thread_svg);\n        let thread_use = state.push(\"use_svg_thread_open\", \"use\", 1);\n        thread_use.block = false;\n        thread_use.attrs = [[\"href\", \"#discourse-threads\"]];\n        state.push(thread_use);\n        state.push(state.push(\"use_svg_thread_close\", \"use\", -1));\n        state.push(state.push(\"svg_thread_header_close\", \"svg\", -1));\n        const threadTitleContainerToken = state.push(\"span_thread_title_open\", \"span\", 1);\n        threadTitleContainerToken.attrs = [[\"class\", \"chat-transcript-thread-header__title\"]];\n        const threadTitleToken = state.push(\"html_inline\", \"\", 0);\n        const unescapedThreadTitle = (0, _emoji.performEmojiUnescape)(threadTitle, {\n          getURL: options.getURL,\n          emojiSet: options.emojiSet,\n          emojiCDNUrl: options.emojiCDNUrl,\n          enableEmojiShortcuts: options.enableEmojiShortcuts,\n          inlineEmoji: options.inlineEmoji,\n          lazy: true\n        });\n        threadTitleToken.content = unescapedThreadTitle ? unescapedThreadTitle : _discourseI18n.default.t(\"chat.quote.default_thread_title\");\n        state.push(\"span_thread_title_close\", \"span\", -1);\n        state.push(\"div_thread_header_close\", \"div\", -1);\n      }\n      let wrapperClasses = [\"chat-transcript\"];\n      if (tagInfo.attrs.chained) {\n        wrapperClasses.push(\"chat-transcript-chained\");\n      }\n      wrapperDivToken.attrs = [[\"class\", wrapperClasses.join(\" \")]];\n      wrapperDivToken.attrs.push([\"data-message-id\", messageIdStart]);\n      wrapperDivToken.attrs.push([\"data-username\", username]);\n      wrapperDivToken.attrs.push([\"data-datetime\", messageTimeStart]);\n      if (reactions) {\n        wrapperDivToken.attrs.push([\"data-reactions\", reactions]);\n      }\n      if (channelName) {\n        wrapperDivToken.attrs.push([\"data-channel-name\", channelName]);\n      }\n      if (channelId) {\n        wrapperDivToken.attrs.push([\"data-channel-id\", channelId]);\n      }\n      let userDivToken = state.push(\"div_chat_transcript_user\", \"div\", 1);\n      userDivToken.attrs = [[\"class\", \"chat-transcript-user\"]];\n\n      // start: user avatar\n      let avatarDivToken = state.push(\"div_chat_transcript_user_avatar\", \"div\", 1);\n      avatarDivToken.attrs = [[\"class\", \"chat-transcript-user-avatar\"]];\n\n      // server-side, we need to lookup the avatar from the username\n      let avatarImg;\n      if (options.lookupAvatar) {\n        avatarImg = options.lookupAvatar(username);\n      }\n      if (avatarImg) {\n        const avatarImgToken = state.push(\"html_inline\", \"\", 0);\n        avatarImgToken.content = avatarImg;\n      }\n      state.push(\"div_chat_transcript_user_avatar\", \"div\", -1);\n      // end: user avatar\n\n      // start: username\n      let usernameDivToken = state.push(\"div_chat_transcript_username\", \"div\", 1);\n      usernameDivToken.attrs = [[\"class\", \"chat-transcript-username\"]];\n      let displayName;\n      if (options.formatUsername) {\n        displayName = options.formatUsername(username);\n      } else {\n        displayName = username;\n      }\n      const usernameToken = state.push(\"html_inline\", \"\", 0);\n      usernameToken.content = displayName;\n      state.push(\"div_chat_transcript_username\", \"div\", -1);\n      // end: username\n\n      // start: time + link to message\n      let datetimeDivToken = state.push(\"div_chat_transcript_datetime\", \"div\", 1);\n      datetimeDivToken.attrs = [[\"class\", \"chat-transcript-datetime\"]];\n\n      // for some cases, like archiving, we don't want the link to the\n      // chat message because it will just result in a 404\n      // also handles the case where the quote doesn’t contain\n      // enough data to build a valid channel/message link\n      if (noLink || !channelLink) {\n        let spanToken = state.push(\"span_open\", \"span\", 1);\n        spanToken.attrs = [[\"title\", messageTimeStart]];\n        spanToken.block = false;\n        if (channelName && !multiQuote) {\n          let channelLinkToken = state.push(\"link_open\", \"a\", 1);\n          channelLinkToken.attrs = [[\"class\", \"chat-transcript-channel\"], [\"href\", channelLink]];\n          let inlineTextToken = state.push(\"html_inline\", \"\", 0);\n          inlineTextToken.content = `#${channelName}`;\n          channelLinkToken = state.push(\"link_close\", \"a\", -1);\n          channelLinkToken.block = false;\n        }\n        spanToken = state.push(\"span_close\", \"span\", -1);\n        spanToken.block = false;\n      } else {\n        let linkToken = state.push(\"link_open\", \"a\", 1);\n        linkToken.attrs = [[\"href\", `${channelLink}/${messageIdStart}`], [\"title\", messageTimeStart]];\n        linkToken.block = false;\n        linkToken = state.push(\"link_close\", \"a\", -1);\n        linkToken.block = false;\n      }\n      state.push(\"div_chat_transcript_datetime\", \"div\", -1);\n      // end: time + link to message\n\n      // start: channel link for !multiQuote\n      if (channelName && !multiQuote) {\n        let channelLinkToken = state.push(\"link_open\", \"a\", 1);\n        channelLinkToken.attrs = [[\"class\", \"chat-transcript-channel\"], [\"href\", channelLink]];\n        let inlineTextToken = state.push(\"html_inline\", \"\", 0);\n        inlineTextToken.content = `#${channelName}`;\n        channelLinkToken = state.push(\"link_close\", \"a\", -1);\n        channelLinkToken.block = false;\n      }\n      // end: channel link for !multiQuote\n\n      state.push(\"div_chat_transcript_user\", \"div\", -1);\n      let messagesToken = state.push(\"div_chat_transcript_messages\", \"div\", 1);\n      messagesToken.attrs = [[\"class\", \"chat-transcript-messages\"]];\n      if (isThread) {\n        const regex = /\\[chat/i;\n        const match = regex.exec(content);\n        if (match) {\n          const threadToken = state.push(\"html_raw\", \"\", 1);\n          threadToken.content = customMarkdownCookFn(content.substring(0, match.index));\n          state.push(\"html_raw\", \"\", -1);\n          state.push(\"div_thread_close\", \"div\", -1);\n          state.push(\"summary_chat_transcript_close\", \"summary\", -1);\n          const token = state.push(\"html_raw\", \"\", 1);\n          token.content = customMarkdownCookFn(content.substring(match.index));\n          state.push(\"html_raw\", \"\", -1);\n          state.push(\"details_chat_transcript_wrap_close\", \"details\", -1);\n        }\n      } else {\n        // rendering chat message content with limited markdown rule subset\n        const token = state.push(\"html_raw\", \"\", 1);\n        token.content = customMarkdownCookFn(content);\n        state.push(\"html_raw\", \"\", -1);\n      }\n      if (reactions) {\n        let emojiHtmlCache = {};\n        let reactionsToken = state.push(\"div_chat_transcript_reactions\", \"div\", 1);\n        reactionsToken.attrs = [[\"class\", \"chat-transcript-reactions\"]];\n        reactions.split(\";\").forEach(reaction => {\n          const split = reaction.split(\":\");\n          const emoji = split[0];\n          const usernames = split[1].split(\",\");\n          const reactToken = state.push(\"div_chat_transcript_reaction\", \"div\", 1);\n          reactToken.attrs = [[\"class\", \"chat-transcript-reaction\"]];\n          const emojiToken = state.push(\"html_inline\", \"\", 0);\n          if (!emojiHtmlCache[emoji]) {\n            emojiHtmlCache[emoji] = (0, _emoji.performEmojiUnescape)(`:${emoji}:`, {\n              getURL: options.getURL,\n              emojiSet: options.emojiSet,\n              emojiCDNUrl: options.emojiCDNUrl,\n              enableEmojiShortcuts: options.enableEmojiShortcuts,\n              inlineEmoji: options.inlineEmoji,\n              lazy: true\n            });\n          }\n          emojiToken.content = `${emojiHtmlCache[emoji]} ${usernames.length.toString()}`;\n          state.push(\"div_chat_transcript_reaction\", \"div\", -1);\n        });\n        state.push(\"div_chat_transcript_reactions\", \"div\", -1);\n      }\n      state.push(\"div_chat_transcript_messages\", \"div\", -1);\n      state.push(\"div_chat_transcript_wrap\", \"div\", -1);\n      return true;\n    }\n  };\n  function setup(helper) {\n    helper.allowList([\"svg[class=fa d-icon d-icon-discourse-threads svg-icon svg-node]\", \"use[href=#discourse-threads]\", \"div[class=chat-transcript]\", \"details[class=chat-transcript]\", \"div[class=chat-transcript chat-transcript-chained]\", \"details[class=chat-transcript chat-transcript-chained]\", \"div.chat-transcript-meta\", \"div.chat-transcript-user\", \"div.chat-transcript-username\", \"div.chat-transcript-user-avatar\", \"div.chat-transcript-messages\", \"div.chat-transcript-datetime\", \"div.chat-transcript-reactions\", \"div.chat-transcript-reaction\", \"span[title]\", \"div[data-message-id]\", \"div[data-channel-name]\", \"div[data-channel-id]\", \"div[data-username]\", \"div[data-datetime]\", \"a.chat-transcript-channel\", \"div.chat-transcript-thread\", \"div.chat-transcript-thread-header\", \"span.chat-transcript-thread-header__title\"]);\n    helper.registerOptions((opts, siteSettings) => {\n      opts.features[\"chat-transcript\"] = !!siteSettings.chat_enabled;\n    });\n    helper.registerPlugin(md => {\n      if (md.options.discourse.features[\"chat-transcript\"]) {\n        md.block.bbcode.ruler.push(\"chat-transcript\", chatTranscriptRule);\n      }\n    });\n    helper.buildCookFunction((opts, generateCookFunction) => {\n      if (!opts.discourse.additionalOptions?.chat) {\n        return;\n      }\n      const chatAdditionalOpts = opts.discourse.additionalOptions.chat;\n\n      // we need to be able to quote images from chat, but the image rule is usually\n      // banned for chat messages\n      const markdownItRules = chatAdditionalOpts.limited_pretty_text_markdown_rules.concat(\"image\");\n      generateCookFunction({\n        featuresOverride: chatAdditionalOpts.limited_pretty_text_features,\n        markdownItRules,\n        hashtagLookup: opts.discourse.hashtagLookup,\n        hashtagTypesInPriorityOrder: chatAdditionalOpts.hashtag_configurations[\"chat-composer\"],\n        hashtagIcons: opts.discourse.hashtagIcons\n      }, customCookFn => {\n        customMarkdownCookFn = customCookFn;\n      });\n    });\n  }\n});","define(\"discourse/plugins/chat/select-kit/addons/components/thread-notifications-button\", [\"exports\", \"select-kit/components/notifications-button\", \"discourse/plugins/chat/discourse/lib/chat-notification-levels\"], function (_exports, _notificationsButton, _chatNotificationLevels) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = void 0;\n  var _default = _exports.default = _notificationsButton.default.extend({\n    pluginApiIdentifiers: [\"thread-notifications-button\"],\n    classNames: [\"thread-notifications-button\"],\n    content: _chatNotificationLevels.threadNotificationButtonLevels,\n    selectKitOptions: {\n      i18nPrefix: \"chat.thread.notifications\",\n      showFullTitle: false,\n      btnCustomClasses: \"btn-flat\"\n    }\n  });\n});"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtlBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"chat.js"}